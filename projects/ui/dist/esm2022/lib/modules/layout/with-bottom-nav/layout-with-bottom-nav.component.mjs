import { AsyncPipe } from "@angular/common";
import { Component, input, ViewChild, inject, } from "@angular/core";
import { combineLatest, map, startWith } from "rxjs";
import { TaSharedMenuService } from "@ta/services";
import { TaBaseComponent } from "@ta/utils";
import * as i0 from "@angular/core";
export class LayoutWithBottomNavComponent extends TaBaseComponent {
    constructor() {
        super();
        this.type = input.required();
        this.sharedMenu = inject(TaSharedMenuService);
        this.isMinimized$ = combineLatest([
            this.sharedMenu.isMinimized$.pipe(startWith(false)),
            this.breakpoints.isDesktop$,
        ]).pipe(map((data) => ({
            isMinimized: data[0],
            isDesktop: data[1],
        })), map(({ isMinimized, isDesktop }) => isMinimized && isDesktop));
    }
    ngAfterViewChecked() {
        const clientHeight = this._bottomNav.nativeElement.clientHeight;
        const clientWidth = this._bottomNav.nativeElement.clientWidth;
        this._layoutContent.nativeElement.setAttribute("style", `padding-bottom: ${clientHeight + 10}px`);
        this._layoutContent.nativeElement.setAttribute("style", `width: ${window.screen.width - clientWidth}px`);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: LayoutWithBottomNavComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.1.0", version: "18.2.14", type: LayoutWithBottomNavComponent, isStandalone: true, selector: "ta-layout-with-bottom-nav", inputs: { type: { classPropertyName: "type", publicName: "type", isSignal: true, isRequired: true, transformFunction: null } }, viewQueries: [{ propertyName: "_bottomNav", first: true, predicate: ["bottomNavContainer"], descendants: true }, { propertyName: "_layoutContent", first: true, predicate: ["bottomLayoutContainer"], descendants: true }], usesInheritance: true, ngImport: i0, template: "<div\n  class=\"layout-container\"\n  [class.is-menu-minimized]=\"this.isMinimized$ | async\"\n>\n  <div class=\"layout-content-container\" #bottomLayoutContainer>\n    <div class=\"container\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n  <div class=\"bottom-nav-container\" #bottomNavContainer>\n    <ng-content select=\"ta-layout-nav\"></ng-content>\n  </div>\n</div>\n", styles: [".layout-container{display:flex;flex-direction:column;margin:0}.layout-container .layout-content-container{width:100%;overflow:hidden}@media screen and (min-width: 576px){.layout-container .layout-content-container{order:2}}.layout-container .layout-content-container .container{width:auto}@media screen and (min-width: 576px){.layout-container .layout-content-container .container{padding:var(--ta-components-header-top) var(--ta-space-md) 0 var(--ta-space-md);padding-bottom:var(--ta-space-sm)!important}}.layout-container .bottom-nav-container{width:100%}@media screen and (max-width: 575px){.layout-container .bottom-nav-container{position:fixed;bottom:0;left:0;right:0;z-index:2}}@media screen and (min-width: 576px){.layout-container .bottom-nav-container{position:sticky;width:100px;order:1}}@media screen and (min-width: 992px){.layout-container .bottom-nav-container{width:220px}}.layout-container.is-menu-minimized .bottom-nav-container{width:100px!important}\n"], dependencies: [{ kind: "pipe", type: AsyncPipe, name: "async" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: LayoutWithBottomNavComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-layout-with-bottom-nav", standalone: true, imports: [AsyncPipe], template: "<div\n  class=\"layout-container\"\n  [class.is-menu-minimized]=\"this.isMinimized$ | async\"\n>\n  <div class=\"layout-content-container\" #bottomLayoutContainer>\n    <div class=\"container\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n  <div class=\"bottom-nav-container\" #bottomNavContainer>\n    <ng-content select=\"ta-layout-nav\"></ng-content>\n  </div>\n</div>\n", styles: [".layout-container{display:flex;flex-direction:column;margin:0}.layout-container .layout-content-container{width:100%;overflow:hidden}@media screen and (min-width: 576px){.layout-container .layout-content-container{order:2}}.layout-container .layout-content-container .container{width:auto}@media screen and (min-width: 576px){.layout-container .layout-content-container .container{padding:var(--ta-components-header-top) var(--ta-space-md) 0 var(--ta-space-md);padding-bottom:var(--ta-space-sm)!important}}.layout-container .bottom-nav-container{width:100%}@media screen and (max-width: 575px){.layout-container .bottom-nav-container{position:fixed;bottom:0;left:0;right:0;z-index:2}}@media screen and (min-width: 576px){.layout-container .bottom-nav-container{position:sticky;width:100px;order:1}}@media screen and (min-width: 992px){.layout-container .bottom-nav-container{width:220px}}.layout-container.is-menu-minimized .bottom-nav-container{width:100px!important}\n"] }]
        }], ctorParameters: () => [], propDecorators: { _bottomNav: [{
                type: ViewChild,
                args: ["bottomNavContainer"]
            }], _layoutContent: [{
                type: ViewChild,
                args: ["bottomLayoutContainer"]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LXdpdGgtYm90dG9tLW5hdi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL21vZHVsZXMvbGF5b3V0L3dpdGgtYm90dG9tLW5hdi9sYXlvdXQtd2l0aC1ib3R0b20tbmF2LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvbW9kdWxlcy9sYXlvdXQvd2l0aC1ib3R0b20tbmF2L2xheW91dC13aXRoLWJvdHRvbS1uYXYuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzVDLE9BQU8sRUFFTCxTQUFTLEVBRVQsS0FBSyxFQUNMLFNBQVMsRUFDVCxNQUFNLEdBQ1AsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXJELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sV0FBVyxDQUFDOztBQVM1QyxNQUFNLE9BQU8sNEJBQ1gsU0FBUSxlQUFlO0lBd0J2QjtRQUNFLEtBQUssRUFBRSxDQUFDO1FBdEJWLFNBQUksR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFVLENBQUM7UUFRekIsZUFBVSxHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRXpDLGlCQUFZLEdBQUcsYUFBYSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVO1NBQzVCLENBQUMsQ0FBQyxJQUFJLENBQ0wsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2IsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDcEIsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDbkIsQ0FBQyxDQUFDLEVBQ0gsR0FBRyxDQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLFdBQVcsSUFBSSxTQUFTLENBQUMsQ0FDOUQsQ0FBQztJQUlGLENBQUM7SUFDRCxrQkFBa0I7UUFDaEIsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDO1FBQ2hFLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQztRQUU5RCxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQzVDLE9BQU8sRUFDUCxtQkFBbUIsWUFBWSxHQUFHLEVBQUUsSUFBSSxDQUN6QyxDQUFDO1FBQ0YsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUM1QyxPQUFPLEVBQ1AsVUFBVSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxXQUFXLElBQUksQ0FDaEQsQ0FBQztJQUNKLENBQUM7K0dBeENVLDRCQUE0QjttR0FBNUIsNEJBQTRCLHdjQ3RCekMsbVlBYUEsKy9CRE9ZLFNBQVM7OzRGQUVSLDRCQUE0QjtrQkFQeEMsU0FBUzsrQkFDRSwyQkFBMkIsY0FHekIsSUFBSSxXQUNQLENBQUMsU0FBUyxDQUFDO3dEQVNaLFVBQVU7c0JBRGpCLFNBQVM7dUJBQUMsb0JBQW9CO2dCQUl2QixjQUFjO3NCQURyQixTQUFTO3VCQUFDLHVCQUF1QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jUGlwZSB9IGZyb20gXCJAYW5ndWxhci9jb21tb25cIjtcbmltcG9ydCB7XG4gIEFmdGVyVmlld0NoZWNrZWQsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgaW5wdXQsXG4gIFZpZXdDaGlsZCxcbiAgaW5qZWN0LFxufSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5pbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBtYXAsIHN0YXJ0V2l0aCB9IGZyb20gXCJyeGpzXCI7XG5cbmltcG9ydCB7IFRhU2hhcmVkTWVudVNlcnZpY2UgfSBmcm9tIFwiQHRhL3NlcnZpY2VzXCI7XG5pbXBvcnQgeyBUYUJhc2VDb21wb25lbnQgfSBmcm9tIFwiQHRhL3V0aWxzXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogXCJ0YS1sYXlvdXQtd2l0aC1ib3R0b20tbmF2XCIsXG4gIHRlbXBsYXRlVXJsOiBcIi4vbGF5b3V0LXdpdGgtYm90dG9tLW5hdi5jb21wb25lbnQuaHRtbFwiLFxuICBzdHlsZVVybHM6IFtcIi4vbGF5b3V0LXdpdGgtYm90dG9tLW5hdi5jb21wb25lbnQuc2Nzc1wiXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW0FzeW5jUGlwZV0sXG59KVxuZXhwb3J0IGNsYXNzIExheW91dFdpdGhCb3R0b21OYXZDb21wb25lbnRcbiAgZXh0ZW5kcyBUYUJhc2VDb21wb25lbnRcbiAgaW1wbGVtZW50cyBBZnRlclZpZXdDaGVja2VkXG57XG4gIHR5cGUgPSBpbnB1dC5yZXF1aXJlZDxzdHJpbmc+KCk7XG5cbiAgQFZpZXdDaGlsZChcImJvdHRvbU5hdkNvbnRhaW5lclwiKVxuICBwcml2YXRlIF9ib3R0b21OYXYhOiBFbGVtZW50UmVmPEhUTUxEaXZFbGVtZW50PjtcblxuICBAVmlld0NoaWxkKFwiYm90dG9tTGF5b3V0Q29udGFpbmVyXCIpXG4gIHByaXZhdGUgX2xheW91dENvbnRlbnQhOiBFbGVtZW50UmVmPEhUTUxEaXZFbGVtZW50PjtcblxuICBwdWJsaWMgc2hhcmVkTWVudSA9IGluamVjdChUYVNoYXJlZE1lbnVTZXJ2aWNlKTtcblxuICBwdWJsaWMgaXNNaW5pbWl6ZWQkID0gY29tYmluZUxhdGVzdChbXG4gICAgdGhpcy5zaGFyZWRNZW51LmlzTWluaW1pemVkJC5waXBlKHN0YXJ0V2l0aChmYWxzZSkpLFxuICAgIHRoaXMuYnJlYWtwb2ludHMuaXNEZXNrdG9wJCxcbiAgXSkucGlwZShcbiAgICBtYXAoKGRhdGEpID0+ICh7XG4gICAgICBpc01pbmltaXplZDogZGF0YVswXSxcbiAgICAgIGlzRGVza3RvcDogZGF0YVsxXSxcbiAgICB9KSksXG4gICAgbWFwKCh7IGlzTWluaW1pemVkLCBpc0Rlc2t0b3AgfSkgPT4gaXNNaW5pbWl6ZWQgJiYgaXNEZXNrdG9wKVxuICApO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cbiAgbmdBZnRlclZpZXdDaGVja2VkKCk6IHZvaWQge1xuICAgIGNvbnN0IGNsaWVudEhlaWdodCA9IHRoaXMuX2JvdHRvbU5hdi5uYXRpdmVFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICBjb25zdCBjbGllbnRXaWR0aCA9IHRoaXMuX2JvdHRvbU5hdi5uYXRpdmVFbGVtZW50LmNsaWVudFdpZHRoO1xuXG4gICAgdGhpcy5fbGF5b3V0Q29udGVudC5uYXRpdmVFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgIFwic3R5bGVcIixcbiAgICAgIGBwYWRkaW5nLWJvdHRvbTogJHtjbGllbnRIZWlnaHQgKyAxMH1weGBcbiAgICApO1xuICAgIHRoaXMuX2xheW91dENvbnRlbnQubmF0aXZlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXG4gICAgICBcInN0eWxlXCIsXG4gICAgICBgd2lkdGg6ICR7d2luZG93LnNjcmVlbi53aWR0aCAtIGNsaWVudFdpZHRofXB4YFxuICAgICk7XG4gIH1cbn1cbiIsIjxkaXZcbiAgY2xhc3M9XCJsYXlvdXQtY29udGFpbmVyXCJcbiAgW2NsYXNzLmlzLW1lbnUtbWluaW1pemVkXT1cInRoaXMuaXNNaW5pbWl6ZWQkIHwgYXN5bmNcIlxuPlxuICA8ZGl2IGNsYXNzPVwibGF5b3V0LWNvbnRlbnQtY29udGFpbmVyXCIgI2JvdHRvbUxheW91dENvbnRhaW5lcj5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiYm90dG9tLW5hdi1jb250YWluZXJcIiAjYm90dG9tTmF2Q29udGFpbmVyPlxuICAgIDxuZy1jb250ZW50IHNlbGVjdD1cInRhLWxheW91dC1uYXZcIj48L25nLWNvbnRlbnQ+XG4gIDwvZGl2PlxuPC9kaXY+XG4iXX0=