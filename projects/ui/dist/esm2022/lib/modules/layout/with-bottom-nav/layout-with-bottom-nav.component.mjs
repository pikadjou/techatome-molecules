import { AsyncPipe } from "@angular/common";
import { Component, Input, ViewChild, inject, } from "@angular/core";
import { combineLatest, map, startWith } from "rxjs";
import { TaSharedMenuService } from "@ta/services";
import { TaBaseComponent } from "@ta/utils";
import * as i0 from "@angular/core";
export class LayoutWithBottomNavComponent extends TaBaseComponent {
    constructor() {
        super();
        this.sharedMenu = inject(TaSharedMenuService);
        this.isMinimized$ = combineLatest([
            this.sharedMenu.isMinimized$.pipe(startWith(false)),
            this.breakpoints.isDesktop$,
        ]).pipe(map((data) => ({
            isMinimized: data[0],
            isDesktop: data[1],
        })), map(({ isMinimized, isDesktop }) => isMinimized && isDesktop));
    }
    ngAfterViewChecked() {
        const clientHeight = this._bottomNav.nativeElement.clientHeight;
        const clientWidth = this._bottomNav.nativeElement.clientWidth;
        this._layoutContent.nativeElement.setAttribute("style", `padding-bottom: ${clientHeight + 10}px`);
        this._layoutContent.nativeElement.setAttribute("style", `width: ${window.screen.width - clientWidth}px`);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: LayoutWithBottomNavComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.14", type: LayoutWithBottomNavComponent, isStandalone: true, selector: "ta-layout-with-bottom-nav", inputs: { type: "type" }, viewQueries: [{ propertyName: "_bottomNav", first: true, predicate: ["bottomNavContainer"], descendants: true }, { propertyName: "_layoutContent", first: true, predicate: ["bottomLayoutContainer"], descendants: true }], usesInheritance: true, ngImport: i0, template: "<div\n  class=\"layout-container\"\n  [class.is-menu-minimized]=\"this.isMinimized$ | async\"\n>\n  <div class=\"layout-content-container\" #bottomLayoutContainer>\n    <div class=\"container\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n  <div class=\"bottom-nav-container\" #bottomNavContainer>\n    <ng-content select=\"ta-layout-nav\"></ng-content>\n  </div>\n</div>\n", styles: [".layout-container{display:flex;flex-direction:column;margin:0}.layout-container .layout-content-container{width:100%;overflow:hidden}@media screen and (min-width: 576px){.layout-container .layout-content-container{order:2}}.layout-container .layout-content-container .container{width:auto}@media screen and (min-width: 576px){.layout-container .layout-content-container .container{padding:var(--ta-components-header-top) var(--ta-space-md) 0 var(--ta-space-md);padding-bottom:var(--ta-space-sm)!important}}.layout-container .bottom-nav-container{width:100%}@media screen and (max-width: 575px){.layout-container .bottom-nav-container{position:fixed;bottom:0;left:0;right:0;z-index:2}}@media screen and (min-width: 576px){.layout-container .bottom-nav-container{position:sticky;width:100px;order:1}}@media screen and (min-width: 992px){.layout-container .bottom-nav-container{width:220px}}.layout-container.is-menu-minimized .bottom-nav-container{width:100px!important}\n"], dependencies: [{ kind: "pipe", type: AsyncPipe, name: "async" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: LayoutWithBottomNavComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-layout-with-bottom-nav", standalone: true, imports: [AsyncPipe], template: "<div\n  class=\"layout-container\"\n  [class.is-menu-minimized]=\"this.isMinimized$ | async\"\n>\n  <div class=\"layout-content-container\" #bottomLayoutContainer>\n    <div class=\"container\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n  <div class=\"bottom-nav-container\" #bottomNavContainer>\n    <ng-content select=\"ta-layout-nav\"></ng-content>\n  </div>\n</div>\n", styles: [".layout-container{display:flex;flex-direction:column;margin:0}.layout-container .layout-content-container{width:100%;overflow:hidden}@media screen and (min-width: 576px){.layout-container .layout-content-container{order:2}}.layout-container .layout-content-container .container{width:auto}@media screen and (min-width: 576px){.layout-container .layout-content-container .container{padding:var(--ta-components-header-top) var(--ta-space-md) 0 var(--ta-space-md);padding-bottom:var(--ta-space-sm)!important}}.layout-container .bottom-nav-container{width:100%}@media screen and (max-width: 575px){.layout-container .bottom-nav-container{position:fixed;bottom:0;left:0;right:0;z-index:2}}@media screen and (min-width: 576px){.layout-container .bottom-nav-container{position:sticky;width:100px;order:1}}@media screen and (min-width: 992px){.layout-container .bottom-nav-container{width:220px}}.layout-container.is-menu-minimized .bottom-nav-container{width:100px!important}\n"] }]
        }], ctorParameters: () => [], propDecorators: { type: [{
                type: Input
            }], _bottomNav: [{
                type: ViewChild,
                args: ["bottomNavContainer"]
            }], _layoutContent: [{
                type: ViewChild,
                args: ["bottomLayoutContainer"]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LXdpdGgtYm90dG9tLW5hdi5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL21vZHVsZXMvbGF5b3V0L3dpdGgtYm90dG9tLW5hdi9sYXlvdXQtd2l0aC1ib3R0b20tbmF2LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvbW9kdWxlcy9sYXlvdXQvd2l0aC1ib3R0b20tbmF2L2xheW91dC13aXRoLWJvdHRvbS1uYXYuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzVDLE9BQU8sRUFFTCxTQUFTLEVBRVQsS0FBSyxFQUNMLFNBQVMsRUFDVCxNQUFNLEdBQ1AsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXJELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sV0FBVyxDQUFDOztBQVM1QyxNQUFNLE9BQU8sNEJBQ1gsU0FBUSxlQUFlO0lBeUJ2QjtRQUNFLEtBQUssRUFBRSxDQUFDO1FBZEgsZUFBVSxHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRXpDLGlCQUFZLEdBQUcsYUFBYSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVO1NBQzVCLENBQUMsQ0FBQyxJQUFJLENBQ0wsR0FBRyxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ2IsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDcEIsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDbkIsQ0FBQyxDQUFDLEVBQ0gsR0FBRyxDQUFDLENBQUMsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxDQUFDLFdBQVcsSUFBSSxTQUFTLENBQUMsQ0FDOUQsQ0FBQztJQUlGLENBQUM7SUFDRCxrQkFBa0I7UUFDaEIsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDO1FBQ2hFLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLFdBQVcsQ0FBQztRQUU5RCxJQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQzVDLE9BQU8sRUFDUCxtQkFBbUIsWUFBWSxHQUFHLEVBQUUsSUFBSSxDQUN6QyxDQUFDO1FBQ0YsSUFBSSxDQUFDLGNBQWMsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUM1QyxPQUFPLEVBQ1AsVUFBVSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxXQUFXLElBQUksQ0FDaEQsQ0FBQztJQUNKLENBQUM7K0dBekNVLDRCQUE0QjttR0FBNUIsNEJBQTRCLGtXQ3RCekMsbVlBYUEsKy9CRE9ZLFNBQVM7OzRGQUVSLDRCQUE0QjtrQkFQeEMsU0FBUzsrQkFDRSwyQkFBMkIsY0FHekIsSUFBSSxXQUNQLENBQUMsU0FBUyxDQUFDO3dEQU9wQixJQUFJO3NCQURILEtBQUs7Z0JBSUUsVUFBVTtzQkFEakIsU0FBUzt1QkFBQyxvQkFBb0I7Z0JBSXZCLGNBQWM7c0JBRHJCLFNBQVM7dUJBQUMsdUJBQXVCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXN5bmNQaXBlIH0gZnJvbSBcIkBhbmd1bGFyL2NvbW1vblwiO1xuaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3Q2hlY2tlZCxcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBJbnB1dCxcbiAgVmlld0NoaWxkLFxuICBpbmplY3QsXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5cbmltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIG1hcCwgc3RhcnRXaXRoIH0gZnJvbSBcInJ4anNcIjtcblxuaW1wb3J0IHsgVGFTaGFyZWRNZW51U2VydmljZSB9IGZyb20gXCJAdGEvc2VydmljZXNcIjtcbmltcG9ydCB7IFRhQmFzZUNvbXBvbmVudCB9IGZyb20gXCJAdGEvdXRpbHNcIjtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiBcInRhLWxheW91dC13aXRoLWJvdHRvbS1uYXZcIixcbiAgdGVtcGxhdGVVcmw6IFwiLi9sYXlvdXQtd2l0aC1ib3R0b20tbmF2LmNvbXBvbmVudC5odG1sXCIsXG4gIHN0eWxlVXJsczogW1wiLi9sYXlvdXQtd2l0aC1ib3R0b20tbmF2LmNvbXBvbmVudC5zY3NzXCJdLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbQXN5bmNQaXBlXSxcbn0pXG5leHBvcnQgY2xhc3MgTGF5b3V0V2l0aEJvdHRvbU5hdkNvbXBvbmVudFxuICBleHRlbmRzIFRhQmFzZUNvbXBvbmVudFxuICBpbXBsZW1lbnRzIEFmdGVyVmlld0NoZWNrZWRcbntcbiAgQElucHV0KClcbiAgdHlwZSE6IHN0cmluZztcblxuICBAVmlld0NoaWxkKFwiYm90dG9tTmF2Q29udGFpbmVyXCIpXG4gIHByaXZhdGUgX2JvdHRvbU5hdiE6IEVsZW1lbnRSZWY8SFRNTERpdkVsZW1lbnQ+O1xuXG4gIEBWaWV3Q2hpbGQoXCJib3R0b21MYXlvdXRDb250YWluZXJcIilcbiAgcHJpdmF0ZSBfbGF5b3V0Q29udGVudCE6IEVsZW1lbnRSZWY8SFRNTERpdkVsZW1lbnQ+O1xuXG4gIHB1YmxpYyBzaGFyZWRNZW51ID0gaW5qZWN0KFRhU2hhcmVkTWVudVNlcnZpY2UpO1xuXG4gIHB1YmxpYyBpc01pbmltaXplZCQgPSBjb21iaW5lTGF0ZXN0KFtcbiAgICB0aGlzLnNoYXJlZE1lbnUuaXNNaW5pbWl6ZWQkLnBpcGUoc3RhcnRXaXRoKGZhbHNlKSksXG4gICAgdGhpcy5icmVha3BvaW50cy5pc0Rlc2t0b3AkLFxuICBdKS5waXBlKFxuICAgIG1hcCgoZGF0YSkgPT4gKHtcbiAgICAgIGlzTWluaW1pemVkOiBkYXRhWzBdLFxuICAgICAgaXNEZXNrdG9wOiBkYXRhWzFdLFxuICAgIH0pKSxcbiAgICBtYXAoKHsgaXNNaW5pbWl6ZWQsIGlzRGVza3RvcCB9KSA9PiBpc01pbmltaXplZCAmJiBpc0Rlc2t0b3ApXG4gICk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuICBuZ0FmdGVyVmlld0NoZWNrZWQoKTogdm9pZCB7XG4gICAgY29uc3QgY2xpZW50SGVpZ2h0ID0gdGhpcy5fYm90dG9tTmF2Lm5hdGl2ZUVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IGNsaWVudFdpZHRoID0gdGhpcy5fYm90dG9tTmF2Lm5hdGl2ZUVsZW1lbnQuY2xpZW50V2lkdGg7XG5cbiAgICB0aGlzLl9sYXlvdXRDb250ZW50Lm5hdGl2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgXCJzdHlsZVwiLFxuICAgICAgYHBhZGRpbmctYm90dG9tOiAke2NsaWVudEhlaWdodCArIDEwfXB4YFxuICAgICk7XG4gICAgdGhpcy5fbGF5b3V0Q29udGVudC5uYXRpdmVFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgIFwic3R5bGVcIixcbiAgICAgIGB3aWR0aDogJHt3aW5kb3cuc2NyZWVuLndpZHRoIC0gY2xpZW50V2lkdGh9cHhgXG4gICAgKTtcbiAgfVxufVxuIiwiPGRpdlxuICBjbGFzcz1cImxheW91dC1jb250YWluZXJcIlxuICBbY2xhc3MuaXMtbWVudS1taW5pbWl6ZWRdPVwidGhpcy5pc01pbmltaXplZCQgfCBhc3luY1wiXG4+XG4gIDxkaXYgY2xhc3M9XCJsYXlvdXQtY29udGVudC1jb250YWluZXJcIiAjYm90dG9tTGF5b3V0Q29udGFpbmVyPlxuICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJib3R0b20tbmF2LWNvbnRhaW5lclwiICNib3R0b21OYXZDb250YWluZXI+XG4gICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwidGEtbGF5b3V0LW5hdlwiPjwvbmctY29udGVudD5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==