import { NgIf } from "@angular/common";
import { CUSTOM_ELEMENTS_SCHEMA, Component, input, } from "@angular/core";
import { MatMenuModule } from "@angular/material/menu";
import { FontIconComponent } from "@ta/icons";
import { TaBaseComponent } from "@ta/utils";
import { TemplateModalContainer, } from "../../layout-modal/layout-modal-container/layout-modal-container.component";
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "@angular/material/menu";
export class LayoutHeaderLogoComponent extends TaBaseComponent {
    constructor(_modal) {
        super();
        this._modal = _modal;
        this.profile = input(null);
        this.notificationTemplate = input(null);
        this.askClosing$ = input(undefined);
    }
    userInfo() {
        if (!this.profile()) {
            return {
                naming: null,
                profilePictureUrl: "",
            };
        }
        return {
            naming: this.profile().user.naming,
            profilePictureUrl: this.profile().user.profilePictureUrl,
        };
    }
    goToHome() {
        this._router.navigateByUrl("/");
    }
    openProfile() {
        if (!this.profile()?.template) {
            return;
        }
        this._modal.open(TemplateModalContainer, {
            data: {
                template: this.profile().template,
                askClosing$: this.askClosing$(),
            },
        });
    }
    openNotification() {
        if (!this.notificationTemplate()) {
            return;
        }
        this._modal.open(TemplateModalContainer, {
            data: {
                template: this.notificationTemplate(),
                askClosing$: this.askClosing$(),
            },
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: LayoutHeaderLogoComponent, deps: [{ token: i1.MatDialog }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: LayoutHeaderLogoComponent, isStandalone: true, selector: "ta-layout-header-logo", inputs: { profile: { classPropertyName: "profile", publicName: "profile", isSignal: true, isRequired: false, transformFunction: null }, notificationTemplate: { classPropertyName: "notificationTemplate", publicName: "notificationTemplate", isSignal: true, isRequired: false, transformFunction: null }, askClosing$: { classPropertyName: "askClosing$", publicName: "askClosing$", isSignal: true, isRequired: false, transformFunction: null } }, usesInheritance: true, ngImport: i0, template: "<div class=\"icons row align-items-center\">\n  <div class=\"image col-2\">\n    <ta-user-logo [userInfo]=\"this.userInfo()\" size=\"lg\" (click)=\"this.openProfile()\"></ta-user-logo>\n  </div>\n\n  <div class=\"title col-8\">\n    <ta-logo (click)=\"this.goToHome()\" color=\"black\"></ta-logo>\n  </div>\n\n  <div class=\"notif col-2\">\n    <ta-font-icon\n      name=\"notifications\"\n      type=\"lg\"\n      [class.disabled]=\"!this.notificationTemplate\"\n      (click)=\"this.openNotification()\"\n    ></ta-font-icon>\n  </div>\n</div>\n\n<mat-menu #showNotificationTemplate=\"matMenu\">\n  @if (this.notificationTemplate()) {\n    <ng-template *ngTemplateOutlet=\"this.notificationTemplate()\"></ng-template>\n  }\n</mat-menu>\n\n<mat-menu #showProfileTemplate=\"matMenu\">\n  @if (this.profile()) {\n    <ng-template *ngTemplateOutlet=\"this.profile().template\"></ng-template>\n  }\n</mat-menu>\n", styles: [".icons{-webkit-user-select:none;user-select:none}.icons .image{text-align:left}.icons .image img{width:28px;height:auto;border-radius:100px}.icons .title{text-align:center}.icons .title ta-logo{display:block;width:60px;height:auto;border-radius:5px;margin:auto}.icons .notif{text-align:right}.icons .notif.disabled{color:var(--ta-icon-disabled)}ta-font-icon{padding:var(--ta-space-xs);cursor:pointer;display:block}\n"], dependencies: [{ kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "ngmodule", type: MatMenuModule }, { kind: "component", type: i2.MatMenu, selector: "mat-menu", inputs: ["backdropClass", "aria-label", "aria-labelledby", "aria-describedby", "xPosition", "yPosition", "overlapTrigger", "hasBackdrop", "class", "classList"], outputs: ["closed", "close"], exportAs: ["matMenu"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: LayoutHeaderLogoComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-layout-header-logo", standalone: true, imports: [NgIf, FontIconComponent, MatMenuModule], schemas: [CUSTOM_ELEMENTS_SCHEMA], template: "<div class=\"icons row align-items-center\">\n  <div class=\"image col-2\">\n    <ta-user-logo [userInfo]=\"this.userInfo()\" size=\"lg\" (click)=\"this.openProfile()\"></ta-user-logo>\n  </div>\n\n  <div class=\"title col-8\">\n    <ta-logo (click)=\"this.goToHome()\" color=\"black\"></ta-logo>\n  </div>\n\n  <div class=\"notif col-2\">\n    <ta-font-icon\n      name=\"notifications\"\n      type=\"lg\"\n      [class.disabled]=\"!this.notificationTemplate\"\n      (click)=\"this.openNotification()\"\n    ></ta-font-icon>\n  </div>\n</div>\n\n<mat-menu #showNotificationTemplate=\"matMenu\">\n  @if (this.notificationTemplate()) {\n    <ng-template *ngTemplateOutlet=\"this.notificationTemplate()\"></ng-template>\n  }\n</mat-menu>\n\n<mat-menu #showProfileTemplate=\"matMenu\">\n  @if (this.profile()) {\n    <ng-template *ngTemplateOutlet=\"this.profile().template\"></ng-template>\n  }\n</mat-menu>\n", styles: [".icons{-webkit-user-select:none;user-select:none}.icons .image{text-align:left}.icons .image img{width:28px;height:auto;border-radius:100px}.icons .title{text-align:center}.icons .title ta-logo{display:block;width:60px;height:auto;border-radius:5px;margin:auto}.icons .notif{text-align:right}.icons .notif.disabled{color:var(--ta-icon-disabled)}ta-font-icon{padding:var(--ta-space-xs);cursor:pointer;display:block}\n"] }]
        }], ctorParameters: () => [{ type: i1.MatDialog }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LWhlYWRlci1sb2dvLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvbW9kdWxlcy9sYXlvdXQvbGF5b3V0LWhlYWRlci9sYXlvdXQtaGVhZGVyLWxvZ28vbGF5b3V0LWhlYWRlci1sb2dvLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvbW9kdWxlcy9sYXlvdXQvbGF5b3V0LWhlYWRlci9sYXlvdXQtaGVhZGVyLWxvZ28vbGF5b3V0LWhlYWRlci1sb2dvLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2QyxPQUFPLEVBQ0wsc0JBQXNCLEVBQ3RCLFNBQVMsRUFDVCxLQUFLLEdBRU4sTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRXZELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUM5QyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRzVDLE9BQU8sRUFDTCxzQkFBc0IsR0FFdkIsTUFBTSw0RUFBNEUsQ0FBQzs7OztBQWdCcEYsTUFBTSxPQUFPLHlCQUEwQixTQUFRLGVBQWU7SUFVNUQsWUFBb0IsTUFBaUI7UUFDbkMsS0FBSyxFQUFFLENBQUM7UUFEVSxXQUFNLEdBQU4sTUFBTSxDQUFXO1FBVHJDLFlBQU8sR0FBRyxLQUFLLENBR0wsSUFBSSxDQUFDLENBQUM7UUFFaEIseUJBQW9CLEdBQUcsS0FBSyxDQUEwQixJQUFJLENBQUMsQ0FBQztRQUU1RCxnQkFBVyxHQUFHLEtBQUssQ0FBK0IsU0FBUyxDQUFDLENBQUM7SUFJN0QsQ0FBQztJQUVNLFFBQVE7UUFJYixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUM7WUFDcEIsT0FBTztnQkFDTCxNQUFNLEVBQUUsSUFBSTtnQkFDWixpQkFBaUIsRUFBRSxFQUFFO2FBQ3RCLENBQUM7UUFDSixDQUFDO1FBQ0QsT0FBTztZQUNMLE1BQU0sRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFHLENBQUMsSUFBSSxDQUFDLE1BQU07WUFDbkMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRyxDQUFDLElBQUksQ0FBQyxpQkFBaUI7U0FDMUQsQ0FBQztJQUNKLENBQUM7SUFFTSxRQUFRO1FBQ2IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUNNLFdBQVc7UUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQztZQUM5QixPQUFPO1FBQ1QsQ0FBQztRQUNELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUNkLHNCQUFzQixFQUN0QjtZQUNFLElBQUksRUFBRTtnQkFDSixRQUFRLEVBQUUsSUFBSSxDQUFDLE9BQU8sRUFBRyxDQUFDLFFBQVE7Z0JBQ2xDLFdBQVcsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFO2FBQ2hDO1NBQ0YsQ0FDRixDQUFDO0lBQ0osQ0FBQztJQUVNLGdCQUFnQjtRQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLEVBQUUsQ0FBQztZQUNqQyxPQUFPO1FBQ1QsQ0FBQztRQUNELElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUNkLHNCQUFzQixFQUN0QjtZQUNFLElBQUksRUFBRTtnQkFDSixRQUFRLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixFQUFHO2dCQUN0QyxXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVcsRUFBRTthQUNoQztTQUNGLENBQ0YsQ0FBQztJQUNKLENBQUM7K0dBN0RVLHlCQUF5QjttR0FBekIseUJBQXlCLGlpQkNqQ3RDLCs0QkE4QkEsMGREQWtCLGlCQUFpQixrRkFBRSxhQUFhOzs0RkFHckMseUJBQXlCO2tCQVJyQyxTQUFTOytCQUNFLHVCQUF1QixjQUdyQixJQUFJLFdBQ1AsQ0FBQyxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsYUFBYSxDQUFDLFdBQ3hDLENBQUMsc0JBQXNCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ0lmIH0gZnJvbSBcIkBhbmd1bGFyL2NvbW1vblwiO1xuaW1wb3J0IHtcbiAgQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSxcbiAgQ29tcG9uZW50LFxuICBpbnB1dCxcbiAgVGVtcGxhdGVSZWYsXG59IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBNYXREaWFsb2cgfSBmcm9tIFwiQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nXCI7XG5pbXBvcnQgeyBNYXRNZW51TW9kdWxlIH0gZnJvbSBcIkBhbmd1bGFyL21hdGVyaWFsL21lbnVcIjtcblxuaW1wb3J0IHsgRm9udEljb25Db21wb25lbnQgfSBmcm9tIFwiQHRhL2ljb25zXCI7XG5pbXBvcnQgeyBUYUJhc2VDb21wb25lbnQgfSBmcm9tIFwiQHRhL3V0aWxzXCI7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSBcInJ4anNcIjtcblxuaW1wb3J0IHtcbiAgVGVtcGxhdGVNb2RhbENvbnRhaW5lcixcbiAgVGVtcGxhdGVNb2RhbENvbnRhaW5lckRhdGEsXG59IGZyb20gXCIuLi8uLi9sYXlvdXQtbW9kYWwvbGF5b3V0LW1vZGFsLWNvbnRhaW5lci9sYXlvdXQtbW9kYWwtY29udGFpbmVyLmNvbXBvbmVudFwiO1xuXG5pbnRlcmZhY2UgVXNlckxvZ29OYW1pbmcge1xuICBuYW1lOiBzdHJpbmc7XG4gIGZpcnN0TmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgdHJpZ3JhbTogc3RyaW5nO1xufVxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IFwidGEtbGF5b3V0LWhlYWRlci1sb2dvXCIsXG4gIHRlbXBsYXRlVXJsOiBcIi4vbGF5b3V0LWhlYWRlci1sb2dvLmNvbXBvbmVudC5odG1sXCIsXG4gIHN0eWxlVXJsczogW1wiLi9sYXlvdXQtaGVhZGVyLWxvZ28uY29tcG9uZW50LnNjc3NcIl0sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtOZ0lmLCBGb250SWNvbkNvbXBvbmVudCwgTWF0TWVudU1vZHVsZV0sXG4gIHNjaGVtYXM6IFtDVVNUT01fRUxFTUVOVFNfU0NIRU1BXSxcbn0pXG5leHBvcnQgY2xhc3MgTGF5b3V0SGVhZGVyTG9nb0NvbXBvbmVudCBleHRlbmRzIFRhQmFzZUNvbXBvbmVudCB7XG4gIHByb2ZpbGUgPSBpbnB1dDx7XG4gICAgdGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG4gICAgdXNlcjogeyBwcm9maWxlUGljdHVyZVVybD86IHN0cmluZzsgbmFtaW5nOiBVc2VyTG9nb05hbWluZyB8IG51bGwgfTtcbiAgfSB8IG51bGw+KG51bGwpO1xuXG4gIG5vdGlmaWNhdGlvblRlbXBsYXRlID0gaW5wdXQ8VGVtcGxhdGVSZWY8YW55PiB8IG51bGw+KG51bGwpO1xuXG4gIGFza0Nsb3NpbmckID0gaW5wdXQ8T2JzZXJ2YWJsZTxudWxsPiB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9tb2RhbDogTWF0RGlhbG9nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyB1c2VySW5mbygpOiB7XG4gICAgcHJvZmlsZVBpY3R1cmVVcmw/OiBzdHJpbmc7XG4gICAgbmFtaW5nOiBVc2VyTG9nb05hbWluZyB8IG51bGw7XG4gIH0ge1xuICAgIGlmICghdGhpcy5wcm9maWxlKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWluZzogbnVsbCxcbiAgICAgICAgcHJvZmlsZVBpY3R1cmVVcmw6IFwiXCIsXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbmFtaW5nOiB0aGlzLnByb2ZpbGUoKSEudXNlci5uYW1pbmcsXG4gICAgICBwcm9maWxlUGljdHVyZVVybDogdGhpcy5wcm9maWxlKCkhLnVzZXIucHJvZmlsZVBpY3R1cmVVcmwsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBnb1RvSG9tZSgpIHtcbiAgICB0aGlzLl9yb3V0ZXIubmF2aWdhdGVCeVVybChcIi9cIik7XG4gIH1cbiAgcHVibGljIG9wZW5Qcm9maWxlKCkge1xuICAgIGlmICghdGhpcy5wcm9maWxlKCk/LnRlbXBsYXRlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX21vZGFsLm9wZW48VGVtcGxhdGVNb2RhbENvbnRhaW5lciwgVGVtcGxhdGVNb2RhbENvbnRhaW5lckRhdGE+KFxuICAgICAgVGVtcGxhdGVNb2RhbENvbnRhaW5lcixcbiAgICAgIHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLnByb2ZpbGUoKSEudGVtcGxhdGUsXG4gICAgICAgICAgYXNrQ2xvc2luZyQ6IHRoaXMuYXNrQ2xvc2luZyQoKSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgcHVibGljIG9wZW5Ob3RpZmljYXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLm5vdGlmaWNhdGlvblRlbXBsYXRlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbW9kYWwub3BlbjxUZW1wbGF0ZU1vZGFsQ29udGFpbmVyLCBUZW1wbGF0ZU1vZGFsQ29udGFpbmVyRGF0YT4oXG4gICAgICBUZW1wbGF0ZU1vZGFsQ29udGFpbmVyLFxuICAgICAge1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgdGVtcGxhdGU6IHRoaXMubm90aWZpY2F0aW9uVGVtcGxhdGUoKSEsXG4gICAgICAgICAgYXNrQ2xvc2luZyQ6IHRoaXMuYXNrQ2xvc2luZyQoKSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiaWNvbnMgcm93IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICA8ZGl2IGNsYXNzPVwiaW1hZ2UgY29sLTJcIj5cbiAgICA8dGEtdXNlci1sb2dvIFt1c2VySW5mb109XCJ0aGlzLnVzZXJJbmZvKClcIiBzaXplPVwibGdcIiAoY2xpY2spPVwidGhpcy5vcGVuUHJvZmlsZSgpXCI+PC90YS11c2VyLWxvZ28+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJ0aXRsZSBjb2wtOFwiPlxuICAgIDx0YS1sb2dvIChjbGljayk9XCJ0aGlzLmdvVG9Ib21lKClcIiBjb2xvcj1cImJsYWNrXCI+PC90YS1sb2dvPlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwibm90aWYgY29sLTJcIj5cbiAgICA8dGEtZm9udC1pY29uXG4gICAgICBuYW1lPVwibm90aWZpY2F0aW9uc1wiXG4gICAgICB0eXBlPVwibGdcIlxuICAgICAgW2NsYXNzLmRpc2FibGVkXT1cIiF0aGlzLm5vdGlmaWNhdGlvblRlbXBsYXRlXCJcbiAgICAgIChjbGljayk9XCJ0aGlzLm9wZW5Ob3RpZmljYXRpb24oKVwiXG4gICAgPjwvdGEtZm9udC1pY29uPlxuICA8L2Rpdj5cbjwvZGl2PlxuXG48bWF0LW1lbnUgI3Nob3dOb3RpZmljYXRpb25UZW1wbGF0ZT1cIm1hdE1lbnVcIj5cbiAgQGlmICh0aGlzLm5vdGlmaWNhdGlvblRlbXBsYXRlKCkpIHtcbiAgICA8bmctdGVtcGxhdGUgKm5nVGVtcGxhdGVPdXRsZXQ9XCJ0aGlzLm5vdGlmaWNhdGlvblRlbXBsYXRlKClcIj48L25nLXRlbXBsYXRlPlxuICB9XG48L21hdC1tZW51PlxuXG48bWF0LW1lbnUgI3Nob3dQcm9maWxlVGVtcGxhdGU9XCJtYXRNZW51XCI+XG4gIEBpZiAodGhpcy5wcm9maWxlKCkpIHtcbiAgICA8bmctdGVtcGxhdGUgKm5nVGVtcGxhdGVPdXRsZXQ9XCJ0aGlzLnByb2ZpbGUoKS50ZW1wbGF0ZVwiPjwvbmctdGVtcGxhdGU+XG4gIH1cbjwvbWF0LW1lbnU+XG4iXX0=