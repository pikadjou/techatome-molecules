import { AsyncPipe, NgIf } from '@angular/common';
import { Component, Input } from '@angular/core';
import { FontIconComponent } from '@ta/icons';
import { TaBaseComponent } from '@ta/utils';
import { ButtonComponent } from '../../../components/ui/button/button.component';
import { LayoutFullPanelComponent } from '../layout-full-panel/layout-full-panel.component';
import * as i0 from "@angular/core";
export class LayoutFlexComponent extends TaBaseComponent {
    constructor() {
        super();
        this.allowClose = false;
        this.view = ['left', 'right', 'center'];
        this._registerSubscription(this.breakpoints.isLessThanLG$.subscribe(value => {
            if (value) {
                this.view = ['left'];
            }
            else {
                this.view = ['left', 'right', 'center'];
            }
        }));
    }
    state(panel) {
        if (!this.onlyOne()) {
            return 'classic';
        }
        return this.has(panel) ? 'disabled' : 'classic';
    }
    onlyOne() {
        return this.view.length === 1;
    }
    has(panel) {
        return this.view.findIndex(v => v === panel) > -1;
    }
    toggle(panel) {
        const index = this.view.findIndex(v => v === panel);
        if (index === -1) {
            this.view.push(panel);
        }
        else {
            this.view.splice(index, 1);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: LayoutFlexComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: LayoutFlexComponent, isStandalone: true, selector: "ta-layout-flex", inputs: { allowClose: "allowClose" }, usesInheritance: true, ngImport: i0, template: "@if (this.breakpoints.isTablette$ | async) {\n  <div class=\"mobile-control full-width\">\n    <div class=\"space-between\">\n      <ta-button (action)=\"this.toggle('center')\" type=\"secondary\" [options]=\"{ circular: 'small' }\">\n        <ta-font-icon name=\"mail\" size=\"sm\"></ta-font-icon>\n      </ta-button>\n      <ta-button (action)=\"this.toggle('right')\" type=\"secondary\" [options]=\"{ circular: 'small' }\">\n        <ta-font-icon name=\"task-todo\" size=\"sm\"></ta-font-icon>\n      </ta-button>\n    </div>\n  </div>\n}\n<div class=\"flex-container\">\n  <div class=\"main\">\n    <div class=\"left\">\n      @if (this.allowClose) {\n        <div class=\"control\">\n          @if (this.has('left')) {\n            <ng-content select=\"[header-left]\"></ng-content>\n          }\n          <ta-button\n            (action)=\"this.toggle('left')\"\n            [style]=\"'secondary'\"\n            [options]=\"{ circular: 'small' }\"\n            [state]=\"this.state('left')\"\n          >\n            @if (this.has('left')) {\n              <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n            } @else {\n              <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n            }\n          </ta-button>\n        </div>\n      }\n\n      @if (this.has('left')) {\n        <div class=\"content\">\n          <ng-template [ngTemplateOutlet]=\"leftTemplate\"></ng-template>\n        </div>\n      }\n    </div>\n\n    <div class=\"center\">\n      @if (this.allowClose) {\n        <div class=\"control\">\n          @if (this.has('center')) {\n            <ng-content select=\"[header-center]\"></ng-content>\n          }\n          <ta-button\n            (action)=\"this.toggle('center')\"\n            [style]=\"'secondary'\"\n            [options]=\"{ circular: 'small' }\"\n            [state]=\"this.state('center')\"\n          >\n            @if (this.has('center')) {\n              <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n            } @else {\n              <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n            }\n          </ta-button>\n        </div>\n      }\n      @if (this.has('center') && !(this.breakpoints.isTablette$ | async)) {\n        <div class=\"content\">\n          <ng-template [ngTemplateOutlet]=\"centerTemplate\"></ng-template>\n        </div>\n      }\n    </div>\n  </div>\n\n  @if (!(this.breakpoints.isTablette$ | async)) {\n    <div class=\"second\">\n      <div class=\"right\">\n        @if (this.allowClose) {\n          <div class=\"control\">\n            @if (this.has('right')) {\n              <ng-content select=\"[header-right]\"></ng-content>\n            }\n            <ta-button\n              (action)=\"this.toggle('right')\"\n              [style]=\"'secondary'\"\n              [options]=\"{ circular: 'small' }\"\n              [state]=\"this.state('right')\"\n            >\n              @if (this.has('right')) {\n                <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n              } @else {\n                <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n              }\n            </ta-button>\n          </div>\n        }\n        @if (this.has('right')) {\n          <div class=\"content\">\n            <ng-template [ngTemplateOutlet]=\"rightTemplate\"></ng-template>\n          </div>\n        }\n      </div>\n    </div>\n  }\n</div>\n\n@if (this.breakpoints.isTablette$ | async) {\n  @if (this.has('center')) {\n    <ta-layout-full-panel (closeEvent)=\"this.toggle('center')\" width=\"100%\">\n      <ng-template [ngTemplateOutlet]=\"centerTemplate\"></ng-template>\n    </ta-layout-full-panel>\n  }\n\n  @if (this.has('right')) {\n    <ta-layout-full-panel (closeEvent)=\"this.toggle('right')\">\n      <div class=\"full-width\">\n        <ng-template [ngTemplateOutlet]=\"rightTemplate\"></ng-template>\n      </div>\n    </ta-layout-full-panel>\n  }\n}\n\n<ng-template #leftTemplate>\n  <ng-content select=\"[left]\"></ng-content>\n</ng-template>\n\n<ng-template #centerTemplate>\n  <ng-content select=\"[center]\"></ng-content>\n</ng-template>\n\n<ng-template #rightTemplate>\n  <ng-content select=\"[right]\"></ng-content>\n</ng-template>\n", styles: [".flex-container{display:flex;flex-direction:row}.main{display:flex;flex-direction:column;width:100%}.main .left,.main .center{width:100%}.main .center{border-top:1px solid var(--ta-border-primary);padding-top:var(--ta-space-md)}@media screen and (min-width: 1400px){.main{display:flex;flex-direction:row}.main .left,.main .center{width:50%}.main .center{border-top:none;padding-top:none;border-left:1px solid var(--ta-border-primary)}}.second{display:flex;border-left:1px solid var(--ta-border-primary)}.second .right{max-width:300px}\n"], dependencies: [{ kind: "pipe", type: AsyncPipe, name: "async" }, { kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "component", type: LayoutFullPanelComponent, selector: "ta-layout-full-panel", inputs: ["width", "title"], outputs: ["closeEvent"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: LayoutFlexComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-layout-flex', standalone: true, imports: [NgIf, AsyncPipe, FontIconComponent, ButtonComponent, LayoutFullPanelComponent], template: "@if (this.breakpoints.isTablette$ | async) {\n  <div class=\"mobile-control full-width\">\n    <div class=\"space-between\">\n      <ta-button (action)=\"this.toggle('center')\" type=\"secondary\" [options]=\"{ circular: 'small' }\">\n        <ta-font-icon name=\"mail\" size=\"sm\"></ta-font-icon>\n      </ta-button>\n      <ta-button (action)=\"this.toggle('right')\" type=\"secondary\" [options]=\"{ circular: 'small' }\">\n        <ta-font-icon name=\"task-todo\" size=\"sm\"></ta-font-icon>\n      </ta-button>\n    </div>\n  </div>\n}\n<div class=\"flex-container\">\n  <div class=\"main\">\n    <div class=\"left\">\n      @if (this.allowClose) {\n        <div class=\"control\">\n          @if (this.has('left')) {\n            <ng-content select=\"[header-left]\"></ng-content>\n          }\n          <ta-button\n            (action)=\"this.toggle('left')\"\n            [style]=\"'secondary'\"\n            [options]=\"{ circular: 'small' }\"\n            [state]=\"this.state('left')\"\n          >\n            @if (this.has('left')) {\n              <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n            } @else {\n              <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n            }\n          </ta-button>\n        </div>\n      }\n\n      @if (this.has('left')) {\n        <div class=\"content\">\n          <ng-template [ngTemplateOutlet]=\"leftTemplate\"></ng-template>\n        </div>\n      }\n    </div>\n\n    <div class=\"center\">\n      @if (this.allowClose) {\n        <div class=\"control\">\n          @if (this.has('center')) {\n            <ng-content select=\"[header-center]\"></ng-content>\n          }\n          <ta-button\n            (action)=\"this.toggle('center')\"\n            [style]=\"'secondary'\"\n            [options]=\"{ circular: 'small' }\"\n            [state]=\"this.state('center')\"\n          >\n            @if (this.has('center')) {\n              <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n            } @else {\n              <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n            }\n          </ta-button>\n        </div>\n      }\n      @if (this.has('center') && !(this.breakpoints.isTablette$ | async)) {\n        <div class=\"content\">\n          <ng-template [ngTemplateOutlet]=\"centerTemplate\"></ng-template>\n        </div>\n      }\n    </div>\n  </div>\n\n  @if (!(this.breakpoints.isTablette$ | async)) {\n    <div class=\"second\">\n      <div class=\"right\">\n        @if (this.allowClose) {\n          <div class=\"control\">\n            @if (this.has('right')) {\n              <ng-content select=\"[header-right]\"></ng-content>\n            }\n            <ta-button\n              (action)=\"this.toggle('right')\"\n              [style]=\"'secondary'\"\n              [options]=\"{ circular: 'small' }\"\n              [state]=\"this.state('right')\"\n            >\n              @if (this.has('right')) {\n                <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n              } @else {\n                <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n              }\n            </ta-button>\n          </div>\n        }\n        @if (this.has('right')) {\n          <div class=\"content\">\n            <ng-template [ngTemplateOutlet]=\"rightTemplate\"></ng-template>\n          </div>\n        }\n      </div>\n    </div>\n  }\n</div>\n\n@if (this.breakpoints.isTablette$ | async) {\n  @if (this.has('center')) {\n    <ta-layout-full-panel (closeEvent)=\"this.toggle('center')\" width=\"100%\">\n      <ng-template [ngTemplateOutlet]=\"centerTemplate\"></ng-template>\n    </ta-layout-full-panel>\n  }\n\n  @if (this.has('right')) {\n    <ta-layout-full-panel (closeEvent)=\"this.toggle('right')\">\n      <div class=\"full-width\">\n        <ng-template [ngTemplateOutlet]=\"rightTemplate\"></ng-template>\n      </div>\n    </ta-layout-full-panel>\n  }\n}\n\n<ng-template #leftTemplate>\n  <ng-content select=\"[left]\"></ng-content>\n</ng-template>\n\n<ng-template #centerTemplate>\n  <ng-content select=\"[center]\"></ng-content>\n</ng-template>\n\n<ng-template #rightTemplate>\n  <ng-content select=\"[right]\"></ng-content>\n</ng-template>\n", styles: [".flex-container{display:flex;flex-direction:row}.main{display:flex;flex-direction:column;width:100%}.main .left,.main .center{width:100%}.main .center{border-top:1px solid var(--ta-border-primary);padding-top:var(--ta-space-md)}@media screen and (min-width: 1400px){.main{display:flex;flex-direction:row}.main .left,.main .center{width:50%}.main .center{border-top:none;padding-top:none;border-left:1px solid var(--ta-border-primary)}}.second{display:flex;border-left:1px solid var(--ta-border-primary)}.second .right{max-width:300px}\n"] }]
        }], ctorParameters: () => [], propDecorators: { allowClose: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LWZsZXguY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9tb2R1bGVzL2xheW91dC9sYXlvdXQtZmxleC9sYXlvdXQtZmxleC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL21vZHVsZXMvbGF5b3V0L2xheW91dC1mbGV4L2xheW91dC1mbGV4LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFakQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRTlDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFNUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQ2pGLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGtEQUFrRCxDQUFDOztBQVc1RixNQUFNLE9BQU8sbUJBQW9CLFNBQVEsZUFBZTtJQUl0RDtRQUNFLEtBQUssRUFBRSxDQUFDO1FBSFYsZUFBVSxHQUFHLEtBQUssQ0FBQztRQWNaLFNBQUksR0FBWSxDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFWakQsSUFBSSxDQUFDLHFCQUFxQixDQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDL0MsSUFBSSxLQUFLLEVBQUUsQ0FBQztnQkFDVixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDdkIsQ0FBQztpQkFBTSxDQUFDO2dCQUNOLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQzFDLENBQUM7UUFDSCxDQUFDLENBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQztJQUdNLEtBQUssQ0FBQyxLQUFZO1FBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQztZQUNwQixPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztJQUNsRCxDQUFDO0lBQ00sT0FBTztRQUNaLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFDTSxHQUFHLENBQUMsS0FBWTtRQUNyQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFFTSxNQUFNLENBQUMsS0FBWTtRQUN4QixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQztRQUNwRCxJQUFJLEtBQUssS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQ2pCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLENBQUM7YUFBTSxDQUFDO1lBQ04sSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdCLENBQUM7SUFDSCxDQUFDOytHQXRDVSxtQkFBbUI7bUdBQW5CLG1CQUFtQix1SUNuQmhDLHF0SUFpSUEsNmtCRGhIa0IsU0FBUyw4Q0FBRSxpQkFBaUIsbUZBQUUsZUFBZSw4SkFBRSx3QkFBd0I7OzRGQUU1RSxtQkFBbUI7a0JBUC9CLFNBQVM7K0JBQ0UsZ0JBQWdCLGNBR2QsSUFBSSxXQUNQLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsd0JBQXdCLENBQUM7d0RBSXhGLFVBQVU7c0JBRFQsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jUGlwZSwgTmdJZiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEZvbnRJY29uQ29tcG9uZW50IH0gZnJvbSAnQHRhL2ljb25zJztcbmltcG9ydCB7IFRhU3RhdGUgfSBmcm9tICdAdGEvc3R5bGVzJztcbmltcG9ydCB7IFRhQmFzZUNvbXBvbmVudCB9IGZyb20gJ0B0YS91dGlscyc7XG5cbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvdWkvYnV0dG9uL2J1dHRvbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgTGF5b3V0RnVsbFBhbmVsQ29tcG9uZW50IH0gZnJvbSAnLi4vbGF5b3V0LWZ1bGwtcGFuZWwvbGF5b3V0LWZ1bGwtcGFuZWwuY29tcG9uZW50JztcblxudHlwZSBQYW5lbCA9ICdsZWZ0JyB8ICdyaWdodCcgfCAnY2VudGVyJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGEtbGF5b3V0LWZsZXgnLFxuICB0ZW1wbGF0ZVVybDogJy4vbGF5b3V0LWZsZXguY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9sYXlvdXQtZmxleC5jb21wb25lbnQuc2NzcyddLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbTmdJZiwgQXN5bmNQaXBlLCBGb250SWNvbkNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBMYXlvdXRGdWxsUGFuZWxDb21wb25lbnRdLFxufSlcbmV4cG9ydCBjbGFzcyBMYXlvdXRGbGV4Q29tcG9uZW50IGV4dGVuZHMgVGFCYXNlQ29tcG9uZW50IHtcbiAgQElucHV0KClcbiAgYWxsb3dDbG9zZSA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fcmVnaXN0ZXJTdWJzY3JpcHRpb24oXG4gICAgICB0aGlzLmJyZWFrcG9pbnRzLmlzTGVzc1RoYW5MRyQuc3Vic2NyaWJlKHZhbHVlID0+IHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy52aWV3ID0gWydsZWZ0J107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52aWV3ID0gWydsZWZ0JywgJ3JpZ2h0JywgJ2NlbnRlciddO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgcHVibGljIHZpZXc6IFBhbmVsW10gPSBbJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJ107XG5cbiAgcHVibGljIHN0YXRlKHBhbmVsOiBQYW5lbCk6IFRhU3RhdGUge1xuICAgIGlmICghdGhpcy5vbmx5T25lKCkpIHtcbiAgICAgIHJldHVybiAnY2xhc3NpYyc7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmhhcyhwYW5lbCkgPyAnZGlzYWJsZWQnIDogJ2NsYXNzaWMnO1xuICB9XG4gIHB1YmxpYyBvbmx5T25lKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcubGVuZ3RoID09PSAxO1xuICB9XG4gIHB1YmxpYyBoYXMocGFuZWw6IFBhbmVsKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5maW5kSW5kZXgodiA9PiB2ID09PSBwYW5lbCkgPiAtMTtcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGUocGFuZWw6IFBhbmVsKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnZpZXcuZmluZEluZGV4KHYgPT4gdiA9PT0gcGFuZWwpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHRoaXMudmlldy5wdXNoKHBhbmVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52aWV3LnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG59XG4iLCJAaWYgKHRoaXMuYnJlYWtwb2ludHMuaXNUYWJsZXR0ZSQgfCBhc3luYykge1xuICA8ZGl2IGNsYXNzPVwibW9iaWxlLWNvbnRyb2wgZnVsbC13aWR0aFwiPlxuICAgIDxkaXYgY2xhc3M9XCJzcGFjZS1iZXR3ZWVuXCI+XG4gICAgICA8dGEtYnV0dG9uIChhY3Rpb24pPVwidGhpcy50b2dnbGUoJ2NlbnRlcicpXCIgdHlwZT1cInNlY29uZGFyeVwiIFtvcHRpb25zXT1cInsgY2lyY3VsYXI6ICdzbWFsbCcgfVwiPlxuICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJtYWlsXCIgc2l6ZT1cInNtXCI+PC90YS1mb250LWljb24+XG4gICAgICA8L3RhLWJ1dHRvbj5cbiAgICAgIDx0YS1idXR0b24gKGFjdGlvbik9XCJ0aGlzLnRvZ2dsZSgncmlnaHQnKVwiIHR5cGU9XCJzZWNvbmRhcnlcIiBbb3B0aW9uc109XCJ7IGNpcmN1bGFyOiAnc21hbGwnIH1cIj5cbiAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwidGFzay10b2RvXCIgc2l6ZT1cInNtXCI+PC90YS1mb250LWljb24+XG4gICAgICA8L3RhLWJ1dHRvbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG59XG48ZGl2IGNsYXNzPVwiZmxleC1jb250YWluZXJcIj5cbiAgPGRpdiBjbGFzcz1cIm1haW5cIj5cbiAgICA8ZGl2IGNsYXNzPVwibGVmdFwiPlxuICAgICAgQGlmICh0aGlzLmFsbG93Q2xvc2UpIHtcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xcIj5cbiAgICAgICAgICBAaWYgKHRoaXMuaGFzKCdsZWZ0JykpIHtcbiAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltoZWFkZXItbGVmdF1cIj48L25nLWNvbnRlbnQ+XG4gICAgICAgICAgfVxuICAgICAgICAgIDx0YS1idXR0b25cbiAgICAgICAgICAgIChhY3Rpb24pPVwidGhpcy50b2dnbGUoJ2xlZnQnKVwiXG4gICAgICAgICAgICBbc3R5bGVdPVwiJ3NlY29uZGFyeSdcIlxuICAgICAgICAgICAgW29wdGlvbnNdPVwieyBjaXJjdWxhcjogJ3NtYWxsJyB9XCJcbiAgICAgICAgICAgIFtzdGF0ZV09XCJ0aGlzLnN0YXRlKCdsZWZ0JylcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEBpZiAodGhpcy5oYXMoJ2xlZnQnKSkge1xuICAgICAgICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJleHBhbmQtaG9yaXpvbnRhbFwiIHNpemU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgICAgIDx0YS1mb250LWljb24gbmFtZT1cImNvbGxhcHNlLWhvcml6b250YWxcIiBzaXplPVwic21cIj48L3RhLWZvbnQtaWNvbj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3RhLWJ1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICB9XG5cbiAgICAgIEBpZiAodGhpcy5oYXMoJ2xlZnQnKSkge1xuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJsZWZ0VGVtcGxhdGVcIj48L25nLXRlbXBsYXRlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJjZW50ZXJcIj5cbiAgICAgIEBpZiAodGhpcy5hbGxvd0Nsb3NlKSB7XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9sXCI+XG4gICAgICAgICAgQGlmICh0aGlzLmhhcygnY2VudGVyJykpIHtcbiAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltoZWFkZXItY2VudGVyXVwiPjwvbmctY29udGVudD5cbiAgICAgICAgICB9XG4gICAgICAgICAgPHRhLWJ1dHRvblxuICAgICAgICAgICAgKGFjdGlvbik9XCJ0aGlzLnRvZ2dsZSgnY2VudGVyJylcIlxuICAgICAgICAgICAgW3N0eWxlXT1cIidzZWNvbmRhcnknXCJcbiAgICAgICAgICAgIFtvcHRpb25zXT1cInsgY2lyY3VsYXI6ICdzbWFsbCcgfVwiXG4gICAgICAgICAgICBbc3RhdGVdPVwidGhpcy5zdGF0ZSgnY2VudGVyJylcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEBpZiAodGhpcy5oYXMoJ2NlbnRlcicpKSB7XG4gICAgICAgICAgICAgIDx0YS1mb250LWljb24gbmFtZT1cImV4cGFuZC1ob3Jpem9udGFsXCIgc2l6ZT1cInNtXCI+PC90YS1mb250LWljb24+XG4gICAgICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwiY29sbGFwc2UtaG9yaXpvbnRhbFwiIHNpemU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvdGEtYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICAgIEBpZiAodGhpcy5oYXMoJ2NlbnRlcicpICYmICEodGhpcy5icmVha3BvaW50cy5pc1RhYmxldHRlJCB8IGFzeW5jKSkge1xuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJjZW50ZXJUZW1wbGF0ZVwiPjwvbmctdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICBAaWYgKCEodGhpcy5icmVha3BvaW50cy5pc1RhYmxldHRlJCB8IGFzeW5jKSkge1xuICAgIDxkaXYgY2xhc3M9XCJzZWNvbmRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJyaWdodFwiPlxuICAgICAgICBAaWYgKHRoaXMuYWxsb3dDbG9zZSkge1xuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9sXCI+XG4gICAgICAgICAgICBAaWYgKHRoaXMuaGFzKCdyaWdodCcpKSB7XG4gICAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltoZWFkZXItcmlnaHRdXCI+PC9uZy1jb250ZW50PlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgPHRhLWJ1dHRvblxuICAgICAgICAgICAgICAoYWN0aW9uKT1cInRoaXMudG9nZ2xlKCdyaWdodCcpXCJcbiAgICAgICAgICAgICAgW3N0eWxlXT1cIidzZWNvbmRhcnknXCJcbiAgICAgICAgICAgICAgW29wdGlvbnNdPVwieyBjaXJjdWxhcjogJ3NtYWxsJyB9XCJcbiAgICAgICAgICAgICAgW3N0YXRlXT1cInRoaXMuc3RhdGUoJ3JpZ2h0JylcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBAaWYgKHRoaXMuaGFzKCdyaWdodCcpKSB7XG4gICAgICAgICAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwiZXhwYW5kLWhvcml6b250YWxcIiBzaXplPVwic21cIj48L3RhLWZvbnQtaWNvbj5cbiAgICAgICAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwiY29sbGFwc2UtaG9yaXpvbnRhbFwiIHNpemU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3RhLWJ1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgICBAaWYgKHRoaXMuaGFzKCdyaWdodCcpKSB7XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJyaWdodFRlbXBsYXRlXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIH1cbjwvZGl2PlxuXG5AaWYgKHRoaXMuYnJlYWtwb2ludHMuaXNUYWJsZXR0ZSQgfCBhc3luYykge1xuICBAaWYgKHRoaXMuaGFzKCdjZW50ZXInKSkge1xuICAgIDx0YS1sYXlvdXQtZnVsbC1wYW5lbCAoY2xvc2VFdmVudCk9XCJ0aGlzLnRvZ2dsZSgnY2VudGVyJylcIiB3aWR0aD1cIjEwMCVcIj5cbiAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJjZW50ZXJUZW1wbGF0ZVwiPjwvbmctdGVtcGxhdGU+XG4gICAgPC90YS1sYXlvdXQtZnVsbC1wYW5lbD5cbiAgfVxuXG4gIEBpZiAodGhpcy5oYXMoJ3JpZ2h0JykpIHtcbiAgICA8dGEtbGF5b3V0LWZ1bGwtcGFuZWwgKGNsb3NlRXZlbnQpPVwidGhpcy50b2dnbGUoJ3JpZ2h0JylcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmdWxsLXdpZHRoXCI+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJyaWdodFRlbXBsYXRlXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvdGEtbGF5b3V0LWZ1bGwtcGFuZWw+XG4gIH1cbn1cblxuPG5nLXRlbXBsYXRlICNsZWZ0VGVtcGxhdGU+XG4gIDxuZy1jb250ZW50IHNlbGVjdD1cIltsZWZ0XVwiPjwvbmctY29udGVudD5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjY2VudGVyVGVtcGxhdGU+XG4gIDxuZy1jb250ZW50IHNlbGVjdD1cIltjZW50ZXJdXCI+PC9uZy1jb250ZW50PlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNyaWdodFRlbXBsYXRlPlxuICA8bmctY29udGVudCBzZWxlY3Q9XCJbcmlnaHRdXCI+PC9uZy1jb250ZW50PlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==