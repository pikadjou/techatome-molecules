import { AsyncPipe, NgIf } from "@angular/common";
import { Component, input } from "@angular/core";
import { FontIconComponent } from "@ta/icons";
import { TaBaseComponent } from "@ta/utils";
import { ButtonComponent } from "../../../components/ui/button/button.component";
import { LayoutFullPanelComponent } from "../layout-full-panel/layout-full-panel.component";
import * as i0 from "@angular/core";
export class LayoutFlexComponent extends TaBaseComponent {
    constructor() {
        super();
        this.allowClose = input(false);
        this.view = ["left", "right", "center"];
        this._registerSubscription(this.breakpoints.isLessThanLG$.subscribe((value) => {
            if (value) {
                this.view = ["left"];
            }
            else {
                this.view = ["left", "right", "center"];
            }
        }));
    }
    state(panel) {
        if (!this.onlyOne()) {
            return "classic";
        }
        return this.has(panel) ? "disabled" : "classic";
    }
    onlyOne() {
        return this.view.length === 1;
    }
    has(panel) {
        return this.view.findIndex((v) => v === panel) > -1;
    }
    toggle(panel) {
        const index = this.view.findIndex((v) => v === panel);
        if (index === -1) {
            this.view.push(panel);
        }
        else {
            this.view.splice(index, 1);
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: LayoutFlexComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: LayoutFlexComponent, isStandalone: true, selector: "ta-layout-flex", inputs: { allowClose: { classPropertyName: "allowClose", publicName: "allowClose", isSignal: true, isRequired: false, transformFunction: null } }, usesInheritance: true, ngImport: i0, template: "@if (this.breakpoints.isTablette$ | async) {\n  <div class=\"mobile-control full-width\">\n    <div class=\"space-between\">\n      <ta-button (action)=\"this.toggle('center')\" type=\"secondary\" [options]=\"{ circular: 'small' }\">\n        <ta-font-icon name=\"mail\" size=\"sm\"></ta-font-icon>\n      </ta-button>\n      <ta-button (action)=\"this.toggle('right')\" type=\"secondary\" [options]=\"{ circular: 'small' }\">\n        <ta-font-icon name=\"task-todo\" size=\"sm\"></ta-font-icon>\n      </ta-button>\n    </div>\n  </div>\n}\n<div class=\"flex-container\">\n  <div class=\"main\">\n    <div class=\"left\">\n      @if (this.allowClose()) {\n        <div class=\"control\">\n          @if (this.has('left')) {\n            <ng-content select=\"[header-left]\"></ng-content>\n          }\n          <ta-button\n            (action)=\"this.toggle('left')\"\n            [style]=\"'secondary'\"\n            [options]=\"{ circular: 'small' }\"\n            [state]=\"this.state('left')\"\n          >\n            @if (this.has('left')) {\n              <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n            } @else {\n              <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n            }\n          </ta-button>\n        </div>\n      }\n      @if (this.has('left')) {\n        <div class=\"content\">\n          <ng-template [ngTemplateOutlet]=\"leftTemplate\"></ng-template>\n        </div>\n      }\n    </div>\n\n    <div class=\"center\">\n      @if (this.allowClose()) {\n        <div class=\"control\">\n          @if (this.has('center')) {\n            <ng-content select=\"[header-center]\"></ng-content>\n          }\n          <ta-button\n            (action)=\"this.toggle('center')\"\n            [style]=\"'secondary'\"\n            [options]=\"{ circular: 'small' }\"\n            [state]=\"this.state('center')\"\n          >\n            @if (this.has('center')) {\n              <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n            } @else {\n              <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n            }\n          </ta-button>\n        </div>\n      }\n      @if (this.has('center') && !(this.breakpoints.isTablette$ | async)) {\n        <div class=\"content\">\n          <ng-template [ngTemplateOutlet]=\"centerTemplate\"></ng-template>\n        </div>\n      }\n    </div>\n  </div>\n\n  @if (!(this.breakpoints.isTablette$ | async)) {\n    <div class=\"second\">\n      <div class=\"right\">\n        @if (this.allowClose()) {\n          <div class=\"control\">\n            @if (this.has('right')) {\n              <ng-content select=\"[header-right]\"></ng-content>\n            }\n            <ta-button\n              (action)=\"this.toggle('right')\"\n              [style]=\"'secondary'\"\n              [options]=\"{ circular: 'small' }\"\n              [state]=\"this.state('right')\"\n            >\n              @if (this.has('right')) {\n                <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n              } @else {\n                <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n              }\n            </ta-button>\n          </div>\n        }\n        @if (this.has('right')) {\n          <div class=\"content\">\n            <ng-template [ngTemplateOutlet]=\"rightTemplate\"></ng-template>\n          </div>\n        }\n      </div>\n    </div>\n  }\n</div>\n\n@if (this.breakpoints.isTablette$ | async) {\n  @if (this.has('center')) {\n    <ta-layout-full-panel (closeEvent)=\"this.toggle('center')\" width=\"100%\">\n      <ng-template [ngTemplateOutlet]=\"centerTemplate\"></ng-template>\n    </ta-layout-full-panel>\n  }\n  @if (this.has('right')) {\n    <ta-layout-full-panel (closeEvent)=\"this.toggle('right')\">\n      <div class=\"full-width\">\n        <ng-template [ngTemplateOutlet]=\"rightTemplate\"></ng-template>\n      </div>\n    </ta-layout-full-panel>\n  }\n}\n\n<ng-template #leftTemplate>\n  <ng-content select=\"[left]\"></ng-content>\n</ng-template>\n\n<ng-template #centerTemplate>\n  <ng-content select=\"[center]\"></ng-content>\n</ng-template>\n\n<ng-template #rightTemplate>\n  <ng-content select=\"[right]\"></ng-content>\n</ng-template>\n", styles: [".flex-container{display:flex;flex-direction:row}.main{display:flex;flex-direction:column;width:100%}.main .left,.main .center{width:100%}.main .center{border-top:1px solid var(--ta-border-primary);padding-top:var(--ta-space-md)}@media screen and (min-width: 1400px){.main{display:flex;flex-direction:row}.main .left,.main .center{width:50%}.main .center{border-top:none;padding-top:none;border-left:1px solid var(--ta-border-primary)}}.second{display:flex;border-left:1px solid var(--ta-border-primary)}.second .right{max-width:300px}\n"], dependencies: [{ kind: "pipe", type: AsyncPipe, name: "async" }, { kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "component", type: LayoutFullPanelComponent, selector: "ta-layout-full-panel", inputs: ["width", "title"], outputs: ["closeEvent"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: LayoutFlexComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-layout-flex", standalone: true, imports: [
                        NgIf,
                        AsyncPipe,
                        FontIconComponent,
                        ButtonComponent,
                        LayoutFullPanelComponent,
                    ], template: "@if (this.breakpoints.isTablette$ | async) {\n  <div class=\"mobile-control full-width\">\n    <div class=\"space-between\">\n      <ta-button (action)=\"this.toggle('center')\" type=\"secondary\" [options]=\"{ circular: 'small' }\">\n        <ta-font-icon name=\"mail\" size=\"sm\"></ta-font-icon>\n      </ta-button>\n      <ta-button (action)=\"this.toggle('right')\" type=\"secondary\" [options]=\"{ circular: 'small' }\">\n        <ta-font-icon name=\"task-todo\" size=\"sm\"></ta-font-icon>\n      </ta-button>\n    </div>\n  </div>\n}\n<div class=\"flex-container\">\n  <div class=\"main\">\n    <div class=\"left\">\n      @if (this.allowClose()) {\n        <div class=\"control\">\n          @if (this.has('left')) {\n            <ng-content select=\"[header-left]\"></ng-content>\n          }\n          <ta-button\n            (action)=\"this.toggle('left')\"\n            [style]=\"'secondary'\"\n            [options]=\"{ circular: 'small' }\"\n            [state]=\"this.state('left')\"\n          >\n            @if (this.has('left')) {\n              <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n            } @else {\n              <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n            }\n          </ta-button>\n        </div>\n      }\n      @if (this.has('left')) {\n        <div class=\"content\">\n          <ng-template [ngTemplateOutlet]=\"leftTemplate\"></ng-template>\n        </div>\n      }\n    </div>\n\n    <div class=\"center\">\n      @if (this.allowClose()) {\n        <div class=\"control\">\n          @if (this.has('center')) {\n            <ng-content select=\"[header-center]\"></ng-content>\n          }\n          <ta-button\n            (action)=\"this.toggle('center')\"\n            [style]=\"'secondary'\"\n            [options]=\"{ circular: 'small' }\"\n            [state]=\"this.state('center')\"\n          >\n            @if (this.has('center')) {\n              <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n            } @else {\n              <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n            }\n          </ta-button>\n        </div>\n      }\n      @if (this.has('center') && !(this.breakpoints.isTablette$ | async)) {\n        <div class=\"content\">\n          <ng-template [ngTemplateOutlet]=\"centerTemplate\"></ng-template>\n        </div>\n      }\n    </div>\n  </div>\n\n  @if (!(this.breakpoints.isTablette$ | async)) {\n    <div class=\"second\">\n      <div class=\"right\">\n        @if (this.allowClose()) {\n          <div class=\"control\">\n            @if (this.has('right')) {\n              <ng-content select=\"[header-right]\"></ng-content>\n            }\n            <ta-button\n              (action)=\"this.toggle('right')\"\n              [style]=\"'secondary'\"\n              [options]=\"{ circular: 'small' }\"\n              [state]=\"this.state('right')\"\n            >\n              @if (this.has('right')) {\n                <ta-font-icon name=\"expand-horizontal\" size=\"sm\"></ta-font-icon>\n              } @else {\n                <ta-font-icon name=\"collapse-horizontal\" size=\"sm\"></ta-font-icon>\n              }\n            </ta-button>\n          </div>\n        }\n        @if (this.has('right')) {\n          <div class=\"content\">\n            <ng-template [ngTemplateOutlet]=\"rightTemplate\"></ng-template>\n          </div>\n        }\n      </div>\n    </div>\n  }\n</div>\n\n@if (this.breakpoints.isTablette$ | async) {\n  @if (this.has('center')) {\n    <ta-layout-full-panel (closeEvent)=\"this.toggle('center')\" width=\"100%\">\n      <ng-template [ngTemplateOutlet]=\"centerTemplate\"></ng-template>\n    </ta-layout-full-panel>\n  }\n  @if (this.has('right')) {\n    <ta-layout-full-panel (closeEvent)=\"this.toggle('right')\">\n      <div class=\"full-width\">\n        <ng-template [ngTemplateOutlet]=\"rightTemplate\"></ng-template>\n      </div>\n    </ta-layout-full-panel>\n  }\n}\n\n<ng-template #leftTemplate>\n  <ng-content select=\"[left]\"></ng-content>\n</ng-template>\n\n<ng-template #centerTemplate>\n  <ng-content select=\"[center]\"></ng-content>\n</ng-template>\n\n<ng-template #rightTemplate>\n  <ng-content select=\"[right]\"></ng-content>\n</ng-template>\n", styles: [".flex-container{display:flex;flex-direction:row}.main{display:flex;flex-direction:column;width:100%}.main .left,.main .center{width:100%}.main .center{border-top:1px solid var(--ta-border-primary);padding-top:var(--ta-space-md)}@media screen and (min-width: 1400px){.main{display:flex;flex-direction:row}.main .left,.main .center{width:50%}.main .center{border-top:none;padding-top:none;border-left:1px solid var(--ta-border-primary)}}.second{display:flex;border-left:1px solid var(--ta-border-primary)}.second .right{max-width:300px}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LWZsZXguY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9tb2R1bGVzL2xheW91dC9sYXlvdXQtZmxleC9sYXlvdXQtZmxleC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL21vZHVsZXMvbGF5b3V0L2xheW91dC1mbGV4L2xheW91dC1mbGV4LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFakQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRTlDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFNUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGdEQUFnRCxDQUFDO0FBQ2pGLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGtEQUFrRCxDQUFDOztBQWlCNUYsTUFBTSxPQUFPLG1CQUFvQixTQUFRLGVBQWU7SUFHdEQ7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQUhWLGVBQVUsR0FBRyxLQUFLLENBQVUsS0FBSyxDQUFDLENBQUM7UUFjNUIsU0FBSSxHQUFZLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztRQVZqRCxJQUFJLENBQUMscUJBQXFCLENBQ3hCLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ2pELElBQUksS0FBSyxFQUFFLENBQUM7Z0JBQ1YsSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3ZCLENBQUM7aUJBQU0sQ0FBQztnQkFDTixJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQztZQUMxQyxDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7SUFHTSxLQUFLLENBQUMsS0FBWTtRQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUM7WUFDcEIsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQztRQUNELE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7SUFDbEQsQ0FBQztJQUNNLE9BQU87UUFDWixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBQ00sR0FBRyxDQUFDLEtBQVk7UUFDckIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFFTSxNQUFNLENBQUMsS0FBWTtRQUN4QixNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDO1FBQ3RELElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEIsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0IsQ0FBQztJQUNILENBQUM7K0dBckNVLG1CQUFtQjttR0FBbkIsbUJBQW1CLG9QQ3pCaEMsdXRJQStIQSw2a0JENUdJLFNBQVMsOENBQ1QsaUJBQWlCLG1GQUNqQixlQUFlLDhKQUNmLHdCQUF3Qjs7NEZBR2YsbUJBQW1CO2tCQWIvQixTQUFTOytCQUNFLGdCQUFnQixjQUdkLElBQUksV0FDUDt3QkFDUCxJQUFJO3dCQUNKLFNBQVM7d0JBQ1QsaUJBQWlCO3dCQUNqQixlQUFlO3dCQUNmLHdCQUF3QjtxQkFDekIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3luY1BpcGUsIE5nSWYgfSBmcm9tIFwiQGFuZ3VsYXIvY29tbW9uXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIGlucHV0IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcblxuaW1wb3J0IHsgRm9udEljb25Db21wb25lbnQgfSBmcm9tIFwiQHRhL2ljb25zXCI7XG5pbXBvcnQgeyBUYVN0YXRlIH0gZnJvbSBcIkB0YS9zdHlsZXNcIjtcbmltcG9ydCB7IFRhQmFzZUNvbXBvbmVudCB9IGZyb20gXCJAdGEvdXRpbHNcIjtcblxuaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uLy4uL2NvbXBvbmVudHMvdWkvYnV0dG9uL2J1dHRvbi5jb21wb25lbnRcIjtcbmltcG9ydCB7IExheW91dEZ1bGxQYW5lbENvbXBvbmVudCB9IGZyb20gXCIuLi9sYXlvdXQtZnVsbC1wYW5lbC9sYXlvdXQtZnVsbC1wYW5lbC5jb21wb25lbnRcIjtcblxudHlwZSBQYW5lbCA9IFwibGVmdFwiIHwgXCJyaWdodFwiIHwgXCJjZW50ZXJcIjtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiBcInRhLWxheW91dC1mbGV4XCIsXG4gIHRlbXBsYXRlVXJsOiBcIi4vbGF5b3V0LWZsZXguY29tcG9uZW50Lmh0bWxcIixcbiAgc3R5bGVVcmxzOiBbXCIuL2xheW91dC1mbGV4LmNvbXBvbmVudC5zY3NzXCJdLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbXG4gICAgTmdJZixcbiAgICBBc3luY1BpcGUsXG4gICAgRm9udEljb25Db21wb25lbnQsXG4gICAgQnV0dG9uQ29tcG9uZW50LFxuICAgIExheW91dEZ1bGxQYW5lbENvbXBvbmVudCxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgTGF5b3V0RmxleENvbXBvbmVudCBleHRlbmRzIFRhQmFzZUNvbXBvbmVudCB7XG4gIGFsbG93Q2xvc2UgPSBpbnB1dDxib29sZWFuPihmYWxzZSk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9yZWdpc3RlclN1YnNjcmlwdGlvbihcbiAgICAgIHRoaXMuYnJlYWtwb2ludHMuaXNMZXNzVGhhbkxHJC5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHRoaXMudmlldyA9IFtcImxlZnRcIl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52aWV3ID0gW1wibGVmdFwiLCBcInJpZ2h0XCIsIFwiY2VudGVyXCJdO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgcHVibGljIHZpZXc6IFBhbmVsW10gPSBbXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJjZW50ZXJcIl07XG5cbiAgcHVibGljIHN0YXRlKHBhbmVsOiBQYW5lbCk6IFRhU3RhdGUge1xuICAgIGlmICghdGhpcy5vbmx5T25lKCkpIHtcbiAgICAgIHJldHVybiBcImNsYXNzaWNcIjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaGFzKHBhbmVsKSA/IFwiZGlzYWJsZWRcIiA6IFwiY2xhc3NpY1wiO1xuICB9XG4gIHB1YmxpYyBvbmx5T25lKCkge1xuICAgIHJldHVybiB0aGlzLnZpZXcubGVuZ3RoID09PSAxO1xuICB9XG4gIHB1YmxpYyBoYXMocGFuZWw6IFBhbmVsKSB7XG4gICAgcmV0dXJuIHRoaXMudmlldy5maW5kSW5kZXgoKHYpID0+IHYgPT09IHBhbmVsKSA+IC0xO1xuICB9XG5cbiAgcHVibGljIHRvZ2dsZShwYW5lbDogUGFuZWwpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudmlldy5maW5kSW5kZXgoKHYpID0+IHYgPT09IHBhbmVsKTtcbiAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICB0aGlzLnZpZXcucHVzaChwYW5lbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmlldy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxufVxuIiwiQGlmICh0aGlzLmJyZWFrcG9pbnRzLmlzVGFibGV0dGUkIHwgYXN5bmMpIHtcbiAgPGRpdiBjbGFzcz1cIm1vYmlsZS1jb250cm9sIGZ1bGwtd2lkdGhcIj5cbiAgICA8ZGl2IGNsYXNzPVwic3BhY2UtYmV0d2VlblwiPlxuICAgICAgPHRhLWJ1dHRvbiAoYWN0aW9uKT1cInRoaXMudG9nZ2xlKCdjZW50ZXInKVwiIHR5cGU9XCJzZWNvbmRhcnlcIiBbb3B0aW9uc109XCJ7IGNpcmN1bGFyOiAnc21hbGwnIH1cIj5cbiAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwibWFpbFwiIHNpemU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgPC90YS1idXR0b24+XG4gICAgICA8dGEtYnV0dG9uIChhY3Rpb24pPVwidGhpcy50b2dnbGUoJ3JpZ2h0JylcIiB0eXBlPVwic2Vjb25kYXJ5XCIgW29wdGlvbnNdPVwieyBjaXJjdWxhcjogJ3NtYWxsJyB9XCI+XG4gICAgICAgIDx0YS1mb250LWljb24gbmFtZT1cInRhc2stdG9kb1wiIHNpemU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgPC90YS1idXR0b24+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxufVxuPGRpdiBjbGFzcz1cImZsZXgtY29udGFpbmVyXCI+XG4gIDxkaXYgY2xhc3M9XCJtYWluXCI+XG4gICAgPGRpdiBjbGFzcz1cImxlZnRcIj5cbiAgICAgIEBpZiAodGhpcy5hbGxvd0Nsb3NlKCkpIHtcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xcIj5cbiAgICAgICAgICBAaWYgKHRoaXMuaGFzKCdsZWZ0JykpIHtcbiAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltoZWFkZXItbGVmdF1cIj48L25nLWNvbnRlbnQ+XG4gICAgICAgICAgfVxuICAgICAgICAgIDx0YS1idXR0b25cbiAgICAgICAgICAgIChhY3Rpb24pPVwidGhpcy50b2dnbGUoJ2xlZnQnKVwiXG4gICAgICAgICAgICBbc3R5bGVdPVwiJ3NlY29uZGFyeSdcIlxuICAgICAgICAgICAgW29wdGlvbnNdPVwieyBjaXJjdWxhcjogJ3NtYWxsJyB9XCJcbiAgICAgICAgICAgIFtzdGF0ZV09XCJ0aGlzLnN0YXRlKCdsZWZ0JylcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEBpZiAodGhpcy5oYXMoJ2xlZnQnKSkge1xuICAgICAgICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJleHBhbmQtaG9yaXpvbnRhbFwiIHNpemU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgICAgIDx0YS1mb250LWljb24gbmFtZT1cImNvbGxhcHNlLWhvcml6b250YWxcIiBzaXplPVwic21cIj48L3RhLWZvbnQtaWNvbj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3RhLWJ1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICB9XG4gICAgICBAaWYgKHRoaXMuaGFzKCdsZWZ0JykpIHtcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwibGVmdFRlbXBsYXRlXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICB9XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiY2VudGVyXCI+XG4gICAgICBAaWYgKHRoaXMuYWxsb3dDbG9zZSgpKSB7XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250cm9sXCI+XG4gICAgICAgICAgQGlmICh0aGlzLmhhcygnY2VudGVyJykpIHtcbiAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltoZWFkZXItY2VudGVyXVwiPjwvbmctY29udGVudD5cbiAgICAgICAgICB9XG4gICAgICAgICAgPHRhLWJ1dHRvblxuICAgICAgICAgICAgKGFjdGlvbik9XCJ0aGlzLnRvZ2dsZSgnY2VudGVyJylcIlxuICAgICAgICAgICAgW3N0eWxlXT1cIidzZWNvbmRhcnknXCJcbiAgICAgICAgICAgIFtvcHRpb25zXT1cInsgY2lyY3VsYXI6ICdzbWFsbCcgfVwiXG4gICAgICAgICAgICBbc3RhdGVdPVwidGhpcy5zdGF0ZSgnY2VudGVyJylcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEBpZiAodGhpcy5oYXMoJ2NlbnRlcicpKSB7XG4gICAgICAgICAgICAgIDx0YS1mb250LWljb24gbmFtZT1cImV4cGFuZC1ob3Jpem9udGFsXCIgc2l6ZT1cInNtXCI+PC90YS1mb250LWljb24+XG4gICAgICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwiY29sbGFwc2UtaG9yaXpvbnRhbFwiIHNpemU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvdGEtYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICAgIEBpZiAodGhpcy5oYXMoJ2NlbnRlcicpICYmICEodGhpcy5icmVha3BvaW50cy5pc1RhYmxldHRlJCB8IGFzeW5jKSkge1xuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJjZW50ZXJUZW1wbGF0ZVwiPjwvbmctdGVtcGxhdGU+XG4gICAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICBAaWYgKCEodGhpcy5icmVha3BvaW50cy5pc1RhYmxldHRlJCB8IGFzeW5jKSkge1xuICAgIDxkaXYgY2xhc3M9XCJzZWNvbmRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJyaWdodFwiPlxuICAgICAgICBAaWYgKHRoaXMuYWxsb3dDbG9zZSgpKSB7XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xcIj5cbiAgICAgICAgICAgIEBpZiAodGhpcy5oYXMoJ3JpZ2h0JykpIHtcbiAgICAgICAgICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW2hlYWRlci1yaWdodF1cIj48L25nLWNvbnRlbnQ+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA8dGEtYnV0dG9uXG4gICAgICAgICAgICAgIChhY3Rpb24pPVwidGhpcy50b2dnbGUoJ3JpZ2h0JylcIlxuICAgICAgICAgICAgICBbc3R5bGVdPVwiJ3NlY29uZGFyeSdcIlxuICAgICAgICAgICAgICBbb3B0aW9uc109XCJ7IGNpcmN1bGFyOiAnc21hbGwnIH1cIlxuICAgICAgICAgICAgICBbc3RhdGVdPVwidGhpcy5zdGF0ZSgncmlnaHQnKVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIEBpZiAodGhpcy5oYXMoJ3JpZ2h0JykpIHtcbiAgICAgICAgICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJleHBhbmQtaG9yaXpvbnRhbFwiIHNpemU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJjb2xsYXBzZS1ob3Jpem9udGFsXCIgc2l6ZT1cInNtXCI+PC90YS1mb250LWljb24+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvdGEtYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIEBpZiAodGhpcy5oYXMoJ3JpZ2h0JykpIHtcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cInJpZ2h0VGVtcGxhdGVcIj48L25nLXRlbXBsYXRlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgfVxuPC9kaXY+XG5cbkBpZiAodGhpcy5icmVha3BvaW50cy5pc1RhYmxldHRlJCB8IGFzeW5jKSB7XG4gIEBpZiAodGhpcy5oYXMoJ2NlbnRlcicpKSB7XG4gICAgPHRhLWxheW91dC1mdWxsLXBhbmVsIChjbG9zZUV2ZW50KT1cInRoaXMudG9nZ2xlKCdjZW50ZXInKVwiIHdpZHRoPVwiMTAwJVwiPlxuICAgICAgPG5nLXRlbXBsYXRlIFtuZ1RlbXBsYXRlT3V0bGV0XT1cImNlbnRlclRlbXBsYXRlXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICA8L3RhLWxheW91dC1mdWxsLXBhbmVsPlxuICB9XG4gIEBpZiAodGhpcy5oYXMoJ3JpZ2h0JykpIHtcbiAgICA8dGEtbGF5b3V0LWZ1bGwtcGFuZWwgKGNsb3NlRXZlbnQpPVwidGhpcy50b2dnbGUoJ3JpZ2h0JylcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmdWxsLXdpZHRoXCI+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJyaWdodFRlbXBsYXRlXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgIDwvZGl2PlxuICAgIDwvdGEtbGF5b3V0LWZ1bGwtcGFuZWw+XG4gIH1cbn1cblxuPG5nLXRlbXBsYXRlICNsZWZ0VGVtcGxhdGU+XG4gIDxuZy1jb250ZW50IHNlbGVjdD1cIltsZWZ0XVwiPjwvbmctY29udGVudD5cbjwvbmctdGVtcGxhdGU+XG5cbjxuZy10ZW1wbGF0ZSAjY2VudGVyVGVtcGxhdGU+XG4gIDxuZy1jb250ZW50IHNlbGVjdD1cIltjZW50ZXJdXCI+PC9uZy1jb250ZW50PlxuPC9uZy10ZW1wbGF0ZT5cblxuPG5nLXRlbXBsYXRlICNyaWdodFRlbXBsYXRlPlxuICA8bmctY29udGVudCBzZWxlY3Q9XCJbcmlnaHRdXCI+PC9uZy1jb250ZW50PlxuPC9uZy10ZW1wbGF0ZT5cbiJdfQ==