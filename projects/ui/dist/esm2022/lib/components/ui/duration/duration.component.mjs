import { Component, input } from "@angular/core";
import { TranslateModule } from "@ngx-translate/core";
import { intervalToDuration } from "date-fns";
import { PluralTranslatePipe } from "@ta/utils";
import { TaTranslationUI } from "../../../translation.service";
import * as i0 from "@angular/core";
import * as i1 from "@ngx-translate/core";
export class DurationComponent {
    constructor() {
        this.startDate = input(Date.now());
        this.endDate = input(Date.now());
        this.interval = null;
        TaTranslationUI.getInstance();
    }
    ngOnInit() {
        if (this.startDate() && this.endDate()) {
            try {
                this.interval = intervalToDuration({
                    start: new Date(this.startDate()),
                    end: new Date(this.endDate()),
                });
            }
            catch (error) {
                console.error("Invalid date format:", error);
            }
        }
        else {
            console.error("startDate or endDate is missing");
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: DurationComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: DurationComponent, isStandalone: true, selector: "ta-duration", inputs: { startDate: { classPropertyName: "startDate", publicName: "startDate", isSignal: true, isRequired: false, transformFunction: null }, endDate: { classPropertyName: "endDate", publicName: "endDate", isSignal: true, isRequired: false, transformFunction: null } }, ngImport: i0, template: "@if (this.interval) { @if ( !this.interval.years && !this.interval.months &&\n!this.interval.days && !this.interval?.hours ) {\n{{ \"ui.duration.less-than-one\" | translate }}\n} @if (this.interval.years) {\n{{\n  \"ui.duration.years\"\n    | pluralTranslate : this.interval.years\n    | translate : { years: this.interval.years }\n}}\n} @if (this.interval.months) {\n{{\n  \"ui.duration.months\"\n    | pluralTranslate : this.interval.months\n    | translate : { months: this.interval.months }\n}}\n} @if (this.interval.days) {\n{{\n  \"ui.duration.days\"\n    | pluralTranslate : this.interval.days\n    | translate : { days: this.interval.days }\n}}\n} @if (this.interval.hours) {\n{{\n  \"ui.duration.hours\"\n    | pluralTranslate : this.interval.hours\n    | translate : { hours: this.interval.hours }\n}}\n} }\n", styles: [""], dependencies: [{ kind: "ngmodule", type: TranslateModule }, { kind: "pipe", type: i1.TranslatePipe, name: "translate" }, { kind: "pipe", type: PluralTranslatePipe, name: "pluralTranslate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: DurationComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-duration", standalone: true, imports: [TranslateModule, PluralTranslatePipe], template: "@if (this.interval) { @if ( !this.interval.years && !this.interval.months &&\n!this.interval.days && !this.interval?.hours ) {\n{{ \"ui.duration.less-than-one\" | translate }}\n} @if (this.interval.years) {\n{{\n  \"ui.duration.years\"\n    | pluralTranslate : this.interval.years\n    | translate : { years: this.interval.years }\n}}\n} @if (this.interval.months) {\n{{\n  \"ui.duration.months\"\n    | pluralTranslate : this.interval.months\n    | translate : { months: this.interval.months }\n}}\n} @if (this.interval.days) {\n{{\n  \"ui.duration.days\"\n    | pluralTranslate : this.interval.days\n    | translate : { days: this.interval.days }\n}}\n} @if (this.interval.hours) {\n{{\n  \"ui.duration.hours\"\n    | pluralTranslate : this.interval.hours\n    | translate : { hours: this.interval.hours }\n}}\n} }\n" }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHVyYXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL3VpL2R1cmF0aW9uL2R1cmF0aW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy91aS9kdXJhdGlvbi9kdXJhdGlvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUV6RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDdEQsT0FBTyxFQUFZLGtCQUFrQixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRXhELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUVoRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sOEJBQThCLENBQUM7OztBQVMvRCxNQUFNLE9BQU8saUJBQWlCO0lBTzVCO1FBTkEsY0FBUyxHQUFHLEtBQUssQ0FBa0IsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFFL0MsWUFBTyxHQUFHLEtBQUssQ0FBa0IsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFFdEMsYUFBUSxHQUFvQixJQUFJLENBQUM7UUFHdEMsZUFBZSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUM7WUFDdkMsSUFBSSxDQUFDO2dCQUNILElBQUksQ0FBQyxRQUFRLEdBQUcsa0JBQWtCLENBQUM7b0JBQ2pDLEtBQUssRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7b0JBQ2pDLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7aUJBQzlCLENBQUMsQ0FBQztZQUNMLENBQUM7WUFBQyxPQUFPLEtBQUssRUFBRSxDQUFDO2dCQUNmLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDL0MsQ0FBQztRQUNILENBQUM7YUFBTSxDQUFDO1lBQ04sT0FBTyxDQUFDLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO1FBQ25ELENBQUM7SUFDSCxDQUFDOytHQXhCVSxpQkFBaUI7bUdBQWpCLGlCQUFpQixxVkNoQjlCLG96QkE0QkEseUREZFksZUFBZSx1RkFBRSxtQkFBbUI7OzRGQUVuQyxpQkFBaUI7a0JBUDdCLFNBQVM7K0JBQ0UsYUFBYSxjQUdYLElBQUksV0FDUCxDQUFDLGVBQWUsRUFBRSxtQkFBbUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgaW5wdXQsIE9uSW5pdCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5cbmltcG9ydCB7IFRyYW5zbGF0ZU1vZHVsZSB9IGZyb20gXCJAbmd4LXRyYW5zbGF0ZS9jb3JlXCI7XG5pbXBvcnQgeyBEdXJhdGlvbiwgaW50ZXJ2YWxUb0R1cmF0aW9uIH0gZnJvbSBcImRhdGUtZm5zXCI7XG5cbmltcG9ydCB7IFBsdXJhbFRyYW5zbGF0ZVBpcGUgfSBmcm9tIFwiQHRhL3V0aWxzXCI7XG5cbmltcG9ydCB7IFRhVHJhbnNsYXRpb25VSSB9IGZyb20gXCIuLi8uLi8uLi90cmFuc2xhdGlvbi5zZXJ2aWNlXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogXCJ0YS1kdXJhdGlvblwiLFxuICB0ZW1wbGF0ZVVybDogXCIuL2R1cmF0aW9uLmNvbXBvbmVudC5odG1sXCIsXG4gIHN0eWxlVXJsczogW1wiLi9kdXJhdGlvbi5jb21wb25lbnQuc2Nzc1wiXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1RyYW5zbGF0ZU1vZHVsZSwgUGx1cmFsVHJhbnNsYXRlUGlwZV0sXG59KVxuZXhwb3J0IGNsYXNzIER1cmF0aW9uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgc3RhcnREYXRlID0gaW5wdXQ8bnVtYmVyIHwgc3RyaW5nPihEYXRlLm5vdygpKTtcblxuICBlbmREYXRlID0gaW5wdXQ8bnVtYmVyIHwgc3RyaW5nPihEYXRlLm5vdygpKTtcblxuICBwdWJsaWMgaW50ZXJ2YWw6IER1cmF0aW9uIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgVGFUcmFuc2xhdGlvblVJLmdldEluc3RhbmNlKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBpZiAodGhpcy5zdGFydERhdGUoKSAmJiB0aGlzLmVuZERhdGUoKSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IGludGVydmFsVG9EdXJhdGlvbih7XG4gICAgICAgICAgc3RhcnQ6IG5ldyBEYXRlKHRoaXMuc3RhcnREYXRlKCkpLFxuICAgICAgICAgIGVuZDogbmV3IERhdGUodGhpcy5lbmREYXRlKCkpLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGRhdGUgZm9ybWF0OlwiLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJzdGFydERhdGUgb3IgZW5kRGF0ZSBpcyBtaXNzaW5nXCIpO1xuICAgIH1cbiAgfVxufVxuIiwiQGlmICh0aGlzLmludGVydmFsKSB7IEBpZiAoICF0aGlzLmludGVydmFsLnllYXJzICYmICF0aGlzLmludGVydmFsLm1vbnRocyAmJlxuIXRoaXMuaW50ZXJ2YWwuZGF5cyAmJiAhdGhpcy5pbnRlcnZhbD8uaG91cnMgKSB7XG57eyBcInVpLmR1cmF0aW9uLmxlc3MtdGhhbi1vbmVcIiB8IHRyYW5zbGF0ZSB9fVxufSBAaWYgKHRoaXMuaW50ZXJ2YWwueWVhcnMpIHtcbnt7XG4gIFwidWkuZHVyYXRpb24ueWVhcnNcIlxuICAgIHwgcGx1cmFsVHJhbnNsYXRlIDogdGhpcy5pbnRlcnZhbC55ZWFyc1xuICAgIHwgdHJhbnNsYXRlIDogeyB5ZWFyczogdGhpcy5pbnRlcnZhbC55ZWFycyB9XG59fVxufSBAaWYgKHRoaXMuaW50ZXJ2YWwubW9udGhzKSB7XG57e1xuICBcInVpLmR1cmF0aW9uLm1vbnRoc1wiXG4gICAgfCBwbHVyYWxUcmFuc2xhdGUgOiB0aGlzLmludGVydmFsLm1vbnRoc1xuICAgIHwgdHJhbnNsYXRlIDogeyBtb250aHM6IHRoaXMuaW50ZXJ2YWwubW9udGhzIH1cbn19XG59IEBpZiAodGhpcy5pbnRlcnZhbC5kYXlzKSB7XG57e1xuICBcInVpLmR1cmF0aW9uLmRheXNcIlxuICAgIHwgcGx1cmFsVHJhbnNsYXRlIDogdGhpcy5pbnRlcnZhbC5kYXlzXG4gICAgfCB0cmFuc2xhdGUgOiB7IGRheXM6IHRoaXMuaW50ZXJ2YWwuZGF5cyB9XG59fVxufSBAaWYgKHRoaXMuaW50ZXJ2YWwuaG91cnMpIHtcbnt7XG4gIFwidWkuZHVyYXRpb24uaG91cnNcIlxuICAgIHwgcGx1cmFsVHJhbnNsYXRlIDogdGhpcy5pbnRlcnZhbC5ob3Vyc1xuICAgIHwgdHJhbnNsYXRlIDogeyBob3VyczogdGhpcy5pbnRlcnZhbC5ob3VycyB9XG59fVxufSB9XG4iXX0=