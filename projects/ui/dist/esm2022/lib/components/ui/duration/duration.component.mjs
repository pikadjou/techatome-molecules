import { Component, Input } from "@angular/core";
import { TranslateModule } from "@ngx-translate/core";
import { intervalToDuration } from "date-fns";
import { PluralTranslatePipe } from "@ta/utils";
import { TaTranslationUI } from "../../../translation.service";
import * as i0 from "@angular/core";
import * as i1 from "@ngx-translate/core";
export class DurationComponent {
    constructor() {
        this.startDate = Date.now();
        this.endDate = Date.now();
        this.interval = null;
        TaTranslationUI.getInstance();
    }
    ngOnInit() {
        if (this.startDate && this.endDate) {
            try {
                this.interval = intervalToDuration({
                    start: new Date(this.startDate),
                    end: new Date(this.endDate),
                });
            }
            catch (error) {
                console.error("Invalid date format:", error);
            }
        }
        else {
            console.error("startDate or endDate is missing");
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: DurationComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: DurationComponent, isStandalone: true, selector: "ta-duration", inputs: { startDate: "startDate", endDate: "endDate" }, ngImport: i0, template: "@if (this.interval) { @if ( !this.interval.years && !this.interval.months &&\n!this.interval.days && !this.interval?.hours ) {\n{{ \"ui.duration.less-than-one\" | translate }}\n} @if (this.interval.years) {\n{{\n  \"ui.duration.years\"\n    | pluralTranslate : this.interval.years\n    | translate : { years: this.interval.years }\n}}\n} @if (this.interval.months) {\n{{\n  \"ui.duration.months\"\n    | pluralTranslate : this.interval.months\n    | translate : { months: this.interval.months }\n}}\n} @if (this.interval.days) {\n{{\n  \"ui.duration.days\"\n    | pluralTranslate : this.interval.days\n    | translate : { days: this.interval.days }\n}}\n} @if (this.interval.hours) {\n{{\n  \"ui.duration.hours\"\n    | pluralTranslate : this.interval.hours\n    | translate : { hours: this.interval.hours }\n}}\n} }\n", styles: [""], dependencies: [{ kind: "ngmodule", type: TranslateModule }, { kind: "pipe", type: i1.TranslatePipe, name: "translate" }, { kind: "pipe", type: PluralTranslatePipe, name: "pluralTranslate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: DurationComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-duration", standalone: true, imports: [TranslateModule, PluralTranslatePipe], template: "@if (this.interval) { @if ( !this.interval.years && !this.interval.months &&\n!this.interval.days && !this.interval?.hours ) {\n{{ \"ui.duration.less-than-one\" | translate }}\n} @if (this.interval.years) {\n{{\n  \"ui.duration.years\"\n    | pluralTranslate : this.interval.years\n    | translate : { years: this.interval.years }\n}}\n} @if (this.interval.months) {\n{{\n  \"ui.duration.months\"\n    | pluralTranslate : this.interval.months\n    | translate : { months: this.interval.months }\n}}\n} @if (this.interval.days) {\n{{\n  \"ui.duration.days\"\n    | pluralTranslate : this.interval.days\n    | translate : { days: this.interval.days }\n}}\n} @if (this.interval.hours) {\n{{\n  \"ui.duration.hours\"\n    | pluralTranslate : this.interval.hours\n    | translate : { hours: this.interval.hours }\n}}\n} }\n" }]
        }], ctorParameters: () => [], propDecorators: { startDate: [{
                type: Input
            }], endDate: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHVyYXRpb24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL3VpL2R1cmF0aW9uL2R1cmF0aW9uLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy91aS9kdXJhdGlvbi9kdXJhdGlvbi5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUV6RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDdEQsT0FBTyxFQUFZLGtCQUFrQixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBRXhELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUVoRCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sOEJBQThCLENBQUM7OztBQVMvRCxNQUFNLE9BQU8saUJBQWlCO0lBUzVCO1FBUEEsY0FBUyxHQUFvQixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFHeEMsWUFBTyxHQUFvQixJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFFL0IsYUFBUSxHQUFvQixJQUFJLENBQUM7UUFHdEMsZUFBZSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNuQyxJQUFJLENBQUM7Z0JBQ0gsSUFBSSxDQUFDLFFBQVEsR0FBRyxrQkFBa0IsQ0FBQztvQkFDakMsS0FBSyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7b0JBQy9CLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO2lCQUM1QixDQUFDLENBQUM7WUFDTCxDQUFDO1lBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztnQkFDZixPQUFPLENBQUMsS0FBSyxDQUFDLHNCQUFzQixFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQy9DLENBQUM7UUFDSCxDQUFDO2FBQU0sQ0FBQztZQUNOLE9BQU8sQ0FBQyxLQUFLLENBQUMsaUNBQWlDLENBQUMsQ0FBQztRQUNuRCxDQUFDO0lBQ0gsQ0FBQzsrR0ExQlUsaUJBQWlCO21HQUFqQixpQkFBaUIsK0hDaEI5QixvekJBNEJBLHlERGRZLGVBQWUsdUZBQUUsbUJBQW1COzs0RkFFbkMsaUJBQWlCO2tCQVA3QixTQUFTOytCQUNFLGFBQWEsY0FHWCxJQUFJLFdBQ1AsQ0FBQyxlQUFlLEVBQUUsbUJBQW1CLENBQUM7d0RBSS9DLFNBQVM7c0JBRFIsS0FBSztnQkFJTixPQUFPO3NCQUROLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5pbXBvcnQgeyBUcmFuc2xhdGVNb2R1bGUgfSBmcm9tIFwiQG5neC10cmFuc2xhdGUvY29yZVwiO1xuaW1wb3J0IHsgRHVyYXRpb24sIGludGVydmFsVG9EdXJhdGlvbiB9IGZyb20gXCJkYXRlLWZuc1wiO1xuXG5pbXBvcnQgeyBQbHVyYWxUcmFuc2xhdGVQaXBlIH0gZnJvbSBcIkB0YS91dGlsc1wiO1xuXG5pbXBvcnQgeyBUYVRyYW5zbGF0aW9uVUkgfSBmcm9tIFwiLi4vLi4vLi4vdHJhbnNsYXRpb24uc2VydmljZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IFwidGEtZHVyYXRpb25cIixcbiAgdGVtcGxhdGVVcmw6IFwiLi9kdXJhdGlvbi5jb21wb25lbnQuaHRtbFwiLFxuICBzdHlsZVVybHM6IFtcIi4vZHVyYXRpb24uY29tcG9uZW50LnNjc3NcIl0sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtUcmFuc2xhdGVNb2R1bGUsIFBsdXJhbFRyYW5zbGF0ZVBpcGVdLFxufSlcbmV4cG9ydCBjbGFzcyBEdXJhdGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpXG4gIHN0YXJ0RGF0ZTogbnVtYmVyIHwgc3RyaW5nID0gRGF0ZS5ub3coKTtcblxuICBASW5wdXQoKVxuICBlbmREYXRlOiBudW1iZXIgfCBzdHJpbmcgPSBEYXRlLm5vdygpO1xuXG4gIHB1YmxpYyBpbnRlcnZhbDogRHVyYXRpb24gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBUYVRyYW5zbGF0aW9uVUkuZ2V0SW5zdGFuY2UoKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIGlmICh0aGlzLnN0YXJ0RGF0ZSAmJiB0aGlzLmVuZERhdGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWwgPSBpbnRlcnZhbFRvRHVyYXRpb24oe1xuICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZSh0aGlzLnN0YXJ0RGF0ZSksXG4gICAgICAgICAgZW5kOiBuZXcgRGF0ZSh0aGlzLmVuZERhdGUpLFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGRhdGUgZm9ybWF0OlwiLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJzdGFydERhdGUgb3IgZW5kRGF0ZSBpcyBtaXNzaW5nXCIpO1xuICAgIH1cbiAgfVxufVxuIiwiQGlmICh0aGlzLmludGVydmFsKSB7IEBpZiAoICF0aGlzLmludGVydmFsLnllYXJzICYmICF0aGlzLmludGVydmFsLm1vbnRocyAmJlxuIXRoaXMuaW50ZXJ2YWwuZGF5cyAmJiAhdGhpcy5pbnRlcnZhbD8uaG91cnMgKSB7XG57eyBcInVpLmR1cmF0aW9uLmxlc3MtdGhhbi1vbmVcIiB8IHRyYW5zbGF0ZSB9fVxufSBAaWYgKHRoaXMuaW50ZXJ2YWwueWVhcnMpIHtcbnt7XG4gIFwidWkuZHVyYXRpb24ueWVhcnNcIlxuICAgIHwgcGx1cmFsVHJhbnNsYXRlIDogdGhpcy5pbnRlcnZhbC55ZWFyc1xuICAgIHwgdHJhbnNsYXRlIDogeyB5ZWFyczogdGhpcy5pbnRlcnZhbC55ZWFycyB9XG59fVxufSBAaWYgKHRoaXMuaW50ZXJ2YWwubW9udGhzKSB7XG57e1xuICBcInVpLmR1cmF0aW9uLm1vbnRoc1wiXG4gICAgfCBwbHVyYWxUcmFuc2xhdGUgOiB0aGlzLmludGVydmFsLm1vbnRoc1xuICAgIHwgdHJhbnNsYXRlIDogeyBtb250aHM6IHRoaXMuaW50ZXJ2YWwubW9udGhzIH1cbn19XG59IEBpZiAodGhpcy5pbnRlcnZhbC5kYXlzKSB7XG57e1xuICBcInVpLmR1cmF0aW9uLmRheXNcIlxuICAgIHwgcGx1cmFsVHJhbnNsYXRlIDogdGhpcy5pbnRlcnZhbC5kYXlzXG4gICAgfCB0cmFuc2xhdGUgOiB7IGRheXM6IHRoaXMuaW50ZXJ2YWwuZGF5cyB9XG59fVxufSBAaWYgKHRoaXMuaW50ZXJ2YWwuaG91cnMpIHtcbnt7XG4gIFwidWkuZHVyYXRpb24uaG91cnNcIlxuICAgIHwgcGx1cmFsVHJhbnNsYXRlIDogdGhpcy5pbnRlcnZhbC5ob3Vyc1xuICAgIHwgdHJhbnNsYXRlIDogeyBob3VyczogdGhpcy5pbnRlcnZhbC5ob3VycyB9XG59fVxufSB9XG4iXX0=