import { NgIf } from '@angular/common';
import { Component, Input, ViewChild } from '@angular/core';
import { TranslateModule } from '@ngx-translate/core';
import { TaTranslationUI } from '../translation.service';
import * as i0 from "@angular/core";
import * as i1 from "@ngx-translate/core";
export class ExpandableTextComponent {
    constructor() {
        this.height = 100;
        this.showFullText = false;
        this.showButton = true;
        TaTranslationUI.getInstance();
    }
    get textHeight() {
        if (this._myText) {
            if (this._myText.nativeElement.offsetHeight < this.height) {
                return 'auto';
            }
        }
        if (this.showFullText) {
            return 'auto';
        }
        return `${this.height}px`;
    }
    get hasFixedHeight() {
        return this.textHeight != 'auto';
    }
    get hasTooBigText() {
        if (this._myText) {
            return this._myText.nativeElement.offsetHeight > this.height;
        }
        return true;
    }
    toggleText() {
        if (this.showFullText === false) {
            this.showFullText = true;
        }
        else {
            this.showFullText = false;
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: ExpandableTextComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: ExpandableTextComponent, isStandalone: true, selector: "ta-expandable-text", inputs: { height: "height" }, viewQueries: [{ propertyName: "_myText", first: true, predicate: ["myText"], descendants: true }], ngImport: i0, template: "<div class=\"text-container\">\n  <div\n    class=\"text\"\n    [class.with-shadow]=\"this.hasFixedHeight\"\n    [style.height]=\"this.textHeight\"\n  >\n    <div #myText>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  @if (this.hasTooBigText) {\n    <button (click)=\"toggleText()\">\n      {{\n        (this.showFullText\n          ? \"ui.expandabletext.seeless\"\n          : \"ui.expandabletext.seemore\"\n        ) | translate\n      }}\n    </button>\n  }\n</div>\n", styles: [".text-container .text{overflow:hidden;position:relative}.text-container .with-shadow:after{content:\" \";position:absolute;left:0;right:0;bottom:0;height:50px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0)),color-stop(100%,rgb(255,255,255)));background:-webkit-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-o-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-ms-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:linear-gradient(to bottom,#fff0,#fff);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#00ffffff\",endColorstr=\"#ffffff\",GradientType=0)}.text-container button{margin-top:var(--ta-space-xs);background-color:transparent;border:none;color:var(--ta-neutral-500);cursor:pointer;padding:0;font-size:inherit}\n"], dependencies: [{ kind: "ngmodule", type: TranslateModule }, { kind: "pipe", type: i1.TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: ExpandableTextComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-expandable-text', standalone: true, imports: [NgIf, TranslateModule], template: "<div class=\"text-container\">\n  <div\n    class=\"text\"\n    [class.with-shadow]=\"this.hasFixedHeight\"\n    [style.height]=\"this.textHeight\"\n  >\n    <div #myText>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  @if (this.hasTooBigText) {\n    <button (click)=\"toggleText()\">\n      {{\n        (this.showFullText\n          ? \"ui.expandabletext.seeless\"\n          : \"ui.expandabletext.seemore\"\n        ) | translate\n      }}\n    </button>\n  }\n</div>\n", styles: [".text-container .text{overflow:hidden;position:relative}.text-container .with-shadow:after{content:\" \";position:absolute;left:0;right:0;bottom:0;height:50px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0)),color-stop(100%,rgb(255,255,255)));background:-webkit-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-o-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-ms-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:linear-gradient(to bottom,#fff0,#fff);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#00ffffff\",endColorstr=\"#ffffff\",GradientType=0)}.text-container button{margin-top:var(--ta-space-xs);background-color:transparent;border:none;color:var(--ta-neutral-500);cursor:pointer;padding:0;font-size:inherit}\n"] }]
        }], ctorParameters: () => [], propDecorators: { height: [{
                type: Input
            }], _myText: [{
                type: ViewChild,
                args: ['myText']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy91aS9leHBhbmRhYmxlLXRleHQvZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy91aS9leHBhbmRhYmxlLXRleHQvZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2QyxPQUFPLEVBQUUsU0FBUyxFQUFjLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFeEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXRELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQzs7O0FBU3pELE1BQU0sT0FBTyx1QkFBdUI7SUFVbEM7UUFSQSxXQUFNLEdBQVcsR0FBRyxDQUFDO1FBRWQsaUJBQVksR0FBWSxLQUFLLENBQUM7UUFDOUIsZUFBVSxHQUFZLElBQUksQ0FBQztRQU1oQyxlQUFlLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELElBQUksVUFBVTtRQUNaLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pCLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztnQkFDMUQsT0FBTyxNQUFNLENBQUM7WUFDaEIsQ0FBQztRQUNILENBQUM7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUN0QixPQUFPLE1BQU0sQ0FBQztRQUNoQixDQUFDO1FBQ0QsT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQztJQUM1QixDQUFDO0lBRUQsSUFBSSxjQUFjO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLFVBQVUsSUFBSSxNQUFNLENBQUM7SUFDbkMsQ0FBQztJQUVELElBQUksYUFBYTtRQUNmLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQ2pCLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxhQUFhLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDL0QsQ0FBQztRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELFVBQVU7UUFDUixJQUFJLElBQUksQ0FBQyxZQUFZLEtBQUssS0FBSyxFQUFFLENBQUM7WUFDaEMsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFDM0IsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztRQUM1QixDQUFDO0lBQ0gsQ0FBQzsrR0EzQ1UsdUJBQXVCO21HQUF2Qix1QkFBdUIsK01DZHBDLG9lQXFCQSwrb0REVGtCLGVBQWU7OzRGQUVwQix1QkFBdUI7a0JBUG5DLFNBQVM7K0JBQ0Usb0JBQW9CLGNBR2xCLElBQUksV0FDUCxDQUFDLElBQUksRUFBRSxlQUFlLENBQUM7d0RBSWhDLE1BQU07c0JBREwsS0FBSztnQkFPQyxPQUFPO3NCQURiLFNBQVM7dUJBQUMsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nSWYgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBJbnB1dCwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFRyYW5zbGF0ZU1vZHVsZSB9IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuXG5pbXBvcnQgeyBUYVRyYW5zbGF0aW9uVUkgfSBmcm9tICcuLi90cmFuc2xhdGlvbi5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGEtZXhwYW5kYWJsZS10ZXh0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2V4cGFuZGFibGUtdGV4dC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2V4cGFuZGFibGUtdGV4dC5jb21wb25lbnQuc2NzcyddLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbTmdJZiwgVHJhbnNsYXRlTW9kdWxlXSxcbn0pXG5leHBvcnQgY2xhc3MgRXhwYW5kYWJsZVRleHRDb21wb25lbnQge1xuICBASW5wdXQoKVxuICBoZWlnaHQ6IG51bWJlciA9IDEwMDtcblxuICBwdWJsaWMgc2hvd0Z1bGxUZXh0OiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBzaG93QnV0dG9uOiBib29sZWFuID0gdHJ1ZTtcblxuICBAVmlld0NoaWxkKCdteVRleHQnKVxuICBwdWJsaWMgX215VGV4dCE6IEVsZW1lbnRSZWY8SFRNTERpdkVsZW1lbnQ+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIFRhVHJhbnNsYXRpb25VSS5nZXRJbnN0YW5jZSgpO1xuICB9XG5cbiAgZ2V0IHRleHRIZWlnaHQoKSB7XG4gICAgaWYgKHRoaXMuX215VGV4dCkge1xuICAgICAgaWYgKHRoaXMuX215VGV4dC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCA8IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiAnYXV0byc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnNob3dGdWxsVGV4dCkge1xuICAgICAgcmV0dXJuICdhdXRvJztcbiAgICB9XG4gICAgcmV0dXJuIGAke3RoaXMuaGVpZ2h0fXB4YDtcbiAgfVxuXG4gIGdldCBoYXNGaXhlZEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0SGVpZ2h0ICE9ICdhdXRvJztcbiAgfVxuXG4gIGdldCBoYXNUb29CaWdUZXh0KCkge1xuICAgIGlmICh0aGlzLl9teVRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9teVRleHQubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQgPiB0aGlzLmhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0b2dnbGVUZXh0KCkge1xuICAgIGlmICh0aGlzLnNob3dGdWxsVGV4dCA9PT0gZmFsc2UpIHtcbiAgICAgIHRoaXMuc2hvd0Z1bGxUZXh0ID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zaG93RnVsbFRleHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJ0ZXh0LWNvbnRhaW5lclwiPlxuICA8ZGl2XG4gICAgY2xhc3M9XCJ0ZXh0XCJcbiAgICBbY2xhc3Mud2l0aC1zaGFkb3ddPVwidGhpcy5oYXNGaXhlZEhlaWdodFwiXG4gICAgW3N0eWxlLmhlaWdodF09XCJ0aGlzLnRleHRIZWlnaHRcIlxuICA+XG4gICAgPGRpdiAjbXlUZXh0PlxuICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgQGlmICh0aGlzLmhhc1Rvb0JpZ1RleHQpIHtcbiAgICA8YnV0dG9uIChjbGljayk9XCJ0b2dnbGVUZXh0KClcIj5cbiAgICAgIHt7XG4gICAgICAgICh0aGlzLnNob3dGdWxsVGV4dFxuICAgICAgICAgID8gXCJ1aS5leHBhbmRhYmxldGV4dC5zZWVsZXNzXCJcbiAgICAgICAgICA6IFwidWkuZXhwYW5kYWJsZXRleHQuc2VlbW9yZVwiXG4gICAgICAgICkgfCB0cmFuc2xhdGVcbiAgICAgIH19XG4gICAgPC9idXR0b24+XG4gIH1cbjwvZGl2PlxuIl19