import { NgIf } from "@angular/common";
import { Component, input, ViewChild } from "@angular/core";
import { TranslateModule } from "@ngx-translate/core";
import { TaTranslationUI } from "../../../translation.service";
import * as i0 from "@angular/core";
import * as i1 from "@ngx-translate/core";
export class ExpandableTextComponent {
    constructor() {
        this.height = input(100);
        this.showFullText = false;
        this.showButton = true;
        TaTranslationUI.getInstance();
    }
    get textHeight() {
        if (this._myText) {
            if (this._myText.nativeElement.offsetHeight < this.height()) {
                return "auto";
            }
        }
        if (this.showFullText) {
            return "auto";
        }
        return `${this.height()}px`;
    }
    get hasFixedHeight() {
        return this.textHeight != "auto";
    }
    get hasTooBigText() {
        if (this._myText) {
            return this._myText.nativeElement.offsetHeight > this.height();
        }
        return true;
    }
    toggleText() {
        if (this.showFullText === false) {
            this.showFullText = true;
        }
        else {
            this.showFullText = false;
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: ExpandableTextComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: ExpandableTextComponent, isStandalone: true, selector: "ta-expandable-text", inputs: { height: { classPropertyName: "height", publicName: "height", isSignal: true, isRequired: false, transformFunction: null } }, viewQueries: [{ propertyName: "_myText", first: true, predicate: ["myText"], descendants: true }], ngImport: i0, template: "<div class=\"text-container\">\n  <div\n    class=\"text\"\n    [class.with-shadow]=\"this.hasFixedHeight\"\n    [style.height]=\"this.textHeight\"\n  >\n    <div #myText>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  @if (this.hasTooBigText) {\n  <button (click)=\"toggleText()\">\n    {{\n      (this.showFullText\n        ? \"ui.expandabletext.seeless\"\n        : \"ui.expandabletext.seemore\"\n      ) | translate\n    }}\n  </button>\n  }\n</div>\n", styles: [".text-container .text{overflow:hidden;position:relative}.text-container .with-shadow:after{content:\" \";position:absolute;left:0;right:0;bottom:0;height:50px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0)),color-stop(100%,rgb(255,255,255)));background:-webkit-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-o-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-ms-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:linear-gradient(to bottom,#fff0,#fff);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#00ffffff\",endColorstr=\"#ffffff\",GradientType=0)}.text-container button{margin-top:var(--ta-space-xs);background-color:transparent;border:none;color:var(--ta-neutral-500);cursor:pointer;padding:0;font-size:inherit}\n"], dependencies: [{ kind: "ngmodule", type: TranslateModule }, { kind: "pipe", type: i1.TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: ExpandableTextComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-expandable-text", standalone: true, imports: [NgIf, TranslateModule], template: "<div class=\"text-container\">\n  <div\n    class=\"text\"\n    [class.with-shadow]=\"this.hasFixedHeight\"\n    [style.height]=\"this.textHeight\"\n  >\n    <div #myText>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  @if (this.hasTooBigText) {\n  <button (click)=\"toggleText()\">\n    {{\n      (this.showFullText\n        ? \"ui.expandabletext.seeless\"\n        : \"ui.expandabletext.seemore\"\n      ) | translate\n    }}\n  </button>\n  }\n</div>\n", styles: [".text-container .text{overflow:hidden;position:relative}.text-container .with-shadow:after{content:\" \";position:absolute;left:0;right:0;bottom:0;height:50px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0)),color-stop(100%,rgb(255,255,255)));background:-webkit-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-o-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-ms-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:linear-gradient(to bottom,#fff0,#fff);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#00ffffff\",endColorstr=\"#ffffff\",GradientType=0)}.text-container button{margin-top:var(--ta-space-xs);background-color:transparent;border:none;color:var(--ta-neutral-500);cursor:pointer;padding:0;font-size:inherit}\n"] }]
        }], ctorParameters: () => [], propDecorators: { _myText: [{
                type: ViewChild,
                args: ["myText"]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy91aS9leHBhbmRhYmxlLXRleHQvZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy91aS9leHBhbmRhYmxlLXRleHQvZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2QyxPQUFPLEVBQUUsU0FBUyxFQUFjLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFeEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXRELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQzs7O0FBUy9ELE1BQU0sT0FBTyx1QkFBdUI7SUFTbEM7UUFSQSxXQUFNLEdBQUcsS0FBSyxDQUFTLEdBQUcsQ0FBQyxDQUFDO1FBRXJCLGlCQUFZLEdBQVksS0FBSyxDQUFDO1FBQzlCLGVBQVUsR0FBWSxJQUFJLENBQUM7UUFNaEMsZUFBZSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDWixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQztnQkFDNUQsT0FBTyxNQUFNLENBQUM7WUFDaEIsQ0FBQztRQUNILENBQUM7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUN0QixPQUFPLE1BQU0sQ0FBQztRQUNoQixDQUFDO1FBQ0QsT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDO0lBQzlCLENBQUM7SUFFRCxJQUFJLGNBQWM7UUFDaEIsT0FBTyxJQUFJLENBQUMsVUFBVSxJQUFJLE1BQU0sQ0FBQztJQUNuQyxDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2YsSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDakIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2pFLENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxVQUFVO1FBQ1IsSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLEtBQUssRUFBRSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQzNCLENBQUM7YUFBTSxDQUFDO1lBQ04sSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDNUIsQ0FBQztJQUNILENBQUM7K0dBMUNVLHVCQUF1QjttR0FBdkIsdUJBQXVCLHdUQ2RwQyxvZEFxQkEsK29ERFRrQixlQUFlOzs0RkFFcEIsdUJBQXVCO2tCQVBuQyxTQUFTOytCQUNFLG9CQUFvQixjQUdsQixJQUFJLFdBQ1AsQ0FBQyxJQUFJLEVBQUUsZUFBZSxDQUFDO3dEQVN6QixPQUFPO3NCQURiLFNBQVM7dUJBQUMsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nSWYgfSBmcm9tIFwiQGFuZ3VsYXIvY29tbW9uXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIGlucHV0LCBWaWV3Q2hpbGQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5pbXBvcnQgeyBUcmFuc2xhdGVNb2R1bGUgfSBmcm9tIFwiQG5neC10cmFuc2xhdGUvY29yZVwiO1xuXG5pbXBvcnQgeyBUYVRyYW5zbGF0aW9uVUkgfSBmcm9tIFwiLi4vLi4vLi4vdHJhbnNsYXRpb24uc2VydmljZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IFwidGEtZXhwYW5kYWJsZS10ZXh0XCIsXG4gIHRlbXBsYXRlVXJsOiBcIi4vZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC5odG1sXCIsXG4gIHN0eWxlVXJsczogW1wiLi9leHBhbmRhYmxlLXRleHQuY29tcG9uZW50LnNjc3NcIl0sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtOZ0lmLCBUcmFuc2xhdGVNb2R1bGVdLFxufSlcbmV4cG9ydCBjbGFzcyBFeHBhbmRhYmxlVGV4dENvbXBvbmVudCB7XG4gIGhlaWdodCA9IGlucHV0PG51bWJlcj4oMTAwKTtcblxuICBwdWJsaWMgc2hvd0Z1bGxUZXh0OiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBzaG93QnV0dG9uOiBib29sZWFuID0gdHJ1ZTtcblxuICBAVmlld0NoaWxkKFwibXlUZXh0XCIpXG4gIHB1YmxpYyBfbXlUZXh0ITogRWxlbWVudFJlZjxIVE1MRGl2RWxlbWVudD47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgVGFUcmFuc2xhdGlvblVJLmdldEluc3RhbmNlKCk7XG4gIH1cblxuICBnZXQgdGV4dEhlaWdodCgpIHtcbiAgICBpZiAodGhpcy5fbXlUZXh0KSB7XG4gICAgICBpZiAodGhpcy5fbXlUZXh0Lm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0IDwgdGhpcy5oZWlnaHQoKSkge1xuICAgICAgICByZXR1cm4gXCJhdXRvXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnNob3dGdWxsVGV4dCkge1xuICAgICAgcmV0dXJuIFwiYXV0b1wiO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dGhpcy5oZWlnaHQoKX1weGA7XG4gIH1cblxuICBnZXQgaGFzRml4ZWRIZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dEhlaWdodCAhPSBcImF1dG9cIjtcbiAgfVxuXG4gIGdldCBoYXNUb29CaWdUZXh0KCkge1xuICAgIGlmICh0aGlzLl9teVRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9teVRleHQubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQgPiB0aGlzLmhlaWdodCgpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRvZ2dsZVRleHQoKSB7XG4gICAgaWYgKHRoaXMuc2hvd0Z1bGxUZXh0ID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5zaG93RnVsbFRleHQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3dGdWxsVGV4dCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cInRleHQtY29udGFpbmVyXCI+XG4gIDxkaXZcbiAgICBjbGFzcz1cInRleHRcIlxuICAgIFtjbGFzcy53aXRoLXNoYWRvd109XCJ0aGlzLmhhc0ZpeGVkSGVpZ2h0XCJcbiAgICBbc3R5bGUuaGVpZ2h0XT1cInRoaXMudGV4dEhlaWdodFwiXG4gID5cbiAgICA8ZGl2ICNteVRleHQ+XG4gICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICBAaWYgKHRoaXMuaGFzVG9vQmlnVGV4dCkge1xuICA8YnV0dG9uIChjbGljayk9XCJ0b2dnbGVUZXh0KClcIj5cbiAgICB7e1xuICAgICAgKHRoaXMuc2hvd0Z1bGxUZXh0XG4gICAgICAgID8gXCJ1aS5leHBhbmRhYmxldGV4dC5zZWVsZXNzXCJcbiAgICAgICAgOiBcInVpLmV4cGFuZGFibGV0ZXh0LnNlZW1vcmVcIlxuICAgICAgKSB8IHRyYW5zbGF0ZVxuICAgIH19XG4gIDwvYnV0dG9uPlxuICB9XG48L2Rpdj5cbiJdfQ==