import { NgIf } from '@angular/common';
import { Component, Input, ViewChild } from '@angular/core';
import { TranslateModule } from '@ngx-translate/core';
import { CamTranslationUI } from '../translation.service';
import * as i0 from "@angular/core";
import * as i1 from "@ngx-translate/core";
export class ExpandableTextComponent {
    constructor() {
        this.height = 100;
        this.showFullText = false;
        this.showButton = true;
        CamTranslationUI.getInstance();
    }
    get textHeight() {
        if (this._myText) {
            if (this._myText.nativeElement.offsetHeight < this.height) {
                return 'auto';
            }
        }
        if (this.showFullText) {
            return 'auto';
        }
        return `${this.height}px`;
    }
    get hasFixedHeight() {
        return this.textHeight != 'auto';
    }
    get hasTooBigText() {
        if (this._myText) {
            return this._myText.nativeElement.offsetHeight > this.height;
        }
        return true;
    }
    toggleText() {
        if (this.showFullText === false) {
            this.showFullText = true;
        }
        else {
            this.showFullText = false;
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: ExpandableTextComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: ExpandableTextComponent, isStandalone: true, selector: "ta-expandable-text", inputs: { height: "height" }, viewQueries: [{ propertyName: "_myText", first: true, predicate: ["myText"], descendants: true }], ngImport: i0, template: "<div class=\"text-container\">\n  <div\n    class=\"text\"\n    [class.with-shadow]=\"this.hasFixedHeight\"\n    [style.height]=\"this.textHeight\"\n  >\n    <div #myText>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  @if (this.hasTooBigText) {\n    <button (click)=\"toggleText()\">\n      {{\n        (this.showFullText\n          ? \"ui.expandabletext.seeless\"\n          : \"ui.expandabletext.seemore\"\n        ) | translate\n      }}\n    </button>\n  }\n</div>\n", styles: [".text-container .text{overflow:hidden;position:relative}.text-container .with-shadow:after{content:\" \";position:absolute;left:0;right:0;bottom:0;height:50px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0)),color-stop(100%,rgb(255,255,255)));background:-webkit-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-o-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-ms-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:linear-gradient(to bottom,#fff0,#fff);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#00ffffff\",endColorstr=\"#ffffff\",GradientType=0)}.text-container button{margin-top:var(--ta-space-xs);background-color:transparent;border:none;color:var(--ta-neutral-500);cursor:pointer;padding:0;font-size:inherit}\n"], dependencies: [{ kind: "ngmodule", type: TranslateModule }, { kind: "pipe", type: i1.TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: ExpandableTextComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-expandable-text', standalone: true, imports: [NgIf, TranslateModule], template: "<div class=\"text-container\">\n  <div\n    class=\"text\"\n    [class.with-shadow]=\"this.hasFixedHeight\"\n    [style.height]=\"this.textHeight\"\n  >\n    <div #myText>\n      <ng-content></ng-content>\n    </div>\n  </div>\n  @if (this.hasTooBigText) {\n    <button (click)=\"toggleText()\">\n      {{\n        (this.showFullText\n          ? \"ui.expandabletext.seeless\"\n          : \"ui.expandabletext.seemore\"\n        ) | translate\n      }}\n    </button>\n  }\n</div>\n", styles: [".text-container .text{overflow:hidden;position:relative}.text-container .with-shadow:after{content:\" \";position:absolute;left:0;right:0;bottom:0;height:50px;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/Pgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEgMSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+CiAgPGxpbmVhckdyYWRpZW50IGlkPSJncmFkLXVjZ2ctZ2VuZXJhdGVkIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIwJSIgeTI9IjEwMCUiPgogICAgPHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2ZmZmZmZiIgc3RvcC1vcGFjaXR5PSIwIi8+CiAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmZmZmZmYiIHN0b3Atb3BhY2l0eT0iMSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEiIGhlaWdodD0iMSIgZmlsbD0idXJsKCNncmFkLXVjZ2ctZ2VuZXJhdGVkKSIgLz4KPC9zdmc+);background:-moz-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-webkit-gradient(linear,left top,left bottom,color-stop(0%,rgba(255,255,255,0)),color-stop(100%,rgb(255,255,255)));background:-webkit-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-o-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:-ms-linear-gradient(top,rgba(255,255,255,0) 0%,rgb(255,255,255) 100%);background:linear-gradient(to bottom,#fff0,#fff);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#00ffffff\",endColorstr=\"#ffffff\",GradientType=0)}.text-container button{margin-top:var(--ta-space-xs);background-color:transparent;border:none;color:var(--ta-neutral-500);cursor:pointer;padding:0;font-size:inherit}\n"] }]
        }], ctorParameters: () => [], propDecorators: { height: [{
                type: Input
            }], _myText: [{
                type: ViewChild,
                args: ['myText']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy91aS9leHBhbmRhYmxlLXRleHQvZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy91aS9leHBhbmRhYmxlLXRleHQvZXhwYW5kYWJsZS10ZXh0LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2QyxPQUFPLEVBQUUsU0FBUyxFQUFjLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDeEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRXRELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDOzs7QUFTMUQsTUFBTSxPQUFPLHVCQUF1QjtJQVVsQztRQVJBLFdBQU0sR0FBVyxHQUFHLENBQUM7UUFFZCxpQkFBWSxHQUFZLEtBQUssQ0FBQztRQUM5QixlQUFVLEdBQVksSUFBSSxDQUFDO1FBTWhDLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDWixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7Z0JBQzFELE9BQU8sTUFBTSxDQUFDO1lBQ2hCLENBQUM7UUFDSCxDQUFDO1FBQ0QsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDdEIsT0FBTyxNQUFNLENBQUM7UUFDaEIsQ0FBQztRQUNELE9BQU8sR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksY0FBYztRQUNoQixPQUFPLElBQUksQ0FBQyxVQUFVLElBQUksTUFBTSxDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDZixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNqQixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQy9ELENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxVQUFVO1FBQ1IsSUFBSSxJQUFJLENBQUMsWUFBWSxLQUFLLEtBQUssRUFBRSxDQUFDO1lBQ2hDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1FBQzNCLENBQUM7YUFBTSxDQUFDO1lBQ04sSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDNUIsQ0FBQztJQUNILENBQUM7K0dBM0NVLHVCQUF1QjttR0FBdkIsdUJBQXVCLCtNQ2JwQyxvZUFxQkEsK29ERFZrQixlQUFlOzs0RkFFcEIsdUJBQXVCO2tCQVBuQyxTQUFTOytCQUNBLG9CQUFvQixjQUdoQixJQUFJLFdBQ1AsQ0FBQyxJQUFJLEVBQUUsZUFBZSxDQUFDO3dEQUloQyxNQUFNO3NCQURMLEtBQUs7Z0JBT0MsT0FBTztzQkFEYixTQUFTO3VCQUFDLFFBQVEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ0lmIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5cbmltcG9ydCB7IENhbVRyYW5zbGF0aW9uVUkgfSBmcm9tICcuLi90cmFuc2xhdGlvbi5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG5zZWxlY3RvcjogJ3RhLWV4cGFuZGFibGUtdGV4dCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9leHBhbmRhYmxlLXRleHQuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9leHBhbmRhYmxlLXRleHQuY29tcG9uZW50LnNjc3MnXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW05nSWYsIFRyYW5zbGF0ZU1vZHVsZV0sXG59KVxuZXhwb3J0IGNsYXNzIEV4cGFuZGFibGVUZXh0Q29tcG9uZW50IHtcbiAgQElucHV0KClcbiAgaGVpZ2h0OiBudW1iZXIgPSAxMDA7XG5cbiAgcHVibGljIHNob3dGdWxsVGV4dDogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgc2hvd0J1dHRvbjogYm9vbGVhbiA9IHRydWU7XG5cbiAgQFZpZXdDaGlsZCgnbXlUZXh0JylcbiAgcHVibGljIF9teVRleHQhOiBFbGVtZW50UmVmPEhUTUxEaXZFbGVtZW50PjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBDYW1UcmFuc2xhdGlvblVJLmdldEluc3RhbmNlKCk7XG4gIH1cblxuICBnZXQgdGV4dEhlaWdodCgpIHtcbiAgICBpZiAodGhpcy5fbXlUZXh0KSB7XG4gICAgICBpZiAodGhpcy5fbXlUZXh0Lm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0IDwgdGhpcy5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuICdhdXRvJztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuc2hvd0Z1bGxUZXh0KSB7XG4gICAgICByZXR1cm4gJ2F1dG8nO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dGhpcy5oZWlnaHR9cHhgO1xuICB9XG5cbiAgZ2V0IGhhc0ZpeGVkSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLnRleHRIZWlnaHQgIT0gJ2F1dG8nO1xuICB9XG5cbiAgZ2V0IGhhc1Rvb0JpZ1RleHQoKSB7XG4gICAgaWYgKHRoaXMuX215VGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMuX215VGV4dC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodCA+IHRoaXMuaGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRvZ2dsZVRleHQoKSB7XG4gICAgaWYgKHRoaXMuc2hvd0Z1bGxUZXh0ID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5zaG93RnVsbFRleHQgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3dGdWxsVGV4dCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cInRleHQtY29udGFpbmVyXCI+XG4gIDxkaXZcbiAgICBjbGFzcz1cInRleHRcIlxuICAgIFtjbGFzcy53aXRoLXNoYWRvd109XCJ0aGlzLmhhc0ZpeGVkSGVpZ2h0XCJcbiAgICBbc3R5bGUuaGVpZ2h0XT1cInRoaXMudGV4dEhlaWdodFwiXG4gID5cbiAgICA8ZGl2ICNteVRleHQ+XG4gICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICBAaWYgKHRoaXMuaGFzVG9vQmlnVGV4dCkge1xuICAgIDxidXR0b24gKGNsaWNrKT1cInRvZ2dsZVRleHQoKVwiPlxuICAgICAge3tcbiAgICAgICAgKHRoaXMuc2hvd0Z1bGxUZXh0XG4gICAgICAgICAgPyBcInVpLmV4cGFuZGFibGV0ZXh0LnNlZWxlc3NcIlxuICAgICAgICAgIDogXCJ1aS5leHBhbmRhYmxldGV4dC5zZWVtb3JlXCJcbiAgICAgICAgKSB8IHRyYW5zbGF0ZVxuICAgICAgfX1cbiAgICA8L2J1dHRvbj5cbiAgfVxuPC9kaXY+XG4iXX0=