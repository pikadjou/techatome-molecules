@if (this.isLoading) {
  @if (!this.skeleton) {
    <div class="loader">
      <div class="content">
        <div [ngClass]="'spinner ' + this.size">
          <svg 
            class="svg" 
            xmlns="http://www.w3.org/2000/svg" 
            viewBox="0 0 32 32" 
            fill="none">
            <!-- Définitions pour l'animation -->
            <defs>
              <clipPath id="fillClip">
                <rect class="fill-rect" x="0" y="32" width="32" height="32"/>
              </clipPath>
            </defs>
            
            <!-- Contour de la maison -->
            <g class="outline">
              <!-- Toit -->
              <path d="M16 4L6 12v2h2v12h6v-8h4v8h6V14h2v-2L16 4z" 
                    stroke="currentColor" 
                    stroke-width="2" 
                    fill="none" 
                    stroke-linejoin="round"/>
              <!-- Porte -->
              <rect x="13" y="20" width="6" height="6" 
                    stroke="currentColor" 
                    stroke-width="1.5" 
                    fill="none"/>
              <!-- Poignée de porte -->
              <circle cx="17.5" cy="23" r="0.5" 
                      fill="currentColor"/>
              <!-- Fenêtres -->
              <rect x="9" y="16" width="3" height="3" 
                    stroke="currentColor" 
                    stroke-width="1.5" 
                    fill="none"/>
              <rect x="20" y="16" width="3" height="3" 
                    stroke="currentColor" 
                    stroke-width="1.5" 
                    fill="none"/>
              <!-- Cheminée -->
              <rect x="21" y="8" width="2" height="4" 
                    stroke="currentColor" 
                    stroke-width="1.5" 
                    fill="none"/>
            </g>
            
            <!-- Remplissage progressif -->
            <g class="fill" clip-path="url(#fillClip)">
              <!-- Corps de la maison -->
              <path d="M8 14h16v12H8V14z" fill="currentColor" opacity="0.7"/>
              <!-- Toit rempli -->
              <path d="M16 4L6 12v2h20v-2L16 4z" fill="currentColor" opacity="0.8"/>
              <!-- Porte remplie -->
              <rect x="13" y="20" width="6" height="6" fill="currentColor" opacity="0.6"/>
              <!-- Fenêtres remplies -->
              <rect x="9" y="16" width="3" height="3" fill="currentColor" opacity="0.5"/>
              <rect x="20" y="16" width="3" height="3" fill="currentColor" opacity="0.5"/>
              <!-- Cheminée remplie -->
              <rect x="21" y="8" width="2" height="4" fill="currentColor" opacity="0.6"/>
            </g>
          </svg>
        </div>
        @if (this.text) {
          <p class="text">{{ this.text }}</p>
        }
      </div>
    </div>
  } @else {
    <ta-placeholder [placeholder]="this.getPlaceholder()"></ta-placeholder>
  }
} @else {
  <ng-content></ng-content>
}
