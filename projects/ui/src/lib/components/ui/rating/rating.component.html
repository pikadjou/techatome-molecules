@if (this.value() !== null && this.value() !== undefined && this.value() > 0) {
  <div class="align-center g-space-sm" [class]="this.containerClass()">
    <div class="ta-rating-container" (mouseleave)="this.onMouseLeave()" [ngStyle]="{ cursor: this.getCursorStyle() }">
      @for (star of this.stars; track star) {
        <div
          class="ta-rating-star"
          [ngClass]="{ 'ta-rating-star--readonly': this.readonly() }"
          [ngStyle]="{ width: this.size() + 'px', height: this.size() + 'px' }"
          (click)="this.onStarClick(star)"
          (mouseenter)="this.onStarHover(star)"
        >
          <!-- Background star (empty) -->
          <svg
            class="ta-rating-star-bg"
            viewBox="0 0 24 24"
            [attr.width]="this.size()"
            [attr.height]="this.size()"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              [attr.fill]="this.emptyColor()"
              d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"
            />
          </svg>

          <!-- Foreground star (filled) with clip-path for partial fill -->
          <svg
            class="ta-rating-star-fg"
            viewBox="0 0 24 24"
            [attr.width]="this.size()"
            [attr.height]="this.size()"
            [ngStyle]="{ 'clip-path': 'inset(0 ' + (100 - this.getStarFillPercentage(star)) + '% 0 0)' }"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              [attr.fill]="this.color()"
              d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"
            />
          </svg>
        </div>
      }
    </div>
    <ta-text>{{ this.value() }} / {{ this.max() }}</ta-text>
  </div>
} @else {
  <ta-text class="no-rating">{{ 'ui.rating.no-evaluation' | translate }}</ta-text>
}
