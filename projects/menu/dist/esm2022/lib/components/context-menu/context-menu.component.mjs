import { AsyncPipe, NgFor, NgIf } from "@angular/common";
import { Component, input } from "@angular/core";
import { RouterModule } from "@angular/router";
import { TranslateModule } from "@ngx-translate/core";
import { FontIconComponent, LocalIconComponent } from "@ta/icons";
import { TaBaseComponent } from "@ta/utils";
import { getFontIcon, getIcon, hasFontIcon, hasIconImage, } from "../../helpers/icon-manager";
import { TaTranslationMenu } from "../../translation.service";
import * as i0 from "@angular/core";
import * as i1 from "@angular/router";
import * as i2 from "@ngx-translate/core";
export class ContextMenuComponent extends TaBaseComponent {
    constructor() {
        super();
        this.menu = input.required();
        TaTranslationMenu.getInstance();
    }
    hasFontIcon(item) {
        return hasFontIcon(item);
    }
    hasIconImage(item) {
        return hasIconImage(item);
    }
    getIcon(item) {
        return getIcon(item);
    }
    getFontIcon(item) {
        return getFontIcon(item);
    }
    getLink(item) {
        if (item.link && item.link !== "")
            return item.link;
        return "";
    }
    getRoute(item) {
        return item.disabled ? [] : [this.getLink(item)];
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: ContextMenuComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: ContextMenuComponent, isStandalone: true, selector: "ta-context-menu", inputs: { menu: { classPropertyName: "menu", publicName: "menu", isSignal: true, isRequired: true, transformFunction: null } }, usesInheritance: true, ngImport: i0, template: "<ul class=\"context-menu row\">\n  @for (item of this.menu().elements; track item.key) { @if ((item.visible$ |\n  async) === true) {\n  <li class=\"col-6 col-md-4 col-lg-2\">\n    <div\n      class=\"element\"\n      routerLinkActive=\"active\"\n      [routerLinkActiveOptions]=\"{ exact: item.exact }\"\n      [routerLink]=\"this.getRoute(item)\"\n      [queryParamsHandling]=\"item.queryParamsHandling\"\n      [class.disabled]=\"item.disabled\"\n    >\n      <div class=\"icon align-self-center\">\n        @if (this.hasFontIcon(item)) {\n        <span class=\"icon-material\">\n          <ta-font-icon\n            [name]=\"this.getFontIcon(item)\"\n            size=\"xs\"\n          ></ta-font-icon>\n        </span>\n        } @if (this.hasIconImage(item)) {\n        <span class=\"icon-image\">\n          <ta-local-icon [type]=\"this.getIcon(item)\" size=\"xs\"></ta-local-icon>\n        </span>\n        }\n      </div>\n      <div class=\"label align-self-center\">\n        {{ item.label | translate }}\n      </div>\n    </div>\n  </li>\n  } }\n</ul>\n", styles: [".context-menu{list-style:none;padding:0;margin:0}.context-menu .disabled{opacity:.5}.context-menu .element{text-align:center;border:1px solid var(--ta-neutral-400);padding:var(--ta-space-md) 0;margin-bottom:var(--ta-space-sm);border-radius:var(--ta-space-md)}.context-menu .element .icon{color:var(--ta-surface-brand-primary)}.context-menu .element .label{font-size:var(--ta-font-body-md-default-size);font-weight:var(--ta-font-body-md-bold-weight);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-top:var(--ta-space-xs)}\n"], dependencies: [{ kind: "pipe", type: AsyncPipe, name: "async" }, { kind: "ngmodule", type: RouterModule }, { kind: "directive", type: i1.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "info", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "directive", type: i1.RouterLinkActive, selector: "[routerLinkActive]", inputs: ["routerLinkActiveOptions", "ariaCurrentWhenActive", "routerLinkActive"], outputs: ["isActiveChange"], exportAs: ["routerLinkActive"] }, { kind: "ngmodule", type: TranslateModule }, { kind: "pipe", type: i2.TranslatePipe, name: "translate" }, { kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: LocalIconComponent, selector: "ta-local-icon", inputs: ["type", "size", "rotation"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: ContextMenuComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-context-menu", standalone: true, imports: [
                        NgIf,
                        NgFor,
                        AsyncPipe,
                        RouterModule,
                        TranslateModule,
                        FontIconComponent,
                        LocalIconComponent,
                    ], template: "<ul class=\"context-menu row\">\n  @for (item of this.menu().elements; track item.key) { @if ((item.visible$ |\n  async) === true) {\n  <li class=\"col-6 col-md-4 col-lg-2\">\n    <div\n      class=\"element\"\n      routerLinkActive=\"active\"\n      [routerLinkActiveOptions]=\"{ exact: item.exact }\"\n      [routerLink]=\"this.getRoute(item)\"\n      [queryParamsHandling]=\"item.queryParamsHandling\"\n      [class.disabled]=\"item.disabled\"\n    >\n      <div class=\"icon align-self-center\">\n        @if (this.hasFontIcon(item)) {\n        <span class=\"icon-material\">\n          <ta-font-icon\n            [name]=\"this.getFontIcon(item)\"\n            size=\"xs\"\n          ></ta-font-icon>\n        </span>\n        } @if (this.hasIconImage(item)) {\n        <span class=\"icon-image\">\n          <ta-local-icon [type]=\"this.getIcon(item)\" size=\"xs\"></ta-local-icon>\n        </span>\n        }\n      </div>\n      <div class=\"label align-self-center\">\n        {{ item.label | translate }}\n      </div>\n    </div>\n  </li>\n  } }\n</ul>\n", styles: [".context-menu{list-style:none;padding:0;margin:0}.context-menu .disabled{opacity:.5}.context-menu .element{text-align:center;border:1px solid var(--ta-neutral-400);padding:var(--ta-space-md) 0;margin-bottom:var(--ta-space-sm);border-radius:var(--ta-space-md)}.context-menu .element .icon{color:var(--ta-surface-brand-primary)}.context-menu .element .label{font-size:var(--ta-font-body-md-default-size);font-weight:var(--ta-font-body-md-bold-weight);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-top:var(--ta-space-xs)}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGV4dC1tZW51LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9jb250ZXh0LW1lbnUvY29udGV4dC1tZW51LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9jb250ZXh0LW1lbnUvY29udGV4dC1tZW51LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUUvQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFdEQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLGtCQUFrQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ2xFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFNUMsT0FBTyxFQUNMLFdBQVcsRUFDWCxPQUFPLEVBQ1AsV0FBVyxFQUNYLFlBQVksR0FDYixNQUFNLDRCQUE0QixDQUFDO0FBS3BDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDOzs7O0FBaUI5RCxNQUFNLE9BQU8sb0JBQXFCLFNBQVEsZUFBZTtJQUd2RDtRQUNFLEtBQUssRUFBRSxDQUFDO1FBSFYsU0FBSSxHQUFHLEtBQUssQ0FBQyxRQUFRLEVBQVEsQ0FBQztRQUk1QixpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNsQyxDQUFDO0lBRU0sV0FBVyxDQUFDLElBQXNDO1FBQ3ZELE9BQU8sV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFTSxZQUFZLENBQUMsSUFBc0M7UUFDeEQsT0FBTyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVNLE9BQU8sQ0FBQyxJQUFzQztRQUNuRCxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRU0sV0FBVyxDQUFDLElBQWdDO1FBQ2pELE9BQU8sV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFTSxPQUFPLENBQUMsSUFBc0M7UUFDbkQsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssRUFBRTtZQUFFLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztRQUVwRCxPQUFPLEVBQUUsQ0FBQztJQUNaLENBQUM7SUFFTSxRQUFRLENBQUMsSUFBc0M7UUFDcEQsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ25ELENBQUM7K0dBaENVLG9CQUFvQjttR0FBcEIsb0JBQW9CLGtPQ3BDakMsMmlDQWlDQSxnbEJESkksU0FBUyw2Q0FDVCxZQUFZLGdmQUNaLGVBQWUsNEZBQ2YsaUJBQWlCLG1GQUNqQixrQkFBa0I7OzRGQUdULG9CQUFvQjtrQkFmaEMsU0FBUzsrQkFDRSxpQkFBaUIsY0FHZixJQUFJLFdBQ1A7d0JBQ1AsSUFBSTt3QkFDSixLQUFLO3dCQUNMLFNBQVM7d0JBQ1QsWUFBWTt3QkFDWixlQUFlO3dCQUNmLGlCQUFpQjt3QkFDakIsa0JBQWtCO3FCQUNuQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jUGlwZSwgTmdGb3IsIE5nSWYgfSBmcm9tIFwiQGFuZ3VsYXIvY29tbW9uXCI7XG5pbXBvcnQgeyBDb21wb25lbnQsIGlucHV0IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IFJvdXRlck1vZHVsZSB9IGZyb20gXCJAYW5ndWxhci9yb3V0ZXJcIjtcblxuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSBcIkBuZ3gtdHJhbnNsYXRlL2NvcmVcIjtcblxuaW1wb3J0IHsgRm9udEljb25Db21wb25lbnQsIExvY2FsSWNvbkNvbXBvbmVudCB9IGZyb20gXCJAdGEvaWNvbnNcIjtcbmltcG9ydCB7IFRhQmFzZUNvbXBvbmVudCB9IGZyb20gXCJAdGEvdXRpbHNcIjtcblxuaW1wb3J0IHtcbiAgZ2V0Rm9udEljb24sXG4gIGdldEljb24sXG4gIGhhc0ZvbnRJY29uLFxuICBoYXNJY29uSW1hZ2UsXG59IGZyb20gXCIuLi8uLi9oZWxwZXJzL2ljb24tbWFuYWdlclwiO1xuaW1wb3J0IHsgTWVudUFjdGlvbiB9IGZyb20gXCIuLi8uLi9tb2RlbHMvbWVudS9pdGVtL2FjdGlvblwiO1xuaW1wb3J0IHsgTWVudUJhc2UgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL21lbnUvaXRlbS9iYXNlXCI7XG5pbXBvcnQgeyBNZW51SWNvbiB9IGZyb20gXCIuLi8uLi9tb2RlbHMvbWVudS9pdGVtL2ljb25cIjtcbmltcG9ydCB7IE1lbnUgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL21lbnUvbWVudVwiO1xuaW1wb3J0IHsgVGFUcmFuc2xhdGlvbk1lbnUgfSBmcm9tIFwiLi4vLi4vdHJhbnNsYXRpb24uc2VydmljZVwiO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IFwidGEtY29udGV4dC1tZW51XCIsXG4gIHRlbXBsYXRlVXJsOiBcIi4vY29udGV4dC1tZW51LmNvbXBvbmVudC5odG1sXCIsXG4gIHN0eWxlVXJsczogW1wiLi9jb250ZXh0LW1lbnUuY29tcG9uZW50LnNjc3NcIl0sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBOZ0lmLFxuICAgIE5nRm9yLFxuICAgIEFzeW5jUGlwZSxcbiAgICBSb3V0ZXJNb2R1bGUsXG4gICAgVHJhbnNsYXRlTW9kdWxlLFxuICAgIEZvbnRJY29uQ29tcG9uZW50LFxuICAgIExvY2FsSWNvbkNvbXBvbmVudCxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnVDb21wb25lbnQgZXh0ZW5kcyBUYUJhc2VDb21wb25lbnQge1xuICBtZW51ID0gaW5wdXQucmVxdWlyZWQ8TWVudT4oKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIFRhVHJhbnNsYXRpb25NZW51LmdldEluc3RhbmNlKCk7XG4gIH1cblxuICBwdWJsaWMgaGFzRm9udEljb24oaXRlbTogTWVudUljb24gfCBNZW51QWN0aW9uIHwgTWVudUJhc2UpOiBib29sZWFuIHtcbiAgICByZXR1cm4gaGFzRm9udEljb24oaXRlbSk7XG4gIH1cblxuICBwdWJsaWMgaGFzSWNvbkltYWdlKGl0ZW06IE1lbnVJY29uIHwgTWVudUFjdGlvbiB8IE1lbnVCYXNlKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGhhc0ljb25JbWFnZShpdGVtKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRJY29uKGl0ZW06IE1lbnVJY29uIHwgTWVudUFjdGlvbiB8IE1lbnVCYXNlKSB7XG4gICAgcmV0dXJuIGdldEljb24oaXRlbSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Rm9udEljb24oaXRlbTogTWVudSB8IE1lbnVJY29uIHwgTWVudUJhc2UpIHtcbiAgICByZXR1cm4gZ2V0Rm9udEljb24oaXRlbSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TGluayhpdGVtOiBNZW51SWNvbiB8IE1lbnVBY3Rpb24gfCBNZW51QmFzZSkge1xuICAgIGlmIChpdGVtLmxpbmsgJiYgaXRlbS5saW5rICE9PSBcIlwiKSByZXR1cm4gaXRlbS5saW5rO1xuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBwdWJsaWMgZ2V0Um91dGUoaXRlbTogTWVudUljb24gfCBNZW51QWN0aW9uIHwgTWVudUJhc2UpIHtcbiAgICByZXR1cm4gaXRlbS5kaXNhYmxlZCA/IFtdIDogW3RoaXMuZ2V0TGluayhpdGVtKV07XG4gIH1cbn1cbiIsIjx1bCBjbGFzcz1cImNvbnRleHQtbWVudSByb3dcIj5cbiAgQGZvciAoaXRlbSBvZiB0aGlzLm1lbnUoKS5lbGVtZW50czsgdHJhY2sgaXRlbS5rZXkpIHsgQGlmICgoaXRlbS52aXNpYmxlJCB8XG4gIGFzeW5jKSA9PT0gdHJ1ZSkge1xuICA8bGkgY2xhc3M9XCJjb2wtNiBjb2wtbWQtNCBjb2wtbGctMlwiPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwiZWxlbWVudFwiXG4gICAgICByb3V0ZXJMaW5rQWN0aXZlPVwiYWN0aXZlXCJcbiAgICAgIFtyb3V0ZXJMaW5rQWN0aXZlT3B0aW9uc109XCJ7IGV4YWN0OiBpdGVtLmV4YWN0IH1cIlxuICAgICAgW3JvdXRlckxpbmtdPVwidGhpcy5nZXRSb3V0ZShpdGVtKVwiXG4gICAgICBbcXVlcnlQYXJhbXNIYW5kbGluZ109XCJpdGVtLnF1ZXJ5UGFyYW1zSGFuZGxpbmdcIlxuICAgICAgW2NsYXNzLmRpc2FibGVkXT1cIml0ZW0uZGlzYWJsZWRcIlxuICAgID5cbiAgICAgIDxkaXYgY2xhc3M9XCJpY29uIGFsaWduLXNlbGYtY2VudGVyXCI+XG4gICAgICAgIEBpZiAodGhpcy5oYXNGb250SWNvbihpdGVtKSkge1xuICAgICAgICA8c3BhbiBjbGFzcz1cImljb24tbWF0ZXJpYWxcIj5cbiAgICAgICAgICA8dGEtZm9udC1pY29uXG4gICAgICAgICAgICBbbmFtZV09XCJ0aGlzLmdldEZvbnRJY29uKGl0ZW0pXCJcbiAgICAgICAgICAgIHNpemU9XCJ4c1wiXG4gICAgICAgICAgPjwvdGEtZm9udC1pY29uPlxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIH0gQGlmICh0aGlzLmhhc0ljb25JbWFnZShpdGVtKSkge1xuICAgICAgICA8c3BhbiBjbGFzcz1cImljb24taW1hZ2VcIj5cbiAgICAgICAgICA8dGEtbG9jYWwtaWNvbiBbdHlwZV09XCJ0aGlzLmdldEljb24oaXRlbSlcIiBzaXplPVwieHNcIj48L3RhLWxvY2FsLWljb24+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibGFiZWwgYWxpZ24tc2VsZi1jZW50ZXJcIj5cbiAgICAgICAge3sgaXRlbS5sYWJlbCB8IHRyYW5zbGF0ZSB9fVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvbGk+XG4gIH0gfVxuPC91bD5cbiJdfQ==