import { NgClass, NgTemplateOutlet } from '@angular/common';
import { Component, inject, input } from '@angular/core';
import { MatExpansionModule } from '@angular/material/expansion';
import { FontIconComponent } from '@ta/icons';
import { TaSharedMenuService } from '@ta/services';
import { LogoComponent } from '@ta/ui';
import { TaBaseComponent } from '@ta/utils';
import { MenuComponent } from '../menu/menu.component';
import * as i0 from "@angular/core";
export class MainMenuComponent extends TaBaseComponent {
    constructor() {
        super(...arguments);
        this.menuMain = input.required();
        this.menuUser = input();
        this.userMenuTemplate = input();
        this.direction = input('vertical');
        this.sharedMenu = inject(TaSharedMenuService);
        this.isPanelOpen = false;
    }
    navigateToHome() {
        this._router.navigate(['/']);
    }
    toggleView() {
        this.sharedMenu.isMinimized$.next(!this.sharedMenu.isMinimized$.getValue());
    }
    toggleMobilePanel() {
        this.isPanelOpen = !this.isPanelOpen;
    }
    closeMobilePanel() {
        this.isPanelOpen = false;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: MainMenuComponent, deps: null, target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: MainMenuComponent, isStandalone: true, selector: "ta-main-menu", inputs: { menuMain: { classPropertyName: "menuMain", publicName: "menuMain", isSignal: true, isRequired: true, transformFunction: null }, menuUser: { classPropertyName: "menuUser", publicName: "menuUser", isSignal: true, isRequired: false, transformFunction: null }, userMenuTemplate: { classPropertyName: "userMenuTemplate", publicName: "userMenuTemplate", isSignal: true, isRequired: false, transformFunction: null }, direction: { classPropertyName: "direction", publicName: "direction", isSignal: true, isRequired: false, transformFunction: null } }, usesInheritance: true, ngImport: i0, template: "@if (this.breakpoints.isMobile) {\n  <!-- Mobile layout with custom panel -->\n  @if (this.isPanelOpen) {\n    <div class=\"mobile-backdrop\" (click)=\"this.closeMobilePanel()\"></div>\n  }\n  <div class=\"mobile-panel\" [ngClass]=\"{ open: this.isPanelOpen }\">\n    <div class=\"mobile-panel-content\">\n      <div class=\"mobile-panel-header\">\n        <ta-logo class=\"oneline\" [type]=\"'oneline'\"></ta-logo>\n        <ta-font-icon name=\"close\" class=\"close-icon\" (click)=\"this.closeMobilePanel()\"></ta-font-icon>\n      </div>\n      <div class=\"mobile-menu-nav\">\n        <ta-menu class=\"menu\" [menu]=\"this.menuMain()\" [container]=\"'main'\"></ta-menu>\n      </div>\n      @if (this.menuUser()) {\n        <div class=\"mobile-user-nav\">\n          <div class=\"sep\"></div>\n          <ta-menu class=\"menu\" [menu]=\"this.menuUser()!\" [container]=\"'main'\"></ta-menu>\n        </div>\n      }\n    </div>\n  </div>\n\n  <div class=\"main-nav-container\">\n    <div class=\"max-container\">\n      <div class=\"main-nav align-center mobile-nav\">\n        <ta-font-icon name=\"menu\" class=\"hamburger-icon\" (click)=\"this.toggleMobilePanel()\"></ta-font-icon>\n        <div class=\"logo\">\n          <ta-logo class=\"oneline\" [type]=\"'oneline'\"></ta-logo>\n        </div>\n        @if (this.userMenuTemplate()) {\n          <div class=\"user-template\">\n            <ng-template [ngTemplateOutlet]=\"this.userMenuTemplate() ?? null\"></ng-template>\n          </div>\n        }\n      </div>\n    </div>\n  </div>\n} @else {\n  <!-- Desktop layout -->\n  <div class=\"main-nav-container\">\n    <div class=\"max-container\">\n      <div class=\"main-nav align-center\" [ngClass]=\"this.direction()\">\n        <div class=\"logo\" (click)=\"this.navigateToHome()\">\n          <ta-logo class=\"oneline\" [type]=\"'oneline'\"></ta-logo>\n        </div>\n        <div class=\"menu-nav\">\n          <ta-menu class=\"menu\" [menu]=\"this.menuMain()\" [container]=\"'main'\"></ta-menu>\n        </div>\n        <div>\n          @if (this.menuUser()) {\n            <div class=\"user-nav\">\n              <div class=\"sep\"></div>\n              <ta-menu class=\"menu\" [menu]=\"this.menuUser()!\" [container]=\"'main'\"></ta-menu>\n            </div>\n          }\n          @if (this.userMenuTemplate()) {\n            <div class=\"user-template\">\n              <ng-template [ngTemplateOutlet]=\"this.userMenuTemplate() ?? null\"></ng-template>\n            </div>\n          }\n        </div>\n      </div>\n    </div>\n  </div>\n}\n", styles: [".main-nav-container{padding:var(--ta-space-sm);border-radius:3px 3px 0 0;background-color:var(--ta-neutral-white);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.main-nav{display:flex;flex-direction:row;justify-content:space-between}.main-nav.vertical{flex-direction:row}@media screen and (min-width: 576px){.main-nav .logo{width:48px}.main-nav .logo .small{display:block}.main-nav .logo .oneline{display:none}}@media screen and (min-width: 992px){.main-nav .logo{width:80px}.main-nav .logo .small{display:none}.main-nav .logo .oneline{display:block}}.main-nav.menu-minimized .logo{margin-left:auto!important;width:48px!important}.main-nav.menu-minimized .logo .small{display:block!important}.main-nav.menu-minimized .logo .oneline{display:none!important}.main-nav .user-nav .sep{border-bottom:1px solid var(--ta-surface-brand-primary);margin:var(--ta-space-sm)}.mobile-nav{display:flex;align-items:center;gap:var(--ta-space-sm)}.mobile-nav .logo{flex:1}.mobile-nav .logo .oneline{display:block;max-width:120px}.hamburger-icon{cursor:pointer;color:var(--ta-text-primary);font-size:var(--ta-font-body-lg-default-size);font-weight:var(--ta-font-body-lg-default-weight)}.mobile-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:999;animation:fadeIn .3s ease}.mobile-panel{position:fixed;top:0;left:0;width:280px;height:100%;background-color:var(--ta-neutral-white);z-index:1000;transform:translate(-100%);transition:transform .3s ease;box-shadow:2px 0 8px #00000026;overflow-y:auto}.mobile-panel.open{transform:translate(0)}.mobile-panel-content{display:flex;flex-direction:column;height:100%;padding:var(--ta-space-md)}.mobile-panel-header{flex-direction:row;justify-content:space-between;display:flex;align-items:center;padding-bottom:var(--ta-space-md);border-bottom:1px solid var(--ta-border-secondary);margin-bottom:var(--ta-space-md)}.mobile-panel-header .close-icon{cursor:pointer;color:var(--ta-text-secondary)}.mobile-menu-nav{flex:1}.mobile-user-nav .sep{border-bottom:1px solid var(--ta-surface-brand-primary);margin:var(--ta-space-sm) 0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\n"], dependencies: [{ kind: "directive", type: NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "component", type: LogoComponent, selector: "ta-logo", inputs: ["color", "type", "widthPercentage"] }, { kind: "component", type: MenuComponent, selector: "ta-menu", inputs: ["menu", "container"] }, { kind: "ngmodule", type: MatExpansionModule }, { kind: "directive", type: NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: MainMenuComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-main-menu', standalone: true, imports: [NgClass, LogoComponent, MenuComponent, MatExpansionModule, NgTemplateOutlet, FontIconComponent], template: "@if (this.breakpoints.isMobile) {\n  <!-- Mobile layout with custom panel -->\n  @if (this.isPanelOpen) {\n    <div class=\"mobile-backdrop\" (click)=\"this.closeMobilePanel()\"></div>\n  }\n  <div class=\"mobile-panel\" [ngClass]=\"{ open: this.isPanelOpen }\">\n    <div class=\"mobile-panel-content\">\n      <div class=\"mobile-panel-header\">\n        <ta-logo class=\"oneline\" [type]=\"'oneline'\"></ta-logo>\n        <ta-font-icon name=\"close\" class=\"close-icon\" (click)=\"this.closeMobilePanel()\"></ta-font-icon>\n      </div>\n      <div class=\"mobile-menu-nav\">\n        <ta-menu class=\"menu\" [menu]=\"this.menuMain()\" [container]=\"'main'\"></ta-menu>\n      </div>\n      @if (this.menuUser()) {\n        <div class=\"mobile-user-nav\">\n          <div class=\"sep\"></div>\n          <ta-menu class=\"menu\" [menu]=\"this.menuUser()!\" [container]=\"'main'\"></ta-menu>\n        </div>\n      }\n    </div>\n  </div>\n\n  <div class=\"main-nav-container\">\n    <div class=\"max-container\">\n      <div class=\"main-nav align-center mobile-nav\">\n        <ta-font-icon name=\"menu\" class=\"hamburger-icon\" (click)=\"this.toggleMobilePanel()\"></ta-font-icon>\n        <div class=\"logo\">\n          <ta-logo class=\"oneline\" [type]=\"'oneline'\"></ta-logo>\n        </div>\n        @if (this.userMenuTemplate()) {\n          <div class=\"user-template\">\n            <ng-template [ngTemplateOutlet]=\"this.userMenuTemplate() ?? null\"></ng-template>\n          </div>\n        }\n      </div>\n    </div>\n  </div>\n} @else {\n  <!-- Desktop layout -->\n  <div class=\"main-nav-container\">\n    <div class=\"max-container\">\n      <div class=\"main-nav align-center\" [ngClass]=\"this.direction()\">\n        <div class=\"logo\" (click)=\"this.navigateToHome()\">\n          <ta-logo class=\"oneline\" [type]=\"'oneline'\"></ta-logo>\n        </div>\n        <div class=\"menu-nav\">\n          <ta-menu class=\"menu\" [menu]=\"this.menuMain()\" [container]=\"'main'\"></ta-menu>\n        </div>\n        <div>\n          @if (this.menuUser()) {\n            <div class=\"user-nav\">\n              <div class=\"sep\"></div>\n              <ta-menu class=\"menu\" [menu]=\"this.menuUser()!\" [container]=\"'main'\"></ta-menu>\n            </div>\n          }\n          @if (this.userMenuTemplate()) {\n            <div class=\"user-template\">\n              <ng-template [ngTemplateOutlet]=\"this.userMenuTemplate() ?? null\"></ng-template>\n            </div>\n          }\n        </div>\n      </div>\n    </div>\n  </div>\n}\n", styles: [".main-nav-container{padding:var(--ta-space-sm);border-radius:3px 3px 0 0;background-color:var(--ta-neutral-white);box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.main-nav{display:flex;flex-direction:row;justify-content:space-between}.main-nav.vertical{flex-direction:row}@media screen and (min-width: 576px){.main-nav .logo{width:48px}.main-nav .logo .small{display:block}.main-nav .logo .oneline{display:none}}@media screen and (min-width: 992px){.main-nav .logo{width:80px}.main-nav .logo .small{display:none}.main-nav .logo .oneline{display:block}}.main-nav.menu-minimized .logo{margin-left:auto!important;width:48px!important}.main-nav.menu-minimized .logo .small{display:block!important}.main-nav.menu-minimized .logo .oneline{display:none!important}.main-nav .user-nav .sep{border-bottom:1px solid var(--ta-surface-brand-primary);margin:var(--ta-space-sm)}.mobile-nav{display:flex;align-items:center;gap:var(--ta-space-sm)}.mobile-nav .logo{flex:1}.mobile-nav .logo .oneline{display:block;max-width:120px}.hamburger-icon{cursor:pointer;color:var(--ta-text-primary);font-size:var(--ta-font-body-lg-default-size);font-weight:var(--ta-font-body-lg-default-weight)}.mobile-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:999;animation:fadeIn .3s ease}.mobile-panel{position:fixed;top:0;left:0;width:280px;height:100%;background-color:var(--ta-neutral-white);z-index:1000;transform:translate(-100%);transition:transform .3s ease;box-shadow:2px 0 8px #00000026;overflow-y:auto}.mobile-panel.open{transform:translate(0)}.mobile-panel-content{display:flex;flex-direction:column;height:100%;padding:var(--ta-space-md)}.mobile-panel-header{flex-direction:row;justify-content:space-between;display:flex;align-items:center;padding-bottom:var(--ta-space-md);border-bottom:1px solid var(--ta-border-secondary);margin-bottom:var(--ta-space-md)}.mobile-panel-header .close-icon{cursor:pointer;color:var(--ta-text-secondary)}.mobile-menu-nav{flex:1}.mobile-user-nav .sep{border-bottom:1px solid var(--ta-surface-brand-primary);margin:var(--ta-space-sm) 0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}\n"] }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1tZW51LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9tYWluLW1lbnUvbWFpbi1tZW51LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9tYWluLW1lbnUvbWFpbi1tZW51LmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsU0FBUyxFQUFlLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFakUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNuRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFHNUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHdCQUF3QixDQUFDOztBQVN2RCxNQUFNLE9BQU8saUJBQWtCLFNBQVEsZUFBZTtJQVB0RDs7UUFRRSxhQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsRUFBUSxDQUFDO1FBRWxDLGFBQVEsR0FBRyxLQUFLLEVBQVEsQ0FBQztRQUV6QixxQkFBZ0IsR0FBRyxLQUFLLEVBQW9CLENBQUM7UUFFN0MsY0FBUyxHQUFHLEtBQUssQ0FBNEIsVUFBVSxDQUFDLENBQUM7UUFFbEQsZUFBVSxHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRXpDLGdCQUFXLEdBQUcsS0FBSyxDQUFDO0tBZ0I1QjtJQWRRLGNBQWM7UUFDbkIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFDTSxVQUFVO1FBQ2YsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUM5RSxDQUFDO0lBRU0saUJBQWlCO1FBQ3RCLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ3ZDLENBQUM7SUFFTSxnQkFBZ0I7UUFDckIsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7SUFDM0IsQ0FBQzsrR0ExQlUsaUJBQWlCO21HQUFqQixpQkFBaUIseW9CQ25COUIsdWdGQWtFQSxrcUVEakRZLE9BQU8sb0ZBQUUsYUFBYSxrR0FBRSxhQUFhLGtGQUFFLGtCQUFrQiwrQkFBRSxnQkFBZ0Isb0pBQUUsaUJBQWlCOzs0RkFFN0YsaUJBQWlCO2tCQVA3QixTQUFTOytCQUNFLGNBQWMsY0FHWixJQUFJLFdBQ1AsQ0FBQyxPQUFPLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxrQkFBa0IsRUFBRSxnQkFBZ0IsRUFBRSxpQkFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nQ2xhc3MsIE5nVGVtcGxhdGVPdXRsZXQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBUZW1wbGF0ZVJlZiwgaW5qZWN0LCBpbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0RXhwYW5zaW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZXhwYW5zaW9uJztcblxuaW1wb3J0IHsgRm9udEljb25Db21wb25lbnQgfSBmcm9tICdAdGEvaWNvbnMnO1xuaW1wb3J0IHsgVGFTaGFyZWRNZW51U2VydmljZSB9IGZyb20gJ0B0YS9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBMb2dvQ29tcG9uZW50IH0gZnJvbSAnQHRhL3VpJztcbmltcG9ydCB7IFRhQmFzZUNvbXBvbmVudCB9IGZyb20gJ0B0YS91dGlscyc7XG5cbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuLi8uLi9tb2RlbHMvbWVudS9tZW51JztcbmltcG9ydCB7IE1lbnVDb21wb25lbnQgfSBmcm9tICcuLi9tZW51L21lbnUuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGEtbWFpbi1tZW51JyxcbiAgdGVtcGxhdGVVcmw6ICcuL21haW4tbWVudS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL21haW4tbWVudS5jb21wb25lbnQuc2NzcyddLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbTmdDbGFzcywgTG9nb0NvbXBvbmVudCwgTWVudUNvbXBvbmVudCwgTWF0RXhwYW5zaW9uTW9kdWxlLCBOZ1RlbXBsYXRlT3V0bGV0LCBGb250SWNvbkNvbXBvbmVudF0sXG59KVxuZXhwb3J0IGNsYXNzIE1haW5NZW51Q29tcG9uZW50IGV4dGVuZHMgVGFCYXNlQ29tcG9uZW50IHtcbiAgbWVudU1haW4gPSBpbnB1dC5yZXF1aXJlZDxNZW51PigpO1xuXG4gIG1lbnVVc2VyID0gaW5wdXQ8TWVudT4oKTtcblxuICB1c2VyTWVudVRlbXBsYXRlID0gaW5wdXQ8VGVtcGxhdGVSZWY8YW55Pj4oKTtcblxuICBkaXJlY3Rpb24gPSBpbnB1dDwnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnPigndmVydGljYWwnKTtcblxuICBwdWJsaWMgc2hhcmVkTWVudSA9IGluamVjdChUYVNoYXJlZE1lbnVTZXJ2aWNlKTtcblxuICBwdWJsaWMgaXNQYW5lbE9wZW4gPSBmYWxzZTtcblxuICBwdWJsaWMgbmF2aWdhdGVUb0hvbWUoKSB7XG4gICAgdGhpcy5fcm91dGVyLm5hdmlnYXRlKFsnLyddKTtcbiAgfVxuICBwdWJsaWMgdG9nZ2xlVmlldygpIHtcbiAgICB0aGlzLnNoYXJlZE1lbnUuaXNNaW5pbWl6ZWQkLm5leHQoIXRoaXMuc2hhcmVkTWVudS5pc01pbmltaXplZCQuZ2V0VmFsdWUoKSk7XG4gIH1cblxuICBwdWJsaWMgdG9nZ2xlTW9iaWxlUGFuZWwoKSB7XG4gICAgdGhpcy5pc1BhbmVsT3BlbiA9ICF0aGlzLmlzUGFuZWxPcGVuO1xuICB9XG5cbiAgcHVibGljIGNsb3NlTW9iaWxlUGFuZWwoKSB7XG4gICAgdGhpcy5pc1BhbmVsT3BlbiA9IGZhbHNlO1xuICB9XG59XG4iLCJAaWYgKHRoaXMuYnJlYWtwb2ludHMuaXNNb2JpbGUpIHtcbiAgPCEtLSBNb2JpbGUgbGF5b3V0IHdpdGggY3VzdG9tIHBhbmVsIC0tPlxuICBAaWYgKHRoaXMuaXNQYW5lbE9wZW4pIHtcbiAgICA8ZGl2IGNsYXNzPVwibW9iaWxlLWJhY2tkcm9wXCIgKGNsaWNrKT1cInRoaXMuY2xvc2VNb2JpbGVQYW5lbCgpXCI+PC9kaXY+XG4gIH1cbiAgPGRpdiBjbGFzcz1cIm1vYmlsZS1wYW5lbFwiIFtuZ0NsYXNzXT1cInsgb3BlbjogdGhpcy5pc1BhbmVsT3BlbiB9XCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vYmlsZS1wYW5lbC1jb250ZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9iaWxlLXBhbmVsLWhlYWRlclwiPlxuICAgICAgICA8dGEtbG9nbyBjbGFzcz1cIm9uZWxpbmVcIiBbdHlwZV09XCInb25lbGluZSdcIj48L3RhLWxvZ28+XG4gICAgICAgIDx0YS1mb250LWljb24gbmFtZT1cImNsb3NlXCIgY2xhc3M9XCJjbG9zZS1pY29uXCIgKGNsaWNrKT1cInRoaXMuY2xvc2VNb2JpbGVQYW5lbCgpXCI+PC90YS1mb250LWljb24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2JpbGUtbWVudS1uYXZcIj5cbiAgICAgICAgPHRhLW1lbnUgY2xhc3M9XCJtZW51XCIgW21lbnVdPVwidGhpcy5tZW51TWFpbigpXCIgW2NvbnRhaW5lcl09XCInbWFpbidcIj48L3RhLW1lbnU+XG4gICAgICA8L2Rpdj5cbiAgICAgIEBpZiAodGhpcy5tZW51VXNlcigpKSB7XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb2JpbGUtdXNlci1uYXZcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2VwXCI+PC9kaXY+XG4gICAgICAgICAgPHRhLW1lbnUgY2xhc3M9XCJtZW51XCIgW21lbnVdPVwidGhpcy5tZW51VXNlcigpIVwiIFtjb250YWluZXJdPVwiJ21haW4nXCI+PC90YS1tZW51PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIH1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cIm1haW4tbmF2LWNvbnRhaW5lclwiPlxuICAgIDxkaXYgY2xhc3M9XCJtYXgtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibWFpbi1uYXYgYWxpZ24tY2VudGVyIG1vYmlsZS1uYXZcIj5cbiAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwibWVudVwiIGNsYXNzPVwiaGFtYnVyZ2VyLWljb25cIiAoY2xpY2spPVwidGhpcy50b2dnbGVNb2JpbGVQYW5lbCgpXCI+PC90YS1mb250LWljb24+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvXCI+XG4gICAgICAgICAgPHRhLWxvZ28gY2xhc3M9XCJvbmVsaW5lXCIgW3R5cGVdPVwiJ29uZWxpbmUnXCI+PC90YS1sb2dvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgQGlmICh0aGlzLnVzZXJNZW51VGVtcGxhdGUoKSkge1xuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1c2VyLXRlbXBsYXRlXCI+XG4gICAgICAgICAgICA8bmctdGVtcGxhdGUgW25nVGVtcGxhdGVPdXRsZXRdPVwidGhpcy51c2VyTWVudVRlbXBsYXRlKCkgPz8gbnVsbFwiPjwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbn0gQGVsc2Uge1xuICA8IS0tIERlc2t0b3AgbGF5b3V0IC0tPlxuICA8ZGl2IGNsYXNzPVwibWFpbi1uYXYtY29udGFpbmVyXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1heC1jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtYWluLW5hdiBhbGlnbi1jZW50ZXJcIiBbbmdDbGFzc109XCJ0aGlzLmRpcmVjdGlvbigpXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvXCIgKGNsaWNrKT1cInRoaXMubmF2aWdhdGVUb0hvbWUoKVwiPlxuICAgICAgICAgIDx0YS1sb2dvIGNsYXNzPVwib25lbGluZVwiIFt0eXBlXT1cIidvbmVsaW5lJ1wiPjwvdGEtbG9nbz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZW51LW5hdlwiPlxuICAgICAgICAgIDx0YS1tZW51IGNsYXNzPVwibWVudVwiIFttZW51XT1cInRoaXMubWVudU1haW4oKVwiIFtjb250YWluZXJdPVwiJ21haW4nXCI+PC90YS1tZW51PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICBAaWYgKHRoaXMubWVudVVzZXIoKSkge1xuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVzZXItbmF2XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPHRhLW1lbnUgY2xhc3M9XCJtZW51XCIgW21lbnVdPVwidGhpcy5tZW51VXNlcigpIVwiIFtjb250YWluZXJdPVwiJ21haW4nXCI+PC90YS1tZW51PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgfVxuICAgICAgICAgIEBpZiAodGhpcy51c2VyTWVudVRlbXBsYXRlKCkpIHtcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1c2VyLXRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBbbmdUZW1wbGF0ZU91dGxldF09XCJ0aGlzLnVzZXJNZW51VGVtcGxhdGUoKSA/PyBudWxsXCI+PC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIH1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG59XG4iXX0=