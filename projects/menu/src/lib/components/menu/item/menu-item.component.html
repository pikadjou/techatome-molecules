<ng-container
  *ngIf="!this.hasChild()"
  [style.cursor]="this.item.callback ? 'pointer' : 'default'"
>
  <ng-container *ngIf="this.getLink()">
    <a
      class="link"
      [ngClass]="this.getStyleType()"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: this.item.exact }"
      [routerLink]="[this.getLink()]"
      [replaceUrl]="this.item.replaceUrl"
    >
      <ng-template [ngTemplateOutlet]="Item"></ng-template>
    </a>
  </ng-container>
  <ng-container *ngIf="!this.getLink()">
    <a
      (click)="this.executeCallback()"
      class="link"
      [ngClass]="this.getStyleType()"
    >
      <ng-template [ngTemplateOutlet]="Item"></ng-template>
    </a>
  </ng-container>
</ng-container>

<ng-template #Item [typedTemplate]="this.typeToken">
  <div class="item pointer" [class.disable]="item.disabled">
    <div class="icon">
      <span *ngIf="this.hasFontIcon()" class="icon-material">
        <cam-font-icon
          [name]="this.getFontIcon()"
          size="xs"
          [ngClass]="item.iconsColor"
        ></cam-font-icon>
      </span>
      <span *ngIf="this.hasIconImage()" class="icon-image">
        <cam-local-icon
          [type]="this.getIcon()"
          size="xs"
          [ngClass]="item.iconsColor"
        ></cam-local-icon>
      </span>
    </div>

    <div class="title">{{ item.label | translate }}</div>

    <div class="badge-container d-flex">
      <cam-notification-badge
        *ngIf="item.options?.notificationBadge?.label"
        [number]="item.options?.notificationBadge?.label || 0"
        [style]="'brand-700'"
        fontSize="xs"
        [relative]="true"
      ></cam-notification-badge>
      <ng-container *ngLet="item.options?.extraTemplate as extraTemplate">
        <ng-template
          *ngIf="extraTemplate"
          [ngTemplateOutlet]="extraTemplate"
        ></ng-template>
      </ng-container>
    </div>
    <div class="ending-icon-container" *ngIf="item.endingIcon">
      <cam-font-icon
        [name]="item.endingIcon"
        [ngClass]="item.iconsColor"
      ></cam-font-icon>
    </div>
    <ng-container *ngLet="this.getTemplate() as template">
      <ng-container *ngIf="template">
        <div class="trigger-container">
          <div class="trigger" [matMenuTriggerFor]="menu" #triggerPanel></div>
          <mat-menu #menu="matMenu">
            <ng-container *ngTemplateOutlet="template"></ng-container>
          </mat-menu>
        </div>
      </ng-container>
    </ng-container>
  </div>
</ng-template>
