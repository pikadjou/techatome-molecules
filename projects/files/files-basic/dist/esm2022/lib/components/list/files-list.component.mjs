import { NgFor, NgIf } from "@angular/common";
import { Component, EventEmitter, Output, input } from "@angular/core";
import { FontIconComponent, LocalIconComponent } from "@ta/icons";
import { EmptyComponent } from "@ta/ui";
import { SafePipe, StopPropagationDirective, TaBaseComponent, } from "@ta/utils";
import { FileCardComponent } from "./card/file/file-card.component";
import * as i0 from "@angular/core";
export class FileListComponent extends TaBaseComponent {
    constructor() {
        super();
        this.files = input([]);
        this.canDeleteFile = input(false);
        this.fileSelected = new EventEmitter();
        this.moreInformationSelected = new EventEmitter();
        this.fileDeleted = new EventEmitter();
    }
    canDisplayFileType(fileType) {
        const filesValue = this.files();
        if (filesValue && filesValue[0])
            return filesValue[0].type === fileType;
        return false;
    }
    onFileSelected(file, index) {
        if (file.isLoading)
            return;
        this.fileSelected.emit({ ...file, ...{ index } });
    }
    onMoreInformationSelected(file) {
        if (file.isLoading)
            return;
        this.moreInformationSelected.emit(file);
    }
    deleteFile(fileData) {
        this.fileDeleted.emit(fileData);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FileListComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: FileListComponent, isStandalone: true, selector: "ta-files-list", inputs: { files: { classPropertyName: "files", publicName: "files", isSignal: true, isRequired: false, transformFunction: null }, canDeleteFile: { classPropertyName: "canDeleteFile", publicName: "canDeleteFile", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { fileSelected: "fileSelected", moreInformationSelected: "moreInformationSelected", fileDeleted: "fileDeleted" }, usesInheritance: true, ngImport: i0, template: "<ta-empty [isEmpty]=\"this.files().length === 0\">\n  @if (this.canDisplayFileType('Image')) {\n  <div class=\"files-container\">\n    @for (file of this.files(); track this.trackById($index, file); let i =\n    $index) {\n    <div class=\"info-container\" (click)=\"this.onFileSelected(file, i)\">\n      @if (this.canDeleteFile()) {\n      <div class=\"delete\" (click)=\"this.deleteFile(file)\" appStopPropagation>\n        <div class=\"delete-icon\">\n          <ta-font-icon type=\"sm\" name=\"close\"></ta-font-icon>\n        </div>\n      </div>\n      } @if (file.type === 'Image') {\n      <img [src]=\"file.thumbnailUrl || file.url | safe : 'url'\" />\n      } @else if (file.type === 'Document') {\n      <ta-file-card [file]=\"file\"></ta-file-card>\n      } @if (file.isLoading) {\n      <div class=\"is-loading\">\n        <ta-local-icon\n          class=\"align-middle\"\n          [rotation]=\"file.isLoading\"\n          [type]=\"this.icon.Loader\"\n          [size]=\"'xs'\"\n        ></ta-local-icon>\n      </div>\n      } @if (file.isSelected) {\n      <div class=\"is-selected\">\n        <ta-local-icon\n          class=\"align-middle\"\n          [type]=\"this.icon.Checked\"\n          [size]=\"'xs'\"\n        ></ta-local-icon>\n      </div>\n      }\n    </div>\n    }\n  </div>\n  } @if (canDisplayFileType('Document')) {\n  <div class=\"row g-2 row-cols-1 row-cols-md-2 row-cols-xl-3 mb-space-lg\">\n    @for (file of this.files(); track this.trackById($index, file); let i =\n    $index) {\n    <div>\n      @if (file.type === 'Document') {\n      <ta-file-card\n        (fileSelected)=\"this.onFileSelected(file, i)\"\n        (moreInformationSelected)=\"this.onMoreInformationSelected(file)\"\n        [file]=\"file\"\n      ></ta-file-card>\n      }\n    </div>\n    }\n  </div>\n  }\n</ta-empty>\n", styles: ["img{border-radius:5px;width:100%}.files-container{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;row-gap:1em;column-gap:5%}.files-container .info-container{position:relative;width:30%;margin-top:auto;margin-bottom:auto}.files-container .info-container .delete{position:absolute;width:32px;height:32px;border-radius:32px;top:4px;right:4px;background:var(--ta-neutral-50)}.files-container .info-container .delete .delete-icon{width:fit-content;display:block;height:fit-content;margin:6px auto auto}.files-container .info-container .is-loading,.files-container .info-container .is-selected{width:100%;height:100%;opacity:.5;position:absolute;inset:0;background-color:var(--ta-neutral-100)}.files-container .info-container .is-loading app-local-icon,.files-container .info-container .is-selected app-local-icon{position:relative;transform:translateY(-50%);top:40%}\n"], dependencies: [{ kind: "component", type: EmptyComponent, selector: "ta-empty", inputs: ["isEmpty", "isLight", "showMessage", "text", "type", "icon", "iconSize"] }, { kind: "component", type: FileCardComponent, selector: "ta-file-card", inputs: ["file"], outputs: ["fileSelected", "moreInformationSelected"] }, { kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: LocalIconComponent, selector: "ta-local-icon", inputs: ["type", "size", "rotation"] }, { kind: "pipe", type: SafePipe, name: "safe" }, { kind: "directive", type: StopPropagationDirective, selector: "[appStopPropagation]", inputs: ["stopPropagationActivation"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FileListComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-files-list", standalone: true, imports: [
                        NgIf,
                        NgFor,
                        EmptyComponent,
                        FileCardComponent,
                        FontIconComponent,
                        LocalIconComponent,
                        SafePipe,
                        StopPropagationDirective,
                    ], template: "<ta-empty [isEmpty]=\"this.files().length === 0\">\n  @if (this.canDisplayFileType('Image')) {\n  <div class=\"files-container\">\n    @for (file of this.files(); track this.trackById($index, file); let i =\n    $index) {\n    <div class=\"info-container\" (click)=\"this.onFileSelected(file, i)\">\n      @if (this.canDeleteFile()) {\n      <div class=\"delete\" (click)=\"this.deleteFile(file)\" appStopPropagation>\n        <div class=\"delete-icon\">\n          <ta-font-icon type=\"sm\" name=\"close\"></ta-font-icon>\n        </div>\n      </div>\n      } @if (file.type === 'Image') {\n      <img [src]=\"file.thumbnailUrl || file.url | safe : 'url'\" />\n      } @else if (file.type === 'Document') {\n      <ta-file-card [file]=\"file\"></ta-file-card>\n      } @if (file.isLoading) {\n      <div class=\"is-loading\">\n        <ta-local-icon\n          class=\"align-middle\"\n          [rotation]=\"file.isLoading\"\n          [type]=\"this.icon.Loader\"\n          [size]=\"'xs'\"\n        ></ta-local-icon>\n      </div>\n      } @if (file.isSelected) {\n      <div class=\"is-selected\">\n        <ta-local-icon\n          class=\"align-middle\"\n          [type]=\"this.icon.Checked\"\n          [size]=\"'xs'\"\n        ></ta-local-icon>\n      </div>\n      }\n    </div>\n    }\n  </div>\n  } @if (canDisplayFileType('Document')) {\n  <div class=\"row g-2 row-cols-1 row-cols-md-2 row-cols-xl-3 mb-space-lg\">\n    @for (file of this.files(); track this.trackById($index, file); let i =\n    $index) {\n    <div>\n      @if (file.type === 'Document') {\n      <ta-file-card\n        (fileSelected)=\"this.onFileSelected(file, i)\"\n        (moreInformationSelected)=\"this.onMoreInformationSelected(file)\"\n        [file]=\"file\"\n      ></ta-file-card>\n      }\n    </div>\n    }\n  </div>\n  }\n</ta-empty>\n", styles: ["img{border-radius:5px;width:100%}.files-container{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;row-gap:1em;column-gap:5%}.files-container .info-container{position:relative;width:30%;margin-top:auto;margin-bottom:auto}.files-container .info-container .delete{position:absolute;width:32px;height:32px;border-radius:32px;top:4px;right:4px;background:var(--ta-neutral-50)}.files-container .info-container .delete .delete-icon{width:fit-content;display:block;height:fit-content;margin:6px auto auto}.files-container .info-container .is-loading,.files-container .info-container .is-selected{width:100%;height:100%;opacity:.5;position:absolute;inset:0;background-color:var(--ta-neutral-100)}.files-container .info-container .is-loading app-local-icon,.files-container .info-container .is-selected app-local-icon{position:relative;transform:translateY(-50%);top:40%}\n"] }]
        }], ctorParameters: () => [], propDecorators: { fileSelected: [{
                type: Output
            }], moreInformationSelected: [{
                type: Output
            }], fileDeleted: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsZXMtbGlzdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvbGlzdC9maWxlcy1saXN0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9saXN0L2ZpbGVzLWxpc3QuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM5QyxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUNsRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBQ3hDLE9BQU8sRUFHTCxRQUFRLEVBQ1Isd0JBQXdCLEVBQ3hCLGVBQWUsR0FDaEIsTUFBTSxXQUFXLENBQUM7QUFFbkIsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0saUNBQWlDLENBQUM7O0FBa0JwRSxNQUFNLE9BQU8saUJBQWtCLFNBQVEsZUFBZTtJQWVwRDtRQUNFLEtBQUssRUFBRSxDQUFDO1FBZlYsVUFBSyxHQUFHLEtBQUssQ0FBYSxFQUFFLENBQUMsQ0FBQztRQUU5QixrQkFBYSxHQUFHLEtBQUssQ0FBVSxLQUFLLENBQUMsQ0FBQztRQUd0QyxpQkFBWSxHQUFHLElBQUksWUFBWSxFQUFnQyxDQUFDO1FBR2hFLDRCQUF1QixHQUNyQixJQUFJLFlBQVksRUFBWSxDQUFDO1FBRy9CLGdCQUFXLEdBQUcsSUFBSSxZQUFZLEVBQVksQ0FBQztJQUkzQyxDQUFDO0lBRU0sa0JBQWtCLENBQUMsUUFBa0I7UUFDMUMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2hDLElBQUksVUFBVSxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFBRSxPQUFPLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssUUFBUSxDQUFDO1FBRXhFLE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQztJQUVNLGNBQWMsQ0FBQyxJQUFjLEVBQUUsS0FBYTtRQUNqRCxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQUUsT0FBTztRQUUzQixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVNLHlCQUF5QixDQUFDLElBQWM7UUFDN0MsSUFBSSxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFFM0IsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU0sVUFBVSxDQUFDLFFBQWtCO1FBQ2xDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7K0dBeENVLGlCQUFpQjttR0FBakIsaUJBQWlCLCtlQy9COUIseXlEQXNEQSxtN0JEL0JJLGNBQWMsd0lBQ2QsaUJBQWlCLGlJQUNqQixpQkFBaUIsbUZBQ2pCLGtCQUFrQiwyRkFDbEIsUUFBUSw2Q0FDUix3QkFBd0I7OzRGQUdmLGlCQUFpQjtrQkFoQjdCLFNBQVM7K0JBQ0UsZUFBZSxjQUdiLElBQUksV0FDUDt3QkFDUCxJQUFJO3dCQUNKLEtBQUs7d0JBQ0wsY0FBYzt3QkFDZCxpQkFBaUI7d0JBQ2pCLGlCQUFpQjt3QkFDakIsa0JBQWtCO3dCQUNsQixRQUFRO3dCQUNSLHdCQUF3QjtxQkFDekI7d0RBUUQsWUFBWTtzQkFEWCxNQUFNO2dCQUlQLHVCQUF1QjtzQkFEdEIsTUFBTTtnQkFLUCxXQUFXO3NCQURWLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ0ZvciwgTmdJZiB9IGZyb20gXCJAYW5ndWxhci9jb21tb25cIjtcbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIGlucHV0IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcblxuaW1wb3J0IHsgRm9udEljb25Db21wb25lbnQsIExvY2FsSWNvbkNvbXBvbmVudCB9IGZyb20gXCJAdGEvaWNvbnNcIjtcbmltcG9ydCB7IEVtcHR5Q29tcG9uZW50IH0gZnJvbSBcIkB0YS91aVwiO1xuaW1wb3J0IHtcbiAgRmlsZURhdGEsXG4gIEZpbGVUeXBlLFxuICBTYWZlUGlwZSxcbiAgU3RvcFByb3BhZ2F0aW9uRGlyZWN0aXZlLFxuICBUYUJhc2VDb21wb25lbnQsXG59IGZyb20gXCJAdGEvdXRpbHNcIjtcblxuaW1wb3J0IHsgRmlsZUNhcmRDb21wb25lbnQgfSBmcm9tIFwiLi9jYXJkL2ZpbGUvZmlsZS1jYXJkLmNvbXBvbmVudFwiO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IFwidGEtZmlsZXMtbGlzdFwiLFxuICB0ZW1wbGF0ZVVybDogXCIuL2ZpbGVzLWxpc3QuY29tcG9uZW50Lmh0bWxcIixcbiAgc3R5bGVVcmxzOiBbXCIuL2ZpbGVzLWxpc3QuY29tcG9uZW50LnNjc3NcIl0sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBOZ0lmLFxuICAgIE5nRm9yLFxuICAgIEVtcHR5Q29tcG9uZW50LFxuICAgIEZpbGVDYXJkQ29tcG9uZW50LFxuICAgIEZvbnRJY29uQ29tcG9uZW50LFxuICAgIExvY2FsSWNvbkNvbXBvbmVudCxcbiAgICBTYWZlUGlwZSxcbiAgICBTdG9wUHJvcGFnYXRpb25EaXJlY3RpdmUsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIEZpbGVMaXN0Q29tcG9uZW50IGV4dGVuZHMgVGFCYXNlQ29tcG9uZW50IHtcbiAgZmlsZXMgPSBpbnB1dDxGaWxlRGF0YVtdPihbXSk7XG5cbiAgY2FuRGVsZXRlRmlsZSA9IGlucHV0PGJvb2xlYW4+KGZhbHNlKTtcblxuICBAT3V0cHV0KClcbiAgZmlsZVNlbGVjdGVkID0gbmV3IEV2ZW50RW1pdHRlcjxGaWxlRGF0YSAmIHsgaW5kZXg6IG51bWJlciB9PigpO1xuXG4gIEBPdXRwdXQoKVxuICBtb3JlSW5mb3JtYXRpb25TZWxlY3RlZDogRXZlbnRFbWl0dGVyPEZpbGVEYXRhPiA9XG4gICAgbmV3IEV2ZW50RW1pdHRlcjxGaWxlRGF0YT4oKTtcblxuICBAT3V0cHV0KClcbiAgZmlsZURlbGV0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPEZpbGVEYXRhPigpO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwdWJsaWMgY2FuRGlzcGxheUZpbGVUeXBlKGZpbGVUeXBlOiBGaWxlVHlwZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZpbGVzVmFsdWUgPSB0aGlzLmZpbGVzKCk7XG4gICAgaWYgKGZpbGVzVmFsdWUgJiYgZmlsZXNWYWx1ZVswXSkgcmV0dXJuIGZpbGVzVmFsdWVbMF0udHlwZSA9PT0gZmlsZVR5cGU7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwdWJsaWMgb25GaWxlU2VsZWN0ZWQoZmlsZTogRmlsZURhdGEsIGluZGV4OiBudW1iZXIpIHtcbiAgICBpZiAoZmlsZS5pc0xvYWRpbmcpIHJldHVybjtcblxuICAgIHRoaXMuZmlsZVNlbGVjdGVkLmVtaXQoeyAuLi5maWxlLCAuLi57IGluZGV4IH0gfSk7XG4gIH1cblxuICBwdWJsaWMgb25Nb3JlSW5mb3JtYXRpb25TZWxlY3RlZChmaWxlOiBGaWxlRGF0YSkge1xuICAgIGlmIChmaWxlLmlzTG9hZGluZykgcmV0dXJuO1xuXG4gICAgdGhpcy5tb3JlSW5mb3JtYXRpb25TZWxlY3RlZC5lbWl0KGZpbGUpO1xuICB9XG5cbiAgcHVibGljIGRlbGV0ZUZpbGUoZmlsZURhdGE6IEZpbGVEYXRhKSB7XG4gICAgdGhpcy5maWxlRGVsZXRlZC5lbWl0KGZpbGVEYXRhKTtcbiAgfVxufVxuIiwiPHRhLWVtcHR5IFtpc0VtcHR5XT1cInRoaXMuZmlsZXMoKS5sZW5ndGggPT09IDBcIj5cbiAgQGlmICh0aGlzLmNhbkRpc3BsYXlGaWxlVHlwZSgnSW1hZ2UnKSkge1xuICA8ZGl2IGNsYXNzPVwiZmlsZXMtY29udGFpbmVyXCI+XG4gICAgQGZvciAoZmlsZSBvZiB0aGlzLmZpbGVzKCk7IHRyYWNrIHRoaXMudHJhY2tCeUlkKCRpbmRleCwgZmlsZSk7IGxldCBpID1cbiAgICAkaW5kZXgpIHtcbiAgICA8ZGl2IGNsYXNzPVwiaW5mby1jb250YWluZXJcIiAoY2xpY2spPVwidGhpcy5vbkZpbGVTZWxlY3RlZChmaWxlLCBpKVwiPlxuICAgICAgQGlmICh0aGlzLmNhbkRlbGV0ZUZpbGUoKSkge1xuICAgICAgPGRpdiBjbGFzcz1cImRlbGV0ZVwiIChjbGljayk9XCJ0aGlzLmRlbGV0ZUZpbGUoZmlsZSlcIiBhcHBTdG9wUHJvcGFnYXRpb24+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkZWxldGUtaWNvblwiPlxuICAgICAgICAgIDx0YS1mb250LWljb24gdHlwZT1cInNtXCIgbmFtZT1cImNsb3NlXCI+PC90YS1mb250LWljb24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICB9IEBpZiAoZmlsZS50eXBlID09PSAnSW1hZ2UnKSB7XG4gICAgICA8aW1nIFtzcmNdPVwiZmlsZS50aHVtYm5haWxVcmwgfHwgZmlsZS51cmwgfCBzYWZlIDogJ3VybCdcIiAvPlxuICAgICAgfSBAZWxzZSBpZiAoZmlsZS50eXBlID09PSAnRG9jdW1lbnQnKSB7XG4gICAgICA8dGEtZmlsZS1jYXJkIFtmaWxlXT1cImZpbGVcIj48L3RhLWZpbGUtY2FyZD5cbiAgICAgIH0gQGlmIChmaWxlLmlzTG9hZGluZykge1xuICAgICAgPGRpdiBjbGFzcz1cImlzLWxvYWRpbmdcIj5cbiAgICAgICAgPHRhLWxvY2FsLWljb25cbiAgICAgICAgICBjbGFzcz1cImFsaWduLW1pZGRsZVwiXG4gICAgICAgICAgW3JvdGF0aW9uXT1cImZpbGUuaXNMb2FkaW5nXCJcbiAgICAgICAgICBbdHlwZV09XCJ0aGlzLmljb24uTG9hZGVyXCJcbiAgICAgICAgICBbc2l6ZV09XCIneHMnXCJcbiAgICAgICAgPjwvdGEtbG9jYWwtaWNvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgfSBAaWYgKGZpbGUuaXNTZWxlY3RlZCkge1xuICAgICAgPGRpdiBjbGFzcz1cImlzLXNlbGVjdGVkXCI+XG4gICAgICAgIDx0YS1sb2NhbC1pY29uXG4gICAgICAgICAgY2xhc3M9XCJhbGlnbi1taWRkbGVcIlxuICAgICAgICAgIFt0eXBlXT1cInRoaXMuaWNvbi5DaGVja2VkXCJcbiAgICAgICAgICBbc2l6ZV09XCIneHMnXCJcbiAgICAgICAgPjwvdGEtbG9jYWwtaWNvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgfVxuICAgIDwvZGl2PlxuICAgIH1cbiAgPC9kaXY+XG4gIH0gQGlmIChjYW5EaXNwbGF5RmlsZVR5cGUoJ0RvY3VtZW50JykpIHtcbiAgPGRpdiBjbGFzcz1cInJvdyBnLTIgcm93LWNvbHMtMSByb3ctY29scy1tZC0yIHJvdy1jb2xzLXhsLTMgbWItc3BhY2UtbGdcIj5cbiAgICBAZm9yIChmaWxlIG9mIHRoaXMuZmlsZXMoKTsgdHJhY2sgdGhpcy50cmFja0J5SWQoJGluZGV4LCBmaWxlKTsgbGV0IGkgPVxuICAgICRpbmRleCkge1xuICAgIDxkaXY+XG4gICAgICBAaWYgKGZpbGUudHlwZSA9PT0gJ0RvY3VtZW50Jykge1xuICAgICAgPHRhLWZpbGUtY2FyZFxuICAgICAgICAoZmlsZVNlbGVjdGVkKT1cInRoaXMub25GaWxlU2VsZWN0ZWQoZmlsZSwgaSlcIlxuICAgICAgICAobW9yZUluZm9ybWF0aW9uU2VsZWN0ZWQpPVwidGhpcy5vbk1vcmVJbmZvcm1hdGlvblNlbGVjdGVkKGZpbGUpXCJcbiAgICAgICAgW2ZpbGVdPVwiZmlsZVwiXG4gICAgICA+PC90YS1maWxlLWNhcmQ+XG4gICAgICB9XG4gICAgPC9kaXY+XG4gICAgfVxuICA8L2Rpdj5cbiAgfVxuPC90YS1lbXB0eT5cbiJdfQ==