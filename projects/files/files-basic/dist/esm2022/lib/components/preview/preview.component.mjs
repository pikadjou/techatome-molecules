import { CommonModule } from '@angular/common';
import { Component, inject, input, signal } from '@angular/core';
import { MAT_DIALOG_DATA } from '@angular/material/dialog';
import { TranslateModule } from '@ngx-translate/core';
import { ButtonComponent, LayoutModalComponent, LoaderComponent, MegaoctetComponent, TextComponent, TitleComponent, } from '@ta/ui';
import { EFileExtension, TaBaseComponent, TaBaseModal, downloadFile, getFileExtension } from '@ta/utils';
import { ExcelViewerComponent } from './viewers/excel-viewer/excel-viewer.component';
import { ImageViewerComponent } from './viewers/image-viewer/image-viewer.component';
import { PdfViewerComponent } from './viewers/pdf-viewer/pdf-viewer.component';
import { WordViewerComponent } from './viewers/word-viewer/word-viewer.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@ngx-translate/core";
export class FilesPreviewComponent extends TaBaseComponent {
    constructor() {
        super();
        this.initial = input.required();
        this.getFileExtension = getFileExtension;
        this.EFileExtension = EFileExtension;
    }
    download() {
        downloadFile(this.initial().url);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FilesPreviewComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: FilesPreviewComponent, isStandalone: true, selector: "ta-files-preview", inputs: { initial: { classPropertyName: "initial", publicName: "initial", isSignal: true, isRequired: true, transformFunction: null } }, usesInheritance: true, ngImport: i0, template: "<div Class=\"slide-container flex-column g-space-sm\">\n  <div class=\"header flex-column g-space-sm\">\n    <ta-title [level]=\"3\">{{ this.initial().filename }}</ta-title>\n\n    <div class=\"flex-start g-space-sm align-center\">\n      <ta-text>{{ this.initial().uploadedDate | date: 'shortDate' }}</ta-text>\n      <ta-megaoctet [octet]=\"this.initial().size\"></ta-megaoctet>\n    </div>\n  </div>\n  <div class=\"body\">\n    @switch (this.getFileExtension(this.initial().url)) {\n      @case (EFileExtension.Image) {\n        <ta-image-viewer [file]=\"this.initial()\"></ta-image-viewer>\n      }\n      @case (EFileExtension.PDF) {\n        <ta-pdf-viewer [file]=\"this.initial()\"></ta-pdf-viewer>\n      }\n      @case (EFileExtension.Excel) {\n        <ta-excel-viewer [file]=\"this.initial()\"></ta-excel-viewer>\n      }\n      @case (EFileExtension.Word) {\n        <ta-word-viewer [file]=\"this.initial()\"></ta-word-viewer>\n      }\n      @default {\n        {{ 'files.slide.no-viewer' | translate }}\n      }\n    }\n  </div>\n  <div class=\"footer space-between\">\n    <div class=\"flex-row g-space-sm\">\n      <!-- <ta-button icon=\"delete\" (action)=\"this.delete()\" type=\"alert\">{{ 'files.slide.delete' | translate }}</ta-button> -->\n      <ta-button\n        icon=\"download\"\n        (action)=\"this.download()\"\n        [options]=\"this.breakpoints.isMobile ? { circular: 'small' } : {}\"\n      >\n        @if (!this.breakpoints.isMobile) {\n          {{ 'files.slide.download' | translate }}\n        }\n      </ta-button>\n    </div>\n  </div>\n</div>\n", styles: [".slide-container{height:100%}.header{border-bottom:1px solid var(--ta-neutral-300);padding-bottom:var(--ta-space-md)}.body{flex:1;width:100%;overflow:auto}.body ta-image-viewer,.body ta-pdf-viewer,.body ta-word-viewer,.body ta-excel-viewer{height:100%;width:100%;display:block}.footer{border-top:1px solid var(--ta-neutral-300);padding:var(--ta-space-md)}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "pipe", type: i1.DatePipe, name: "date" }, { kind: "ngmodule", type: TranslateModule }, { kind: "pipe", type: i2.TranslatePipe, name: "translate" }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "component", type: MegaoctetComponent, selector: "ta-megaoctet", inputs: ["octet", "icon"] }, { kind: "component", type: ImageViewerComponent, selector: "ta-image-viewer", inputs: ["file"] }, { kind: "component", type: PdfViewerComponent, selector: "ta-pdf-viewer", inputs: ["file"] }, { kind: "component", type: ExcelViewerComponent, selector: "ta-excel-viewer", inputs: ["file"] }, { kind: "component", type: WordViewerComponent, selector: "ta-word-viewer", inputs: ["file"] }, { kind: "component", type: TitleComponent, selector: "ta-title", inputs: ["level", "isTheme", "isBold", "icon"] }, { kind: "component", type: TextComponent, selector: "ta-text", inputs: ["size", "isBold", "color"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FilesPreviewComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-files-preview', standalone: true, imports: [
                        CommonModule,
                        TranslateModule,
                        ButtonComponent,
                        MegaoctetComponent,
                        ImageViewerComponent,
                        PdfViewerComponent,
                        ExcelViewerComponent,
                        WordViewerComponent,
                        TitleComponent,
                        TextComponent,
                    ], template: "<div Class=\"slide-container flex-column g-space-sm\">\n  <div class=\"header flex-column g-space-sm\">\n    <ta-title [level]=\"3\">{{ this.initial().filename }}</ta-title>\n\n    <div class=\"flex-start g-space-sm align-center\">\n      <ta-text>{{ this.initial().uploadedDate | date: 'shortDate' }}</ta-text>\n      <ta-megaoctet [octet]=\"this.initial().size\"></ta-megaoctet>\n    </div>\n  </div>\n  <div class=\"body\">\n    @switch (this.getFileExtension(this.initial().url)) {\n      @case (EFileExtension.Image) {\n        <ta-image-viewer [file]=\"this.initial()\"></ta-image-viewer>\n      }\n      @case (EFileExtension.PDF) {\n        <ta-pdf-viewer [file]=\"this.initial()\"></ta-pdf-viewer>\n      }\n      @case (EFileExtension.Excel) {\n        <ta-excel-viewer [file]=\"this.initial()\"></ta-excel-viewer>\n      }\n      @case (EFileExtension.Word) {\n        <ta-word-viewer [file]=\"this.initial()\"></ta-word-viewer>\n      }\n      @default {\n        {{ 'files.slide.no-viewer' | translate }}\n      }\n    }\n  </div>\n  <div class=\"footer space-between\">\n    <div class=\"flex-row g-space-sm\">\n      <!-- <ta-button icon=\"delete\" (action)=\"this.delete()\" type=\"alert\">{{ 'files.slide.delete' | translate }}</ta-button> -->\n      <ta-button\n        icon=\"download\"\n        (action)=\"this.download()\"\n        [options]=\"this.breakpoints.isMobile ? { circular: 'small' } : {}\"\n      >\n        @if (!this.breakpoints.isMobile) {\n          {{ 'files.slide.download' | translate }}\n        }\n      </ta-button>\n    </div>\n  </div>\n</div>\n", styles: [".slide-container{height:100%}.header{border-bottom:1px solid var(--ta-neutral-300);padding-bottom:var(--ta-space-md)}.body{flex:1;width:100%;overflow:auto}.body ta-image-viewer,.body ta-pdf-viewer,.body ta-word-viewer,.body ta-excel-viewer{height:100%;width:100%;display:block}.footer{border-top:1px solid var(--ta-neutral-300);padding:var(--ta-space-md)}\n"] }]
        }], ctorParameters: () => [] });
export class PreviewModal extends TaBaseModal {
    constructor() {
        super();
        this.data = inject(MAT_DIALOG_DATA);
        this.initial = signal(null);
        //  TaTranslationFiles.getInstance();
        this.initial.set(this.data.initial);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: PreviewModal, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.14", type: PreviewModal, isStandalone: true, selector: "ng-component", usesInheritance: true, ngImport: i0, template: '<ta-layout-modal [style]="\'big\'" title="files.preview.title"><ta-loader [isLoading]="this.requestState.isLoading()"><ta-files-preview [initial]="this.initial()!"></ta-files-preview></ta-loader></ta-layout-modal>', isInline: true, dependencies: [{ kind: "component", type: LayoutModalComponent, selector: "ta-layout-modal", inputs: ["style", "title"] }, { kind: "component", type: FilesPreviewComponent, selector: "ta-files-preview", inputs: ["initial"] }, { kind: "component", type: LoaderComponent, selector: "ta-loader", inputs: ["isLoading", "skeleton", "size", "text"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: PreviewModal, decorators: [{
            type: Component,
            args: [{
                    // eslint-disable-next-line @angular-eslint/component-selector
                    selector: '',
                    template: '<ta-layout-modal [style]="\'big\'" title="files.preview.title"><ta-loader [isLoading]="this.requestState.isLoading()"><ta-files-preview [initial]="this.initial()!"></ta-files-preview></ta-loader></ta-layout-modal>',
                    standalone: true,
                    imports: [LayoutModalComponent, FilesPreviewComponent, LoaderComponent],
                }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJldmlldy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvcHJldmlldy9wcmV2aWV3LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9wcmV2aWV3L3ByZXZpZXcuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDakUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBRTNELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUV0RCxPQUFPLEVBQ0wsZUFBZSxFQUNmLG9CQUFvQixFQUNwQixlQUFlLEVBQ2Ysa0JBQWtCLEVBQ2xCLGFBQWEsRUFDYixjQUFjLEdBQ2YsTUFBTSxRQUFRLENBQUM7QUFDaEIsT0FBTyxFQUFFLGNBQWMsRUFBRSxlQUFlLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUd6RyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQUNyRixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwrQ0FBK0MsQ0FBQztBQUNyRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUMvRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSw2Q0FBNkMsQ0FBQzs7OztBQW9CbEYsTUFBTSxPQUFPLHFCQUFzQixTQUFRLGVBQWU7SUFLeEQ7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQUxWLFlBQU8sR0FBRyxLQUFLLENBQUMsUUFBUSxFQUFzQixDQUFDO1FBRXRDLHFCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBQ3BDLG1CQUFjLEdBQUcsY0FBYyxDQUFDO0lBR3pDLENBQUM7SUFFTSxRQUFRO1FBQ2IsWUFBWSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNuQyxDQUFDOytHQVhVLHFCQUFxQjttR0FBckIscUJBQXFCLDRPQ3hDbEMsdWpEQTJDQSw4WkRmSSxZQUFZLGlGQUNaLGVBQWUsNEZBQ2YsZUFBZSw4SkFDZixrQkFBa0Isb0ZBQ2xCLG9CQUFvQiw4RUFDcEIsa0JBQWtCLDRFQUNsQixvQkFBb0IsOEVBQ3BCLG1CQUFtQiw2RUFDbkIsY0FBYyxxR0FDZCxhQUFhOzs0RkFHSixxQkFBcUI7a0JBbEJqQyxTQUFTOytCQUNFLGtCQUFrQixjQUdoQixJQUFJLFdBQ1A7d0JBQ1AsWUFBWTt3QkFDWixlQUFlO3dCQUNmLGVBQWU7d0JBQ2Ysa0JBQWtCO3dCQUNsQixvQkFBb0I7d0JBQ3BCLGtCQUFrQjt3QkFDbEIsb0JBQW9CO3dCQUNwQixtQkFBbUI7d0JBQ25CLGNBQWM7d0JBQ2QsYUFBYTtxQkFDZDs7QUEyQkgsTUFBTSxPQUFPLFlBQWEsU0FBUSxXQUFXO0lBSzNDO1FBQ0UsS0FBSyxFQUFFLENBQUM7UUFMSCxTQUFJLEdBQUcsTUFBTSxDQUF3QixlQUFlLENBQUMsQ0FBQztRQUVwRCxZQUFPLEdBQUcsTUFBTSxDQUE0QixJQUFJLENBQUMsQ0FBQztRQUl6RCxxQ0FBcUM7UUFFckMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN0QyxDQUFDOytHQVZVLFlBQVk7bUdBQVosWUFBWSwrRkFKckIsdU5BQXVOLDREQUUvTSxvQkFBb0Isd0ZBdkJuQixxQkFBcUIsa0ZBdUJ1QixlQUFlOzs0RkFFM0QsWUFBWTtrQkFSeEIsU0FBUzttQkFBQztvQkFDVCw4REFBOEQ7b0JBQzlELFFBQVEsRUFBRSxFQUFFO29CQUNaLFFBQVEsRUFDTix1TkFBdU47b0JBQ3pOLFVBQVUsRUFBRSxJQUFJO29CQUNoQixPQUFPLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxxQkFBcUIsRUFBRSxlQUFlLENBQUM7aUJBQ3hFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IENvbXBvbmVudCwgaW5qZWN0LCBpbnB1dCwgc2lnbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbC9kaWFsb2cnO1xuXG5pbXBvcnQgeyBUcmFuc2xhdGVNb2R1bGUgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcblxuaW1wb3J0IHtcbiAgQnV0dG9uQ29tcG9uZW50LFxuICBMYXlvdXRNb2RhbENvbXBvbmVudCxcbiAgTG9hZGVyQ29tcG9uZW50LFxuICBNZWdhb2N0ZXRDb21wb25lbnQsXG4gIFRleHRDb21wb25lbnQsXG4gIFRpdGxlQ29tcG9uZW50LFxufSBmcm9tICdAdGEvdWknO1xuaW1wb3J0IHsgRUZpbGVFeHRlbnNpb24sIFRhQmFzZUNvbXBvbmVudCwgVGFCYXNlTW9kYWwsIGRvd25sb2FkRmlsZSwgZ2V0RmlsZUV4dGVuc2lvbiB9IGZyb20gJ0B0YS91dGlscyc7XG5cbmltcG9ydCB7IFByZXZpZXdEb2N1bWVudER0byB9IGZyb20gJy4vdHlwZSc7XG5pbXBvcnQgeyBFeGNlbFZpZXdlckNvbXBvbmVudCB9IGZyb20gJy4vdmlld2Vycy9leGNlbC12aWV3ZXIvZXhjZWwtdmlld2VyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbWFnZVZpZXdlckNvbXBvbmVudCB9IGZyb20gJy4vdmlld2Vycy9pbWFnZS12aWV3ZXIvaW1hZ2Utdmlld2VyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQZGZWaWV3ZXJDb21wb25lbnQgfSBmcm9tICcuL3ZpZXdlcnMvcGRmLXZpZXdlci9wZGYtdmlld2VyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBXb3JkVmlld2VyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3ZXJzL3dvcmQtdmlld2VyL3dvcmQtdmlld2VyLmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3RhLWZpbGVzLXByZXZpZXcnLFxuICB0ZW1wbGF0ZVVybDogJy4vcHJldmlldy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3ByZXZpZXcuY29tcG9uZW50LnNjc3MnXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBUcmFuc2xhdGVNb2R1bGUsXG4gICAgQnV0dG9uQ29tcG9uZW50LFxuICAgIE1lZ2FvY3RldENvbXBvbmVudCxcbiAgICBJbWFnZVZpZXdlckNvbXBvbmVudCxcbiAgICBQZGZWaWV3ZXJDb21wb25lbnQsXG4gICAgRXhjZWxWaWV3ZXJDb21wb25lbnQsXG4gICAgV29yZFZpZXdlckNvbXBvbmVudCxcbiAgICBUaXRsZUNvbXBvbmVudCxcbiAgICBUZXh0Q29tcG9uZW50LFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBGaWxlc1ByZXZpZXdDb21wb25lbnQgZXh0ZW5kcyBUYUJhc2VDb21wb25lbnQge1xuICBpbml0aWFsID0gaW5wdXQucmVxdWlyZWQ8UHJldmlld0RvY3VtZW50RHRvPigpO1xuXG4gIHJlYWRvbmx5IGdldEZpbGVFeHRlbnNpb24gPSBnZXRGaWxlRXh0ZW5zaW9uO1xuICByZWFkb25seSBFRmlsZUV4dGVuc2lvbiA9IEVGaWxlRXh0ZW5zaW9uO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHVibGljIGRvd25sb2FkKCkge1xuICAgIGRvd25sb2FkRmlsZSh0aGlzLmluaXRpYWwoKS51cmwpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFByZXZpZXdNb2RhbERhdGFNb2RhbCA9IHtcbiAgaW5pdGlhbDogUHJldmlld0RvY3VtZW50RHRvIHwgbnVsbDtcbn07XG5AQ29tcG9uZW50KHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBhbmd1bGFyLWVzbGludC9jb21wb25lbnQtc2VsZWN0b3JcbiAgc2VsZWN0b3I6ICcnLFxuICB0ZW1wbGF0ZTpcbiAgICAnPHRhLWxheW91dC1tb2RhbCBbc3R5bGVdPVwiXFwnYmlnXFwnXCIgdGl0bGU9XCJmaWxlcy5wcmV2aWV3LnRpdGxlXCI+PHRhLWxvYWRlciBbaXNMb2FkaW5nXT1cInRoaXMucmVxdWVzdFN0YXRlLmlzTG9hZGluZygpXCI+PHRhLWZpbGVzLXByZXZpZXcgW2luaXRpYWxdPVwidGhpcy5pbml0aWFsKCkhXCI+PC90YS1maWxlcy1wcmV2aWV3PjwvdGEtbG9hZGVyPjwvdGEtbGF5b3V0LW1vZGFsPicsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtMYXlvdXRNb2RhbENvbXBvbmVudCwgRmlsZXNQcmV2aWV3Q29tcG9uZW50LCBMb2FkZXJDb21wb25lbnRdLFxufSlcbmV4cG9ydCBjbGFzcyBQcmV2aWV3TW9kYWwgZXh0ZW5kcyBUYUJhc2VNb2RhbCB7XG4gIHB1YmxpYyBkYXRhID0gaW5qZWN0PFByZXZpZXdNb2RhbERhdGFNb2RhbD4oTUFUX0RJQUxPR19EQVRBKTtcblxuICByZWFkb25seSBpbml0aWFsID0gc2lnbmFsPFByZXZpZXdEb2N1bWVudER0byB8IG51bGw+KG51bGwpO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgLy8gIFRhVHJhbnNsYXRpb25GaWxlcy5nZXRJbnN0YW5jZSgpO1xuXG4gICAgdGhpcy5pbml0aWFsLnNldCh0aGlzLmRhdGEuaW5pdGlhbCk7XG4gIH1cbn1cbiIsIjxkaXYgQ2xhc3M9XCJzbGlkZS1jb250YWluZXIgZmxleC1jb2x1bW4gZy1zcGFjZS1zbVwiPlxuICA8ZGl2IGNsYXNzPVwiaGVhZGVyIGZsZXgtY29sdW1uIGctc3BhY2Utc21cIj5cbiAgICA8dGEtdGl0bGUgW2xldmVsXT1cIjNcIj57eyB0aGlzLmluaXRpYWwoKS5maWxlbmFtZSB9fTwvdGEtdGl0bGU+XG5cbiAgICA8ZGl2IGNsYXNzPVwiZmxleC1zdGFydCBnLXNwYWNlLXNtIGFsaWduLWNlbnRlclwiPlxuICAgICAgPHRhLXRleHQ+e3sgdGhpcy5pbml0aWFsKCkudXBsb2FkZWREYXRlIHwgZGF0ZTogJ3Nob3J0RGF0ZScgfX08L3RhLXRleHQ+XG4gICAgICA8dGEtbWVnYW9jdGV0IFtvY3RldF09XCJ0aGlzLmluaXRpYWwoKS5zaXplXCI+PC90YS1tZWdhb2N0ZXQ+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxuICAgIEBzd2l0Y2ggKHRoaXMuZ2V0RmlsZUV4dGVuc2lvbih0aGlzLmluaXRpYWwoKS51cmwpKSB7XG4gICAgICBAY2FzZSAoRUZpbGVFeHRlbnNpb24uSW1hZ2UpIHtcbiAgICAgICAgPHRhLWltYWdlLXZpZXdlciBbZmlsZV09XCJ0aGlzLmluaXRpYWwoKVwiPjwvdGEtaW1hZ2Utdmlld2VyPlxuICAgICAgfVxuICAgICAgQGNhc2UgKEVGaWxlRXh0ZW5zaW9uLlBERikge1xuICAgICAgICA8dGEtcGRmLXZpZXdlciBbZmlsZV09XCJ0aGlzLmluaXRpYWwoKVwiPjwvdGEtcGRmLXZpZXdlcj5cbiAgICAgIH1cbiAgICAgIEBjYXNlIChFRmlsZUV4dGVuc2lvbi5FeGNlbCkge1xuICAgICAgICA8dGEtZXhjZWwtdmlld2VyIFtmaWxlXT1cInRoaXMuaW5pdGlhbCgpXCI+PC90YS1leGNlbC12aWV3ZXI+XG4gICAgICB9XG4gICAgICBAY2FzZSAoRUZpbGVFeHRlbnNpb24uV29yZCkge1xuICAgICAgICA8dGEtd29yZC12aWV3ZXIgW2ZpbGVdPVwidGhpcy5pbml0aWFsKClcIj48L3RhLXdvcmQtdmlld2VyPlxuICAgICAgfVxuICAgICAgQGRlZmF1bHQge1xuICAgICAgICB7eyAnZmlsZXMuc2xpZGUubm8tdmlld2VyJyB8IHRyYW5zbGF0ZSB9fVxuICAgICAgfVxuICAgIH1cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJmb290ZXIgc3BhY2UtYmV0d2VlblwiPlxuICAgIDxkaXYgY2xhc3M9XCJmbGV4LXJvdyBnLXNwYWNlLXNtXCI+XG4gICAgICA8IS0tIDx0YS1idXR0b24gaWNvbj1cImRlbGV0ZVwiIChhY3Rpb24pPVwidGhpcy5kZWxldGUoKVwiIHR5cGU9XCJhbGVydFwiPnt7ICdmaWxlcy5zbGlkZS5kZWxldGUnIHwgdHJhbnNsYXRlIH19PC90YS1idXR0b24+IC0tPlxuICAgICAgPHRhLWJ1dHRvblxuICAgICAgICBpY29uPVwiZG93bmxvYWRcIlxuICAgICAgICAoYWN0aW9uKT1cInRoaXMuZG93bmxvYWQoKVwiXG4gICAgICAgIFtvcHRpb25zXT1cInRoaXMuYnJlYWtwb2ludHMuaXNNb2JpbGUgPyB7IGNpcmN1bGFyOiAnc21hbGwnIH0gOiB7fVwiXG4gICAgICA+XG4gICAgICAgIEBpZiAoIXRoaXMuYnJlYWtwb2ludHMuaXNNb2JpbGUpIHtcbiAgICAgICAgICB7eyAnZmlsZXMuc2xpZGUuZG93bmxvYWQnIHwgdHJhbnNsYXRlIH19XG4gICAgICAgIH1cbiAgICAgIDwvdGEtYnV0dG9uPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19