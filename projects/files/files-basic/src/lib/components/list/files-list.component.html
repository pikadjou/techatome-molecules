<ta-empty [isEmpty]="this.files.length === 0">
  @if (this.canDisplayFileType('Image')) {
    <div class="files-container">
      <ng-container *ngFor="let file of this.files; index as i; trackBy: this.trackById">
        <div class="info-container" (click)="this.onFileSelected(file, i)">
          @if (this.canDeleteFile) {
            <div class="delete" (click)="this.deleteFile(file)" appStopPropagation>
              <div class="delete-icon">
                <ta-font-icon type="sm" name="close"></ta-font-icon>
              </div>
            </div>
          }

          @if (file.type === 'Image') {
            <img [src]="file.thumbnailUrl || file.url | safe: 'url'" />
          } @else if (file.type === 'Document') {
            <ta-file-card [file]="file"></ta-file-card>
          }

          @if (file.isLoading) {
            <div class="is-loading">
              <ta-local-icon
                class="align-middle"
                [rotation]="file.isLoading"
                [type]="this.icon.Loader"
                [size]="'xs'"
              ></ta-local-icon>
            </div>
          }
          @if (file.isSelected) {
            <div class="is-selected">
              <ta-local-icon class="align-middle" [type]="this.icon.Checked" [size]="'xs'"></ta-local-icon>
            </div>
          }
        </div>
      </ng-container>
    </div>
  }

  @if (canDisplayFileType('Document')) {
    <div class="row g-2 row-cols-1 row-cols-md-2 row-cols-xl-3 mb-space-lg">
      <div *ngFor="let file of this.files; index as i; trackBy: this.trackById">
        @if (file.type === 'Document') {
          <ta-file-card
            (fileSelected)="this.onFileSelected(file, i)"
            (moreInformationSelected)="this.onMoreInformationSelected(file)"
            [file]="file"
          ></ta-file-card>
        }
      </div>
    </div>
  }
</ta-empty>
