{"version":3,"file":"ta-services.mjs","sources":["../../src/lib/services/menu/menu.service.ts","../../src/lib/services/projects/dto/project.ts","../../src/lib/services/projects/dto/status.ts","../../src/lib/services/projects/dto/address.ts","../../src/lib/services/projects/dto/tenant.ts","../../src/lib/services/projects/queries.ts","../../src/lib/services/projects/projects.service.ts","../../src/lib/services/files/dto/document.ts","../../src/lib/services/files/dto/file-type.ts","../../src/lib/services/files/queries.ts","../../src/lib/services/files/documents.service.ts","../../src/public-api.ts","../../src/ta-services.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\n\nimport { BehaviorSubject } from \"rxjs\";\n\nconst isMinimizedKey = \"isMinimizedMenu\";\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TaSharedMenuService {\n  public isMinimized$ = new BehaviorSubject<boolean>(\n    localStorage.getItem(isMinimizedKey) === \"1\" ? true : false\n  );\n\n  constructor() {\n    this.isMinimized$.subscribe((isMinimized) =>\n      localStorage.setItem(isMinimizedKey, isMinimized ? \"1\" : \"0\")\n    );\n  }\n}\n","import { GraphSchema } from \"@ta/server\";\n\nimport { Address } from \"./address\";\nimport { ProjectStatus } from \"./status\";\nimport { Tenant } from \"./tenant\";\n\nexport interface Project {\n  id: string;\n  name: string;\n  status: ProjectStatus;\n  projectAddress: Address;\n  tenantInformation: Tenant;\n  projectPictureUrl: string;\n}\n\nexport const projectProps = new GraphSchema<Project>([\n  \"id\",\n  \"name\",\n  \"status\",\n  \"projectAddress\",\n  \"tenantInformation\",\n  \"projectPictureUrl\",\n]);\n","export enum ProjectStatus {\n  Unknown = 0,\n  InProgress = 1,\n  Pending = 2,\n  Done = 3,\n  Cancelled = 4,\n}\n","import { GraphSchema } from \"@ta/server\";\n\nexport interface Address {\n  id: string;\n  country: string;\n  city: string;\n  postCode: number;\n  street: string;\n}\n\nexport const addressProps = new GraphSchema<Address>([\n  \"id\",\n  \"country\",\n  \"city\",\n  \"postCode\",\n  \"street\",\n]);\n","import { GraphSchema } from \"@ta/server\";\n\nexport interface Tenant {\n  id: string;\n  tenantName: string;\n  projectId: number;\n  tenantId?: number;\n  customerId?: number;\n}\n\nexport const tenantProps = new GraphSchema<Tenant>([\n  \"id\",\n  \"tenantId\",\n  \"tenantName\",\n  \"customerId\",\n  \"projectId\",\n]);\n","import {\n  Apollo_gql,\n  GraphQueryPayload,\n  graphQlPaginationFields,\n  graphQlTake,\n} from \"@ta/server\";\n\nimport { addressProps } from \"./dto/address\";\nimport { projectProps } from \"./dto/project\";\nimport { ProjectStatus } from \"./dto/status\";\nimport { tenantProps } from \"./dto/tenant\";\n\nexport function GET_MY_PROJECTS(filters?: {\n  statusList?: ProjectStatus[];\n  take?: number;\n}): GraphQueryPayload {\n  const where =\n    filters?.statusList && filters.statusList.length > 0\n      ? `where: { status: { in: [${filters.statusList}] } }`\n      : \"\";\n  return {\n    query: Apollo_gql`\n        query Projects {\n          projects(${graphQlTake(filters?.take)}, ${where}) {\n            items {\n              ${projectProps.get(\"id\")}\n              ${projectProps.get(\"name\")}\n              ${projectProps.get(\"status\")}\n              ${projectProps.get(\"projectPictureUrl\")}\n              ${projectProps.get(\"projectAddress\")} {\n                ${addressProps.get(\"city\")}\n                ${addressProps.get(\"postCode\")}\n                ${addressProps.get(\"street\")}\n              }\n              ${projectProps.get(\"tenantInformation\")} {\n                ${tenantProps.get(\"id\")}\n                ${tenantProps.get(\"tenantName\")}\n                ${tenantProps.get(\"projectId\")}\n              }\n            }\n            ${filters?.take ? graphQlPaginationFields() : \"\"}\n          }\n        }\n      `,\n    variables: {},\n  };\n}\nexport function GET_PROJECT_BY_ID(id: string): GraphQueryPayload {\n  return {\n    query: Apollo_gql`\n        query GetProjectById($id: UUID!) {\n          projectById(id: $id) {\n            ${projectProps.get(\"id\")}\n            ${projectProps.get(\"name\")}\n            ${projectProps.get(\"status\")}\n            ${projectProps.get(\"projectPictureUrl\")}\n            ${projectProps.get(\"projectAddress\")} {\n              ${addressProps.get(\"city\")}\n              ${addressProps.get(\"postCode\")}\n              ${addressProps.get(\"street\")}\n            }\n            ${projectProps.get(\"tenantInformation\")} {\n              ${tenantProps.get(\"id\")}\n              ${tenantProps.get(\"tenantName\")}\n              ${tenantProps.get(\"projectId\")}\n            }\n          }\n        }\n      `,\n    variables: {\n      id: id,\n    },\n  };\n}\n\nexport function GET_LIGHT_PROJECTS(ids: string[]): GraphQueryPayload {\n  return {\n    query: Apollo_gql`\n        query Projects($ids: [UUID]!) {\n         projects(where: { id: { in: $ids } }, ${graphQlTake()}) {\n            items {\n              ${projectProps.get(\"id\")}\n              ${projectProps.get(\"name\")}\n            }\n          }\n        }\n      `,\n    variables: {\n      ids: ids,\n    },\n  };\n}\n\nexport function GET_PROJECTS(where: string, props: string): GraphQueryPayload {\n  return {\n    query: Apollo_gql`\n        query Projects {\n         projects(${where}, ${graphQlTake()}) {\n            items {\n              ${props}\n            }\n          }\n        }\n      `,\n    variables: {},\n  };\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { map } from \"rxjs\";\n\nimport {\n  GraphEndpoint,\n  HandleComplexRequest,\n  HandleSimpleRequest,\n  TaBaseService,\n} from \"@ta/server\";\n\nimport { Project, projectProps } from \"./dto/project\";\nimport {\n  GET_LIGHT_PROJECTS,\n  GET_MY_PROJECTS,\n  GET_PROJECTS,\n  GET_PROJECT_BY_ID,\n} from \"./queries\";\n\nconst graphEndpoint: GraphEndpoint = {\n  clientName: \"projectService\",\n  endpoint: \"project\",\n};\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TaProjectsService extends TaBaseService {\n  protected _graphEndpoint = graphEndpoint;\n  public projects = new HandleSimpleRequest<Project[]>();\n  public project = new HandleComplexRequest<Project>();\n\n  public projectByContact = new HandleComplexRequest<Project[]>();\n\n  constructor() {\n    super();\n    super.registerRoutes({ graphEndpoint: graphEndpoint });\n  }\n\n  public getProjectsLightInfo$(ids: string[]) {\n    return this._graphService\n      .fetchPagedQueryList<Project>(\n        GET_LIGHT_PROJECTS(ids),\n        \"projects\",\n        graphEndpoint.clientName\n      )\n      .pipe(map((data) => data.items ?? []));\n  }\n\n  public fetchProjectsByContact$(contactId: string) {\n    return this.projectByContact.fetch(\n      contactId,\n      this._graphService\n        .fetchPagedQueryList<Project>(\n          GET_PROJECTS(\n            `where: { contactId: { eq: \"${contactId}\" } }`,\n            `\n              ${projectProps.get(\"id\")}\n              ${projectProps.get(\"name\")}\n            `\n          ),\n          \"projects\",\n          graphEndpoint.clientName\n        )\n        .pipe(map((data) => data.items ?? []))\n    );\n  }\n\n  public fetchProjects$() {\n    return this.projects.fetch(\n      this._graphService\n        .fetchPagedQueryList<Project>(\n          GET_MY_PROJECTS(),\n          \"projects\",\n          graphEndpoint.clientName\n        )\n        .pipe(map((data) => data.items))\n    );\n  }\n\n  public fetchProject$(id: string) {\n    return this.project.fetch(\n      id,\n      this._graphService.fetchQuery<Project>(\n        GET_PROJECT_BY_ID(id),\n        \"projectById\",\n        graphEndpoint.clientName\n      )\n    );\n  }\n}\n","import { GraphSchema } from \"@ta/server\";\n\nexport interface DocumentDto {\n  createdDate?: string;\n  description: string;\n  id: string;\n  url: string;\n  size: number;\n}\n\nexport const documentProps = new GraphSchema<DocumentDto>([\n  \"id\",\n  \"url\",\n  \"description\",\n  \"createdDate\",\n  \"size\",\n]);\n","export enum FileType {\n  Unknown = 0,\n  PriceOfferVersion = 1,\n  SingleLineDiagram = 2,\n  GRDFolder = 3,\n  ExternalEmail = 4,\n  Invoice = 5,\n  PurchaseOrder = 6,\n  Checklist = 7,\n  SignedPriceOffer = 8,\n  ExitVoucher = 9,\n  Picture = 10,\n}\n","import { Apollo_gql, GraphQueryPayload, graphQlTake } from \"@ta/server\";\n\nimport { documentProps } from \"./dto/document\";\n\nexport function GET_DOCUMENTS(filters: {\n  ids?: string[];\n  take?: number;\n}): GraphQueryPayload {\n  const where =\n    filters.ids && filters.ids.length > 0\n      ? `where: { id: { in: [${filters.ids\n          .map((id) => `\"${id}\"`)\n          .join(\", \")}] } }`\n      : \"\";\n  return {\n    query: Apollo_gql`\n        query Documents {\n          documents(${graphQlTake(\n            filters.take\n          )}, order: { isNew: DESC, uploadedDate: DESC }, ${where}) {\n            items {\n              ${documentProps.get(\"id\")}\n              ${documentProps.get(\"url\")}\n              ${documentProps.get(\"size\")}\n            }\n          }\n        }\n      `,\n    variables: {},\n  };\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { filter, map } from \"rxjs\";\n\nimport {\n  GraphEndpoint,\n  HandleSimpleRequest,\n  MappingApiType,\n  Request,\n  TaBaseService,\n} from \"@ta/server\";\nimport { isNonNullable, keepUniqueObjectByProperty } from \"@ta/utils\";\n\nimport { DocumentDto } from \"./dto/document\";\nimport { UploadFilePayloadInput } from \"./dto/post/UploadFilePayloadInput\";\nimport { GET_DOCUMENTS } from \"./queries\";\n\nconst graphEndpoint: GraphEndpoint = {\n  clientName: \"documentService\",\n  endpoint: \"document\",\n};\n\nconst apiRoutes: MappingApiType = {\n  UploadDocument: {\n    type: \"FILES\",\n    url: \"{ApiUrl}/Media/upload\",\n  },\n};\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TaDocumentsService extends TaBaseService {\n  public documents = new HandleSimpleRequest<DocumentDto[]>();\n\n  constructor() {\n    super();\n    super.registerRoutes({\n      apiRoutes: apiRoutes,\n      graphEndpoint: graphEndpoint,\n    });\n  }\n\n  public getDocuments(ids: string[]) {\n    return this.documents.get()?.filter((doc) => ids.includes(doc.id));\n  }\n\n  public getDocuments$(ids: string[]) {\n    return this.documents\n      .get$()\n      .pipe(map((list) => list?.filter((doc) => ids.includes(doc.id))));\n  }\n  public fetchDocuments$(ids: string[]) {\n    return this.documents.fetch(\n      this._graphService\n        .fetchPagedQueryList<DocumentDto>(\n          GET_DOCUMENTS({ ids }),\n          \"documents\",\n          graphEndpoint.clientName\n        )\n        .pipe(\n          map((data) => data.items ?? []),\n          filter(isNonNullable),\n          map((list) => [...(list ?? []), ...(this.documents.get() ?? [])]),\n          map((list) => keepUniqueObjectByProperty(list, (item) => item.id))\n        )\n    );\n  }\n\n  public addDocument$(doc: UploadFilePayloadInput) {\n    const formData = new FormData();\n    formData.append(\"file\", doc.file, doc.file.name);\n\n    return this._serverService.request<DocumentDto>(\n      new Request({\n        type: \"UploadDocument\",\n        content: {\n          files: formData,\n        },\n      })\n    );\n  }\n}\n","/*\n * Public API Surface of services\n */\n\nexport * from './lib/services/common/public-api';\n\nexport * from './lib/services/menu/menu.service';\n\nexport * from './lib/services/projects/public-api';\n\nexport * from './lib/services/files/dto/post/UploadFilePayloadInput';\nexport * from './lib/services/files/dto/document';\nexport * from './lib/services/files/dto/file-type';\nexport * from './lib/services/files/documents.service';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["graphEndpoint"],"mappings":";;;;;;AAIA,MAAM,cAAc,GAAG,iBAAiB;MAI3B,mBAAmB,CAAA;AAK9B,IAAA,WAAA,GAAA;QAJO,IAAA,CAAA,YAAY,GAAG,IAAI,eAAe,CACvC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,GAAG,GAAG,IAAI,GAAG,KAAK,CAC5D;QAGC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC,WAAW,KACtC,YAAY,CAAC,OAAO,CAAC,cAAc,EAAE,WAAW,GAAG,GAAG,GAAG,GAAG,CAAC,CAC9D;IACH;+GATW,mBAAmB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAnB,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,mBAAmB,cAFlB,MAAM,EAAA,CAAA,CAAA;;4FAEP,mBAAmB,EAAA,UAAA,EAAA,CAAA;kBAH/B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;ACQM,MAAM,YAAY,GAAG,IAAI,WAAW,CAAU;IACnD,IAAI;IACJ,MAAM;IACN,QAAQ;IACR,gBAAgB;IAChB,mBAAmB;IACnB,mBAAmB;AACpB,CAAA;;ICtBW;AAAZ,CAAA,UAAY,aAAa,EAAA;AACvB,IAAA,aAAA,CAAA,aAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAW;AACX,IAAA,aAAA,CAAA,aAAA,CAAA,YAAA,CAAA,GAAA,CAAA,CAAA,GAAA,YAAc;AACd,IAAA,aAAA,CAAA,aAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAW;AACX,IAAA,aAAA,CAAA,aAAA,CAAA,MAAA,CAAA,GAAA,CAAA,CAAA,GAAA,MAAQ;AACR,IAAA,aAAA,CAAA,aAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAa;AACf,CAAC,EANW,aAAa,KAAb,aAAa,GAAA,EAAA,CAAA,CAAA;;ACUlB,MAAM,YAAY,GAAG,IAAI,WAAW,CAAU;IACnD,IAAI;IACJ,SAAS;IACT,MAAM;IACN,UAAU;IACV,QAAQ;AACT,CAAA,CAAC;;ACNK,MAAM,WAAW,GAAG,IAAI,WAAW,CAAS;IACjD,IAAI;IACJ,UAAU;IACV,YAAY;IACZ,YAAY;IACZ,WAAW;AACZ,CAAA,CAAC;;ACJI,SAAU,eAAe,CAAC,OAG/B,EAAA;AACC,IAAA,MAAM,KAAK,GACT,OAAO,EAAE,UAAU,IAAI,OAAO,CAAC,UAAU,CAAC,MAAM,GAAG;AACjD,UAAE,CAAA,wBAAA,EAA2B,OAAO,CAAC,UAAU,CAAA,KAAA;UAC7C,EAAE;IACR,OAAO;QACL,KAAK,EAAE,UAAU,CAAA;;AAEA,mBAAA,EAAA,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,KAAK,CAAA;;AAEzC,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;AACtB,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC;AACxB,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC;AAC1B,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,mBAAmB,CAAC;AACrC,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAA;AAChC,gBAAA,EAAA,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC;AACxB,gBAAA,EAAA,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC;AAC5B,gBAAA,EAAA,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC;;AAE5B,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAA;AACnC,gBAAA,EAAA,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC;AACrB,gBAAA,EAAA,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC;AAC7B,gBAAA,EAAA,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC;;;cAGhC,OAAO,EAAE,IAAI,GAAG,uBAAuB,EAAE,GAAG,EAAE;;;AAGrD,MAAA,CAAA;AACH,QAAA,SAAS,EAAE,EAAE;KACd;AACH;AACM,SAAU,iBAAiB,CAAC,EAAU,EAAA;IAC1C,OAAO;QACL,KAAK,EAAE,UAAU,CAAA;;;AAGP,YAAA,EAAA,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;AACtB,YAAA,EAAA,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC;AACxB,YAAA,EAAA,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC;AAC1B,YAAA,EAAA,YAAY,CAAC,GAAG,CAAC,mBAAmB,CAAC;AACrC,YAAA,EAAA,YAAY,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAA;AAChC,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC;AACxB,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,UAAU,CAAC;AAC5B,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,QAAQ,CAAC;;AAE5B,YAAA,EAAA,YAAY,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAA;AACnC,cAAA,EAAA,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC;AACrB,cAAA,EAAA,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC;AAC7B,cAAA,EAAA,WAAW,CAAC,GAAG,CAAC,WAAW,CAAC;;;;AAIrC,MAAA,CAAA;AACH,QAAA,SAAS,EAAE;AACT,YAAA,EAAE,EAAE,EAAE;AACP,SAAA;KACF;AACH;AAEM,SAAU,kBAAkB,CAAC,GAAa,EAAA;IAC9C,OAAO;QACL,KAAK,EAAE,UAAU,CAAA;;AAE4B,+CAAA,EAAA,WAAW,EAAE,CAAA;;AAE9C,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;AACtB,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC;;;;AAIjC,MAAA,CAAA;AACH,QAAA,SAAS,EAAE;AACT,YAAA,GAAG,EAAE,GAAG;AACT,SAAA;KACF;AACH;AAEM,SAAU,YAAY,CAAC,KAAa,EAAE,KAAa,EAAA;IACvD,OAAO;QACL,KAAK,EAAE,UAAU,CAAA;;oBAED,KAAK,CAAA,EAAA,EAAK,WAAW,EAAE,CAAA;;gBAE3B,KAAK;;;;AAId,MAAA,CAAA;AACH,QAAA,SAAS,EAAE,EAAE;KACd;AACH;;ACvFA,MAAMA,eAAa,GAAkB;AACnC,IAAA,UAAU,EAAE,gBAAgB;AAC5B,IAAA,QAAQ,EAAE,SAAS;CACpB;AAKK,MAAO,iBAAkB,SAAQ,aAAa,CAAA;AAOlD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;QAPC,IAAA,CAAA,cAAc,GAAGA,eAAa;AACjC,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,mBAAmB,EAAa;AAC/C,QAAA,IAAA,CAAA,OAAO,GAAG,IAAI,oBAAoB,EAAW;AAE7C,QAAA,IAAA,CAAA,gBAAgB,GAAG,IAAI,oBAAoB,EAAa;QAI7D,KAAK,CAAC,cAAc,CAAC,EAAE,aAAa,EAAEA,eAAa,EAAE,CAAC;IACxD;AAEO,IAAA,qBAAqB,CAAC,GAAa,EAAA;QACxC,OAAO,IAAI,CAAC;aACT,mBAAmB,CAClB,kBAAkB,CAAC,GAAG,CAAC,EACvB,UAAU,EACVA,eAAa,CAAC,UAAU;AAEzB,aAAA,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC;IAC1C;AAEO,IAAA,uBAAuB,CAAC,SAAiB,EAAA;QAC9C,OAAO,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAChC,SAAS,EACT,IAAI,CAAC;AACF,aAAA,mBAAmB,CAClB,YAAY,CACV,CAAA,2BAAA,EAA8B,SAAS,OAAO,EAC9C;AACI,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC;AACtB,cAAA,EAAA,YAAY,CAAC,GAAG,CAAC,MAAM,CAAC;AAC3B,YAAA,CAAA,CACF,EACD,UAAU,EACVA,eAAa,CAAC,UAAU;AAEzB,aAAA,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,CACzC;IACH;IAEO,cAAc,GAAA;QACnB,OAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CACxB,IAAI,CAAC;aACF,mBAAmB,CAClB,eAAe,EAAE,EACjB,UAAU,EACVA,eAAa,CAAC,UAAU;AAEzB,aAAA,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CACnC;IACH;AAEO,IAAA,aAAa,CAAC,EAAU,EAAA;QAC7B,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CACvB,EAAE,EACF,IAAI,CAAC,aAAa,CAAC,UAAU,CAC3B,iBAAiB,CAAC,EAAE,CAAC,EACrB,aAAa,EACbA,eAAa,CAAC,UAAU,CACzB,CACF;IACH;+GA9DW,iBAAiB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAjB,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,iBAAiB,cAFhB,MAAM,EAAA,CAAA,CAAA;;4FAEP,iBAAiB,EAAA,UAAA,EAAA,CAAA;kBAH7B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;AChBM,MAAM,aAAa,GAAG,IAAI,WAAW,CAAc;IACxD,IAAI;IACJ,KAAK;IACL,aAAa;IACb,aAAa;IACb,MAAM;AACP,CAAA;;IChBW;AAAZ,CAAA,UAAY,QAAQ,EAAA;AAClB,IAAA,QAAA,CAAA,QAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAW;AACX,IAAA,QAAA,CAAA,QAAA,CAAA,mBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,mBAAqB;AACrB,IAAA,QAAA,CAAA,QAAA,CAAA,mBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,mBAAqB;AACrB,IAAA,QAAA,CAAA,QAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAa;AACb,IAAA,QAAA,CAAA,QAAA,CAAA,eAAA,CAAA,GAAA,CAAA,CAAA,GAAA,eAAiB;AACjB,IAAA,QAAA,CAAA,QAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,GAAA,SAAW;AACX,IAAA,QAAA,CAAA,QAAA,CAAA,eAAA,CAAA,GAAA,CAAA,CAAA,GAAA,eAAiB;AACjB,IAAA,QAAA,CAAA,QAAA,CAAA,WAAA,CAAA,GAAA,CAAA,CAAA,GAAA,WAAa;AACb,IAAA,QAAA,CAAA,QAAA,CAAA,kBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,kBAAoB;AACpB,IAAA,QAAA,CAAA,QAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAAA,GAAA,aAAe;AACf,IAAA,QAAA,CAAA,QAAA,CAAA,SAAA,CAAA,GAAA,EAAA,CAAA,GAAA,SAAY;AACd,CAAC,EAZW,QAAQ,KAAR,QAAQ,GAAA,EAAA,CAAA,CAAA;;ACId,SAAU,aAAa,CAAC,OAG7B,EAAA;AACC,IAAA,MAAM,KAAK,GACT,OAAO,CAAC,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG;AAClC,UAAE,CAAA,oBAAA,EAAuB,OAAO,CAAC;aAC5B,GAAG,CAAC,CAAC,EAAE,KAAK,CAAA,CAAA,EAAI,EAAE,CAAA,CAAA,CAAG;aACrB,IAAI,CAAC,IAAI,CAAC,CAAA,KAAA;UACb,EAAE;IACR,OAAO;QACL,KAAK,EAAE,UAAU,CAAA;;AAEC,oBAAA,EAAA,WAAW,CACrB,OAAO,CAAC,IAAI,CACb,iDAAiD,KAAK,CAAA;;AAEjD,cAAA,EAAA,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC;AACvB,cAAA,EAAA,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC;AACxB,cAAA,EAAA,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC;;;;AAIlC,MAAA,CAAA;AACH,QAAA,SAAS,EAAE,EAAE;KACd;AACH;;ACbA,MAAM,aAAa,GAAkB;AACnC,IAAA,UAAU,EAAE,iBAAiB;AAC7B,IAAA,QAAQ,EAAE,UAAU;CACrB;AAED,MAAM,SAAS,GAAmB;AAChC,IAAA,cAAc,EAAE;AACd,QAAA,IAAI,EAAE,OAAO;AACb,QAAA,GAAG,EAAE,uBAAuB;AAC7B,KAAA;CACF;AAKK,MAAO,kBAAmB,SAAQ,aAAa,CAAA;AAGnD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;AAHF,QAAA,IAAA,CAAA,SAAS,GAAG,IAAI,mBAAmB,EAAiB;QAIzD,KAAK,CAAC,cAAc,CAAC;AACnB,YAAA,SAAS,EAAE,SAAS;AACpB,YAAA,aAAa,EAAE,aAAa;AAC7B,SAAA,CAAC;IACJ;AAEO,IAAA,YAAY,CAAC,GAAa,EAAA;QAC/B,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACpE;AAEO,IAAA,aAAa,CAAC,GAAa,EAAA;QAChC,OAAO,IAAI,CAAC;AACT,aAAA,IAAI;AACJ,aAAA,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,EAAE,MAAM,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACrE;AACO,IAAA,eAAe,CAAC,GAAa,EAAA;QAClC,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,CACzB,IAAI,CAAC;AACF,aAAA,mBAAmB,CAClB,aAAa,CAAC,EAAE,GAAG,EAAE,CAAC,EACtB,WAAW,EACX,aAAa,CAAC,UAAU;AAEzB,aAAA,IAAI,CACH,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,EAC/B,MAAM,CAAC,aAAa,CAAC,EACrB,GAAG,CAAC,CAAC,IAAI,KAAK,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EACjE,GAAG,CAAC,CAAC,IAAI,KAAK,0BAA0B,CAAC,IAAI,EAAE,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC,CACnE,CACJ;IACH;AAEO,IAAA,YAAY,CAAC,GAA2B,EAAA;AAC7C,QAAA,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE;AAC/B,QAAA,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QAEhD,OAAO,IAAI,CAAC,cAAc,CAAC,OAAO,CAChC,IAAI,OAAO,CAAC;AACV,YAAA,IAAI,EAAE,gBAAgB;AACtB,YAAA,OAAO,EAAE;AACP,gBAAA,KAAK,EAAE,QAAQ;AAChB,aAAA;AACF,SAAA,CAAC,CACH;IACH;+GAjDW,kBAAkB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAlB,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,kBAAkB,cAFjB,MAAM,EAAA,CAAA,CAAA;;4FAEP,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAH9B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;AC/BD;;AAEG;;ACFH;;AAEG;;;;"}