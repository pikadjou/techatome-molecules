import { Apollo_gql, graphQlTake } from '@ta/server';
import { documentProps } from './dto/document';
export function GET_DOCUMENTS(filters) {
    const where = filters.ids && filters.ids.length > 0
        ? `where: { id: { in: [${filters.ids.map((id) => `"${id}"`).join(', ')}] } }`
        : '';
    return {
        query: Apollo_gql `
        query Documents {
          documents(${graphQlTake(filters.take)}, order: { isNew: DESC, uploadedDate: DESC }, ${where}) {
            items {
              ${documentProps.get('id')}
              ${documentProps.get('url')}
              ${documentProps.get('size')}
            }
          }
        }
      `,
        variables: {},
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlcmllcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvc2VydmljZXMvZmlsZXMvcXVlcmllcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFxQixXQUFXLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFeEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRS9DLE1BQU0sVUFBVSxhQUFhLENBQUMsT0FBMEM7SUFDdEUsTUFBTSxLQUFLLEdBQ1QsT0FBTyxDQUFDLEdBQUcsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDO1FBQ25DLENBQUMsQ0FBQyx1QkFBdUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU87UUFDN0UsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNULE9BQU87UUFDTCxLQUFLLEVBQUUsVUFBVSxDQUFBOztzQkFFQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxpREFBaUQsS0FBSzs7Z0JBRXJGLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO2dCQUN2QixhQUFhLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQztnQkFDeEIsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7Ozs7T0FJbEM7UUFDSCxTQUFTLEVBQUUsRUFBRTtLQUNkLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBvbGxvX2dxbCwgR3JhcGhRdWVyeVBheWxvYWQsIGdyYXBoUWxUYWtlIH0gZnJvbSAnQHRhL3NlcnZlcic7XG5cbmltcG9ydCB7IGRvY3VtZW50UHJvcHMgfSBmcm9tICcuL2R0by9kb2N1bWVudCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBHRVRfRE9DVU1FTlRTKGZpbHRlcnM6IHsgaWRzPzogc3RyaW5nW107IHRha2U/OiBudW1iZXIgfSk6IEdyYXBoUXVlcnlQYXlsb2FkIHtcbiAgY29uc3Qgd2hlcmUgPVxuICAgIGZpbHRlcnMuaWRzICYmIGZpbHRlcnMuaWRzLmxlbmd0aCA+IDBcbiAgICAgID8gYHdoZXJlOiB7IGlkOiB7IGluOiBbJHtmaWx0ZXJzLmlkcy5tYXAoKGlkKSA9PiBgXCIke2lkfVwiYCkuam9pbignLCAnKX1dIH0gfWBcbiAgICAgIDogJyc7XG4gIHJldHVybiB7XG4gICAgcXVlcnk6IEFwb2xsb19ncWxgXG4gICAgICAgIHF1ZXJ5IERvY3VtZW50cyB7XG4gICAgICAgICAgZG9jdW1lbnRzKCR7Z3JhcGhRbFRha2UoZmlsdGVycy50YWtlKX0sIG9yZGVyOiB7IGlzTmV3OiBERVNDLCB1cGxvYWRlZERhdGU6IERFU0MgfSwgJHt3aGVyZX0pIHtcbiAgICAgICAgICAgIGl0ZW1zIHtcbiAgICAgICAgICAgICAgJHtkb2N1bWVudFByb3BzLmdldCgnaWQnKX1cbiAgICAgICAgICAgICAgJHtkb2N1bWVudFByb3BzLmdldCgndXJsJyl9XG4gICAgICAgICAgICAgICR7ZG9jdW1lbnRQcm9wcy5nZXQoJ3NpemUnKX1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGAsXG4gICAgdmFyaWFibGVzOiB7fSxcbiAgfTtcbn1cbiJdfQ==