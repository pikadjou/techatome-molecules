import { Apollo_gql, graphQlTake } from "@ta/server";
import { documentProps } from "./dto/document";
export function GET_DOCUMENTS(filters) {
    const where = filters.ids && filters.ids.length > 0
        ? `where: { id: { in: [${filters.ids
            .map((id) => `"${id}"`)
            .join(", ")}] } }`
        : "";
    return {
        query: Apollo_gql `
        query Documents {
          documents(${graphQlTake(filters.take)}, order: { isNew: DESC, uploadedDate: DESC }, ${where}) {
            items {
              ${documentProps.get("id")}
              ${documentProps.get("url")}
              ${documentProps.get("size")}
            }
          }
        }
      `,
        variables: {},
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlcmllcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvc2VydmljZXMvZmlsZXMvcXVlcmllcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFxQixXQUFXLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFeEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRS9DLE1BQU0sVUFBVSxhQUFhLENBQUMsT0FHN0I7SUFDQyxNQUFNLEtBQUssR0FDVCxPQUFPLENBQUMsR0FBRyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUM7UUFDbkMsQ0FBQyxDQUFDLHVCQUF1QixPQUFPLENBQUMsR0FBRzthQUMvQixHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUM7YUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPO1FBQ3RCLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDVCxPQUFPO1FBQ0wsS0FBSyxFQUFFLFVBQVUsQ0FBQTs7c0JBRUMsV0FBVyxDQUNyQixPQUFPLENBQUMsSUFBSSxDQUNiLGlEQUFpRCxLQUFLOztnQkFFakQsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7Z0JBQ3ZCLGFBQWEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO2dCQUN4QixhQUFhLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQzs7OztPQUlsQztRQUNILFNBQVMsRUFBRSxFQUFFO0tBQ2QsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcG9sbG9fZ3FsLCBHcmFwaFF1ZXJ5UGF5bG9hZCwgZ3JhcGhRbFRha2UgfSBmcm9tIFwiQHRhL3NlcnZlclwiO1xuXG5pbXBvcnQgeyBkb2N1bWVudFByb3BzIH0gZnJvbSBcIi4vZHRvL2RvY3VtZW50XCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBHRVRfRE9DVU1FTlRTKGZpbHRlcnM6IHtcbiAgaWRzPzogc3RyaW5nW107XG4gIHRha2U/OiBudW1iZXI7XG59KTogR3JhcGhRdWVyeVBheWxvYWQge1xuICBjb25zdCB3aGVyZSA9XG4gICAgZmlsdGVycy5pZHMgJiYgZmlsdGVycy5pZHMubGVuZ3RoID4gMFxuICAgICAgPyBgd2hlcmU6IHsgaWQ6IHsgaW46IFske2ZpbHRlcnMuaWRzXG4gICAgICAgICAgLm1hcCgoaWQpID0+IGBcIiR7aWR9XCJgKVxuICAgICAgICAgIC5qb2luKFwiLCBcIil9XSB9IH1gXG4gICAgICA6IFwiXCI7XG4gIHJldHVybiB7XG4gICAgcXVlcnk6IEFwb2xsb19ncWxgXG4gICAgICAgIHF1ZXJ5IERvY3VtZW50cyB7XG4gICAgICAgICAgZG9jdW1lbnRzKCR7Z3JhcGhRbFRha2UoXG4gICAgICAgICAgICBmaWx0ZXJzLnRha2VcbiAgICAgICAgICApfSwgb3JkZXI6IHsgaXNOZXc6IERFU0MsIHVwbG9hZGVkRGF0ZTogREVTQyB9LCAke3doZXJlfSkge1xuICAgICAgICAgICAgaXRlbXMge1xuICAgICAgICAgICAgICAke2RvY3VtZW50UHJvcHMuZ2V0KFwiaWRcIil9XG4gICAgICAgICAgICAgICR7ZG9jdW1lbnRQcm9wcy5nZXQoXCJ1cmxcIil9XG4gICAgICAgICAgICAgICR7ZG9jdW1lbnRQcm9wcy5nZXQoXCJzaXplXCIpfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgYCxcbiAgICB2YXJpYWJsZXM6IHt9LFxuICB9O1xufVxuIl19