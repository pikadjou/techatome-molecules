import { Injectable } from '@angular/core';
import { filter, map, tap } from 'rxjs/operators';
import { BehaviorSubject } from 'rxjs';
import { Request, TaBaseService } from '@ta/server';
import { sortByTranslatedValue } from './translated-enumeration-helpers';
import * as i0 from "@angular/core";
const apiRoutes = {
    GetWontDoReasons: {
        type: 'GET',
        url: '{ApiUrl}/wontdoreason',
    },
    GetWorkerJustifications: {
        type: 'GET',
        url: '{ApiUrl}/workerjustifications',
    },
    GetIncidentTypes: {
        type: 'GET',
        url: '{ApiUrl}/incidenttypes',
    },
    GetAbandonReasons: {
        type: 'GET',
        url: '{ApiUrl}/abandonreasons',
    },
    GetFileTypes: {
        type: 'GET',
        url: '{ApiUrl}/FileTypes',
    },
};
export class TaEnumerationService extends TaBaseService {
    constructor() {
        super(apiRoutes);
        this.getAbandonReasons$ = new BehaviorSubject([]);
        this.wontDoReasons$ = new BehaviorSubject([]);
        this.incidentTypes$ = new BehaviorSubject([]);
        this.workerJustifications$ = new BehaviorSubject([]);
        this._getFileTypes$ = new BehaviorSubject({});
        this.getFileTypes = (id) => (fileTypeId) => {
            return this._getFileTypes$.getValue()[id].find(document => document.id === fileTypeId);
        };
        this.getFileTypes$ = (id) => this._getFileTypes$.pipe(map(data => data[id]), filter(myData => !!myData), map(fileTypes => sortByTranslatedValue(fileTypes)));
    }
    fetchWontDoReasons$() {
        return this._serverService
            .request(new Request({ type: 'GetWontDoReasons', content: {}, cacheTime: 60 }))
            .pipe(filter(data => !!data), tap(data => {
            this.wontDoReasons$.next(data);
        }));
    }
    fetchWorkerJustifications$() {
        return this._serverService
            .request(new Request({
            type: 'GetWorkerJustifications',
            content: {},
            cacheTime: 60,
        }))
            .pipe(filter(data => !!data), tap(data => {
            this.workerJustifications$.next(data);
        }));
    }
    fetchIncidentTypes$() {
        return this._serverService
            .request(new Request({ type: 'GetIncidentTypes', content: {}, cacheTime: 60 }))
            .pipe(filter(data => !!data), tap(data => {
            this.incidentTypes$.next(data);
        }));
    }
    fetchAbandonReasons() {
        return this._serverService
            .request(new Request({ type: 'GetAbandonReasons', cacheTime: -1 }))
            .pipe(filter(myData => !!myData), map(reasons => sortByTranslatedValue(reasons)), tap(reasons => this.getAbandonReasons$.next(reasons)));
    }
    fetchFileTypes() {
        return this._serverService
            .request(new Request({ type: 'GetFileTypes', cacheTime: -1 }))
            .pipe(filter(myData => !!myData), map(fileTypes => sortByTranslatedValue(fileTypes)));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: TaEnumerationService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: TaEnumerationService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: TaEnumerationService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root',
                }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW51bWVyYXRpb24uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvc2VydmljZXMvdHJhbnNsYXRlZC1lbnVtZXJhdGlvbi9lbnVtZXJhdGlvbi5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFbEQsT0FBTyxFQUFFLGVBQWUsRUFBYyxNQUFNLE1BQU0sQ0FBQztBQUVuRCxPQUFPLEVBQWtCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFHcEUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7O0FBRXpFLE1BQU0sU0FBUyxHQUFtQjtJQUNoQyxnQkFBZ0IsRUFBRTtRQUNoQixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSx1QkFBdUI7S0FDN0I7SUFDRCx1QkFBdUIsRUFBRTtRQUN2QixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSwrQkFBK0I7S0FDckM7SUFDRCxnQkFBZ0IsRUFBRTtRQUNoQixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSx3QkFBd0I7S0FDOUI7SUFDRCxpQkFBaUIsRUFBRTtRQUNqQixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSx5QkFBeUI7S0FDL0I7SUFDRCxZQUFZLEVBQUU7UUFDWixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSxvQkFBb0I7S0FDMUI7Q0FDRixDQUFDO0FBS0YsTUFBTSxPQUFPLG9CQUFxQixTQUFRLGFBQWE7SUFVckQ7UUFDRSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFWWix1QkFBa0IsR0FBRyxJQUFJLGVBQWUsQ0FBMEIsRUFBRSxDQUFDLENBQUM7UUFDdEUs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LE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFDMUIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUMsRUFDOUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUN0RCxDQUFDO0lBQ04sQ0FBQztJQWFNLGNBQWM7UUFDbkIsT0FBTyxJQUFJLENBQUMsY0FBYzthQUN2QixPQUFPLENBQTBCLElBQUksT0FBTyxDQUFDLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2FBQ3RGLElBQUksQ0FDSCxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQzFCLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQ25ELENBQUM7SUFDTixDQUFDOytHQWhGVSxvQkFBb0I7bUhBQXBCLG9CQUFvQixjQUZuQixNQUFNOzs0RkFFUCxvQkFBb0I7a0JBSGhDLFVBQVU7bUJBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBmaWx0ZXIsIG1hcCwgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuaW1wb3J0IHsgTWFwcGluZ0FwaVR5cGUsIFJlcXVlc3QsIFRhQmFzZVNlcnZpY2UgfSBmcm9tICdAdGEvc2VydmVyJztcblxuaW1wb3J0IHsgVHJhbnNsYXRlZEVudW1lcmF0aW9uIH0gZnJvbSAnLi4vY29tbW9uL2R0by90cmFuc2xhdGVkLWVudW1lcmF0aW9uJztcbmltcG9ydCB7IHNvcnRCeVRyYW5zbGF0ZWRWYWx1ZSB9IGZyb20gJy4vdHJhbnNsYXRlZC1lbnVtZXJhdGlvbi1oZWxwZXJzJztcblxuY29uc3QgYXBpUm91dGVzOiBNYXBwaW5nQXBpVHlwZSA9IHtcbiAgR2V0V29udERvUmVhc29uczoge1xuICAgIHR5cGU6ICdHRVQnLFxuICAgIHVybDogJ3tBcGlVcmx9L3dvbnRkb3JlYXNvbicsXG4gIH0sXG4gIEdldFdvcmtlckp1c3RpZmljYXRpb25zOiB7XG4gICAgdHlwZTogJ0dFVCcsXG4gICAgdXJsOiAne0FwaVVybH0vd29ya2VyanVzdGlmaWNhdGlvbnMnLFxuICB9LFxuICBHZXRJbmNpZGVudFR5cGVzOiB7XG4gICAgdHlwZTogJ0dFVCcsXG4gICAgdXJsOiAne0FwaVVybH0vaW5jaWRlbnR0eXBlcycsXG4gIH0sXG4gIEdldEFiYW5kb25SZWFzb25zOiB7XG4gICAgdHlwZTogJ0dFVCcsXG4gICAgdXJsOiAne0FwaVVybH0vYWJhbmRvbnJlYXNvbnMnLFxuICB9LFxuICBHZXRGaWxlVHlwZXM6IHtcbiAgICB0eXBlOiAnR0VUJyxcbiAgICB1cmw6ICd7QXBpVXJsfS9GaWxlVHlwZXMnLFxuICB9LFxufTtcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCcsXG59KVxuZXhwb3J0IGNsYXNzIFRhRW51bWVyYXRpb25TZXJ2aWNlIGV4dGVuZHMgVGFCYXNlU2VydmljZSB7XG4gIHB1YmxpYyBnZXRBYmFuZG9uUmVhc29ucyQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPihbXSk7XG4gIHB1YmxpYyB3b250RG9SZWFzb25zJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VHJhbnNsYXRlZEVudW1lcmF0aW9uW10+KFtdKTtcbiAgcHVibGljIGluY2lkZW50VHlwZXMkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4oW10pO1xuICBwdWJsaWMgd29ya2VySnVzdGlmaWNhdGlvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4oW10pO1xuXG4gIHByaXZhdGUgX2dldEZpbGVUeXBlcyQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHtcbiAgICBbaW5kZXg6IHN0cmluZ106IFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdO1xuICB9Pih7fSk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoYXBpUm91dGVzKTtcbiAgfVxuXG4gIHB1YmxpYyBmZXRjaFdvbnREb1JlYXNvbnMkKCk6IE9ic2VydmFibGU8VHJhbnNsYXRlZEVudW1lcmF0aW9uW10+IHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyU2VydmljZVxuICAgICAgLnJlcXVlc3Q8VHJhbnNsYXRlZEVudW1lcmF0aW9uW10+KG5ldyBSZXF1ZXN0KHsgdHlwZTogJ0dldFdvbnREb1JlYXNvbnMnLCBjb250ZW50OiB7fSwgY2FjaGVUaW1lOiA2MCB9KSlcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoZGF0YSA9PiAhIWRhdGEpLFxuICAgICAgICB0YXAoZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy53b250RG9SZWFzb25zJC5uZXh0KGRhdGEpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBmZXRjaFdvcmtlckp1c3RpZmljYXRpb25zJCgpOiBPYnNlcnZhYmxlPFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclNlcnZpY2VcbiAgICAgIC5yZXF1ZXN0PFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPihcbiAgICAgICAgbmV3IFJlcXVlc3Qoe1xuICAgICAgICAgIHR5cGU6ICdHZXRXb3JrZXJKdXN0aWZpY2F0aW9ucycsXG4gICAgICAgICAgY29udGVudDoge30sXG4gICAgICAgICAgY2FjaGVUaW1lOiA2MCxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoZGF0YSA9PiAhIWRhdGEpLFxuICAgICAgICB0YXAoZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy53b3JrZXJKdXN0aWZpY2F0aW9ucyQubmV4dChkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmV0Y2hJbmNpZGVudFR5cGVzJCgpOiBPYnNlcnZhYmxlPFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclNlcnZpY2VcbiAgICAgIC5yZXF1ZXN0PFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPihuZXcgUmVxdWVzdCh7IHR5cGU6ICdHZXRJbmNpZGVudFR5cGVzJywgY29udGVudDoge30sIGNhY2hlVGltZTogNjAgfSkpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKGRhdGEgPT4gISFkYXRhKSxcbiAgICAgICAgdGFwKGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMuaW5jaWRlbnRUeXBlcyQubmV4dChkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gIH1cbiAgcHVibGljIGZldGNoQWJhbmRvblJlYXNvbnMoKTogT2JzZXJ2YWJsZTxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4ge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJTZXJ2aWNlXG4gICAgICAucmVxdWVzdDxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4obmV3IFJlcXVlc3QoeyB0eXBlOiAnR2V0QWJhbmRvblJlYXNvbnMnLCBjYWNoZVRpbWU6IC0xIH0pKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcihteURhdGEgPT4gISFteURhdGEpLFxuICAgICAgICBtYXAocmVhc29ucyA9PiBzb3J0QnlUcmFuc2xhdGVkVmFsdWUocmVhc29ucykpLFxuICAgICAgICB0YXAocmVhc29ucyA9PiB0aGlzLmdldEFiYW5kb25SZWFzb25zJC5uZXh0KHJlYXNvbnMpKVxuICAgICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRGaWxlVHlwZXMgPSAoaWQ6IG51bWJlcikgPT4gKGZpbGVUeXBlSWQ6IG51bWJlcikgPT4ge1xuICAgIHJldHVybiB0aGlzLl9nZXRGaWxlVHlwZXMkLmdldFZhbHVlKClbaWRdLmZpbmQoZG9jdW1lbnQgPT4gZG9jdW1lbnQuaWQgPT09IGZpbGVUeXBlSWQpO1xuICB9O1xuXG4gIHB1YmxpYyBnZXRGaWxlVHlwZXMkID0gKGlkOiBudW1iZXIpOiBPYnNlcnZhYmxlPFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPiA9PlxuICAgIHRoaXMuX2dldEZpbGVUeXBlcyQucGlwZShcbiAgICAgIG1hcChkYXRhID0+IGRhdGFbaWRdKSxcbiAgICAgIGZpbHRlcihteURhdGEgPT4gISFteURhdGEpLFxuICAgICAgbWFwKGZpbGVUeXBlcyA9PiBzb3J0QnlUcmFuc2xhdGVkVmFsdWUoZmlsZVR5cGVzKSlcbiAgICApO1xuXG4gIHB1YmxpYyBmZXRjaEZpbGVUeXBlcygpOiBPYnNlcnZhYmxlPFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclNlcnZpY2VcbiAgICAgIC5yZXF1ZXN0PFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPihuZXcgUmVxdWVzdCh7IHR5cGU6ICdHZXRGaWxlVHlwZXMnLCBjYWNoZVRpbWU6IC0xIH0pKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcihteURhdGEgPT4gISFteURhdGEpLFxuICAgICAgICBtYXAoZmlsZVR5cGVzID0+IHNvcnRCeVRyYW5zbGF0ZWRWYWx1ZShmaWxlVHlwZXMpKVxuICAgICAgKTtcbiAgfVxufVxuIl19