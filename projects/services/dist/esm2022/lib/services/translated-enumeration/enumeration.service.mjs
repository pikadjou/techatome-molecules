import { Injectable } from '@angular/core';
import { filter, map, tap } from 'rxjs/operators';
import { CamBaseService, Request } from '@ta/server';
import { BehaviorSubject } from 'rxjs';
import { sortByTranslatedValue } from './translated-enumeration-helpers';
import * as i0 from "@angular/core";
const apiRoutes = {
    GetWontDoReasons: {
        type: 'GET',
        url: '{ApiUrl}/wontdoreason',
    },
    GetWorkerJustifications: {
        type: 'GET',
        url: '{ApiUrl}/workerjustifications',
    },
    GetIncidentTypes: {
        type: 'GET',
        url: '{ApiUrl}/incidenttypes',
    },
    GetAbandonReasons: {
        type: 'GET',
        url: '{ApiUrl}/abandonreasons',
    },
    GetFileTypes: {
        type: 'GET',
        url: '{ApiUrl}/FileTypes',
    },
};
export class CamEnumerationService extends CamBaseService {
    constructor() {
        super(apiRoutes);
        this.getAbandonReasons$ = new BehaviorSubject([]);
        this.wontDoReasons$ = new BehaviorSubject([]);
        this.incidentTypes$ = new BehaviorSubject([]);
        this.workerJustifications$ = new BehaviorSubject([]);
        this._getFileTypes$ = new BehaviorSubject({});
        this.getFileTypes = (id) => (fileTypeId) => {
            return this._getFileTypes$.getValue()[id].find(document => document.id === fileTypeId);
        };
        this.getFileTypes$ = (id) => this._getFileTypes$.pipe(map(data => data[id]), filter(myData => !!myData), map(fileTypes => sortByTranslatedValue(fileTypes)));
    }
    fetchWontDoReasons$() {
        return this._serverService
            .request(new Request({ type: 'GetWontDoReasons', content: {}, cacheTime: 60 }))
            .pipe(filter(data => !!data), tap(data => {
            this.wontDoReasons$.next(data);
        }));
    }
    fetchWorkerJustifications$() {
        return this._serverService
            .request(new Request({
            type: 'GetWorkerJustifications',
            content: {},
            cacheTime: 60,
        }))
            .pipe(filter(data => !!data), tap(data => {
            this.workerJustifications$.next(data);
        }));
    }
    fetchIncidentTypes$() {
        return this._serverService
            .request(new Request({ type: 'GetIncidentTypes', content: {}, cacheTime: 60 }))
            .pipe(filter(data => !!data), tap(data => {
            this.incidentTypes$.next(data);
        }));
    }
    fetchAbandonReasons() {
        return this._serverService
            .request(new Request({ type: 'GetAbandonReasons', cacheTime: -1 }))
            .pipe(filter(myData => !!myData), map(reasons => sortByTranslatedValue(reasons)), tap(reasons => this.getAbandonReasons$.next(reasons)));
    }
    fetchFileTypes() {
        return this._serverService
            .request(new Request({ type: 'GetFileTypes', cacheTime: -1 }))
            .pipe(filter(myData => !!myData), map(fileTypes => sortByTranslatedValue(fileTypes)));
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: CamEnumerationService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: CamEnumerationService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: CamEnumerationService, decorators: [{
            type: Injectable,
            args: [{
                    providedIn: 'root',
                }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW51bWVyYXRpb24uc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9saWIvc2VydmljZXMvdHJhbnNsYXRlZC1lbnVtZXJhdGlvbi9lbnVtZXJhdGlvbi5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFM0MsT0FBTyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFbEQsT0FBTyxFQUFFLGNBQWMsRUFBa0IsT0FBTyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxlQUFlLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFHbkQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7O0FBRXpFLE1BQU0sU0FBUyxHQUFtQjtJQUNoQyxnQkFBZ0IsRUFBRTtRQUNoQixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSx1QkFBdUI7S0FDN0I7SUFDRCx1QkFBdUIsRUFBRTtRQUN2QixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSwrQkFBK0I7S0FDckM7SUFDRCxnQkFBZ0IsRUFBRTtRQUNoQixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSx3QkFBd0I7S0FDOUI7SUFDRCxpQkFBaUIsRUFBRTtRQUNqQixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSx5QkFBeUI7S0FDL0I7SUFDRCxZQUFZLEVBQUU7UUFDWixJQUFJLEVBQUUsS0FBSztRQUNYLEdBQUcsRUFBRSxvQkFBb0I7S0FDMUI7Q0FDRixDQUFDO0FBS0YsTUFBTSxPQUFPLHFCQUFzQixTQUFRLGNBQWM7SUFVdkQ7UUFDRSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFWWix1QkFBa0IsR0FBRyxJQUFJLGVBQWUsQ0FBMEIsRUFBRSxDQUFDLENBQUM7UUFDdEUs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LE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFDMUIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUMsRUFDOUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUN0RCxDQUFDO0lBQ04sQ0FBQztJQWFNLGNBQWM7UUFDbkIsT0FBTyxJQUFJLENBQUMsY0FBYzthQUN2QixPQUFPLENBQTBCLElBQUksT0FBTyxDQUFDLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2FBQ3RGLElBQUksQ0FDSCxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQzFCLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLHFCQUFxQixDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQ25ELENBQUM7SUFDTixDQUFDOytHQWhGVSxxQkFBcUI7bUhBQXJCLHFCQUFxQixjQUZwQixNQUFNOzs0RkFFUCxxQkFBcUI7a0JBSGpDLFVBQVU7bUJBQUM7b0JBQ1YsVUFBVSxFQUFFLE1BQU07aUJBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBmaWx0ZXIsIG1hcCwgdGFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBDYW1CYXNlU2VydmljZSwgTWFwcGluZ0FwaVR5cGUsIFJlcXVlc3QgfSBmcm9tICdAdGEvc2VydmVyJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBUcmFuc2xhdGVkRW51bWVyYXRpb24gfSBmcm9tICcuLi9jb21tb24vZHRvL3RyYW5zbGF0ZWQtZW51bWVyYXRpb24nO1xuaW1wb3J0IHsgc29ydEJ5VHJhbnNsYXRlZFZhbHVlIH0gZnJvbSAnLi90cmFuc2xhdGVkLWVudW1lcmF0aW9uLWhlbHBlcnMnO1xuXG5jb25zdCBhcGlSb3V0ZXM6IE1hcHBpbmdBcGlUeXBlID0ge1xuICBHZXRXb250RG9SZWFzb25zOiB7XG4gICAgdHlwZTogJ0dFVCcsXG4gICAgdXJsOiAne0FwaVVybH0vd29udGRvcmVhc29uJyxcbiAgfSxcbiAgR2V0V29ya2VySnVzdGlmaWNhdGlvbnM6IHtcbiAgICB0eXBlOiAnR0VUJyxcbiAgICB1cmw6ICd7QXBpVXJsfS93b3JrZXJqdXN0aWZpY2F0aW9ucycsXG4gIH0sXG4gIEdldEluY2lkZW50VHlwZXM6IHtcbiAgICB0eXBlOiAnR0VUJyxcbiAgICB1cmw6ICd7QXBpVXJsfS9pbmNpZGVudHR5cGVzJyxcbiAgfSxcbiAgR2V0QWJhbmRvblJlYXNvbnM6IHtcbiAgICB0eXBlOiAnR0VUJyxcbiAgICB1cmw6ICd7QXBpVXJsfS9hYmFuZG9ucmVhc29ucycsXG4gIH0sXG4gIEdldEZpbGVUeXBlczoge1xuICAgIHR5cGU6ICdHRVQnLFxuICAgIHVybDogJ3tBcGlVcmx9L0ZpbGVUeXBlcycsXG4gIH0sXG59O1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290Jyxcbn0pXG5leHBvcnQgY2xhc3MgQ2FtRW51bWVyYXRpb25TZXJ2aWNlIGV4dGVuZHMgQ2FtQmFzZVNlcnZpY2Uge1xuICBwdWJsaWMgZ2V0QWJhbmRvblJlYXNvbnMkID0gbmV3IEJlaGF2aW9yU3ViamVjdDxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4oW10pO1xuICBwdWJsaWMgd29udERvUmVhc29ucyQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPihbXSk7XG4gIHB1YmxpYyBpbmNpZGVudFR5cGVzJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VHJhbnNsYXRlZEVudW1lcmF0aW9uW10+KFtdKTtcbiAgcHVibGljIHdvcmtlckp1c3RpZmljYXRpb25zJCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VHJhbnNsYXRlZEVudW1lcmF0aW9uW10+KFtdKTtcblxuICBwcml2YXRlIF9nZXRGaWxlVHlwZXMkID0gbmV3IEJlaGF2aW9yU3ViamVjdDx7XG4gICAgW2luZGV4OiBzdHJpbmddOiBUcmFuc2xhdGVkRW51bWVyYXRpb25bXTtcbiAgfT4oe30pO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKGFwaVJvdXRlcyk7XG4gIH1cblxuICBwdWJsaWMgZmV0Y2hXb250RG9SZWFzb25zJCgpOiBPYnNlcnZhYmxlPFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclNlcnZpY2VcbiAgICAgIC5yZXF1ZXN0PFRyYW5zbGF0ZWRFbnVtZXJhdGlvbltdPihuZXcgUmVxdWVzdCh7IHR5cGU6ICdHZXRXb250RG9SZWFzb25zJywgY29udGVudDoge30sIGNhY2hlVGltZTogNjAgfSkpXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKGRhdGEgPT4gISFkYXRhKSxcbiAgICAgICAgdGFwKGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMud29udERvUmVhc29ucyQubmV4dChkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZmV0Y2hXb3JrZXJKdXN0aWZpY2F0aW9ucyQoKTogT2JzZXJ2YWJsZTxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4ge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJTZXJ2aWNlXG4gICAgICAucmVxdWVzdDxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4oXG4gICAgICAgIG5ldyBSZXF1ZXN0KHtcbiAgICAgICAgICB0eXBlOiAnR2V0V29ya2VySnVzdGlmaWNhdGlvbnMnLFxuICAgICAgICAgIGNvbnRlbnQ6IHt9LFxuICAgICAgICAgIGNhY2hlVGltZTogNjAsXG4gICAgICAgIH0pXG4gICAgICApXG4gICAgICAucGlwZShcbiAgICAgICAgZmlsdGVyKGRhdGEgPT4gISFkYXRhKSxcbiAgICAgICAgdGFwKGRhdGEgPT4ge1xuICAgICAgICAgIHRoaXMud29ya2VySnVzdGlmaWNhdGlvbnMkLm5leHQoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICB9XG5cbiAgcHVibGljIGZldGNoSW5jaWRlbnRUeXBlcyQoKTogT2JzZXJ2YWJsZTxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4ge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJTZXJ2aWNlXG4gICAgICAucmVxdWVzdDxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4obmV3IFJlcXVlc3QoeyB0eXBlOiAnR2V0SW5jaWRlbnRUeXBlcycsIGNvbnRlbnQ6IHt9LCBjYWNoZVRpbWU6IDYwIH0pKVxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpbHRlcihkYXRhID0+ICEhZGF0YSksXG4gICAgICAgIHRhcChkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLmluY2lkZW50VHlwZXMkLm5leHQoZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICB9XG4gIHB1YmxpYyBmZXRjaEFiYW5kb25SZWFzb25zKCk6IE9ic2VydmFibGU8VHJhbnNsYXRlZEVudW1lcmF0aW9uW10+IHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyU2VydmljZVxuICAgICAgLnJlcXVlc3Q8VHJhbnNsYXRlZEVudW1lcmF0aW9uW10+KG5ldyBSZXF1ZXN0KHsgdHlwZTogJ0dldEFiYW5kb25SZWFzb25zJywgY2FjaGVUaW1lOiAtMSB9KSlcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIobXlEYXRhID0+ICEhbXlEYXRhKSxcbiAgICAgICAgbWFwKHJlYXNvbnMgPT4gc29ydEJ5VHJhbnNsYXRlZFZhbHVlKHJlYXNvbnMpKSxcbiAgICAgICAgdGFwKHJlYXNvbnMgPT4gdGhpcy5nZXRBYmFuZG9uUmVhc29ucyQubmV4dChyZWFzb25zKSlcbiAgICAgICk7XG4gIH1cblxuICBwdWJsaWMgZ2V0RmlsZVR5cGVzID0gKGlkOiBudW1iZXIpID0+IChmaWxlVHlwZUlkOiBudW1iZXIpID0+IHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0RmlsZVR5cGVzJC5nZXRWYWx1ZSgpW2lkXS5maW5kKGRvY3VtZW50ID0+IGRvY3VtZW50LmlkID09PSBmaWxlVHlwZUlkKTtcbiAgfTtcblxuICBwdWJsaWMgZ2V0RmlsZVR5cGVzJCA9IChpZDogbnVtYmVyKTogT2JzZXJ2YWJsZTxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4gPT5cbiAgICB0aGlzLl9nZXRGaWxlVHlwZXMkLnBpcGUoXG4gICAgICBtYXAoZGF0YSA9PiBkYXRhW2lkXSksXG4gICAgICBmaWx0ZXIobXlEYXRhID0+ICEhbXlEYXRhKSxcbiAgICAgIG1hcChmaWxlVHlwZXMgPT4gc29ydEJ5VHJhbnNsYXRlZFZhbHVlKGZpbGVUeXBlcykpXG4gICAgKTtcblxuICBwdWJsaWMgZmV0Y2hGaWxlVHlwZXMoKTogT2JzZXJ2YWJsZTxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4ge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJTZXJ2aWNlXG4gICAgICAucmVxdWVzdDxUcmFuc2xhdGVkRW51bWVyYXRpb25bXT4obmV3IFJlcXVlc3QoeyB0eXBlOiAnR2V0RmlsZVR5cGVzJywgY2FjaGVUaW1lOiAtMSB9KSlcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIobXlEYXRhID0+ICEhbXlEYXRhKSxcbiAgICAgICAgbWFwKGZpbGVUeXBlcyA9PiBzb3J0QnlUcmFuc2xhdGVkVmFsdWUoZmlsZVR5cGVzKSlcbiAgICAgICk7XG4gIH1cbn1cbiJdfQ==