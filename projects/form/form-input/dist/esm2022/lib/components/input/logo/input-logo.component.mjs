import { Component, inject } from '@angular/core';
import { FontIconComponent } from '@ta/icons';
import { TaDocumentsService } from '@ta/services';
import { TranslatePipe } from '@ta/translation';
import { ButtonComponent } from '@ta/ui';
import { pickImages } from '@ta/utils';
import { TaAbstractInputComponent } from '../../abstract.component';
import { FormLabelComponent } from '../../label/label.component';
import * as i0 from "@angular/core";
export class InputLogoComponent extends TaAbstractInputComponent {
    constructor() {
        super();
        this._documentsService = inject(TaDocumentsService);
    }
    async openDialog() {
        const images = await pickImages();
        const logoFile = images.length > 0 ? images[0].file : null;
        if (logoFile) {
            this._documentsService.addDocument$({ file: logoFile, description: 'logo' }).subscribe({
                next: document => {
                    this.input.value = document.url;
                },
            });
        }
    }
    removeLogo() {
        this.input.value = '';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: InputLogoComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: InputLogoComponent, isStandalone: true, selector: "ta-input-logo", usesInheritance: true, ngImport: i0, template: "<ta-form-label [input]=\"this.input\"></ta-form-label>\r\n\r\n<div class=\"flex-column align-center g-space-md\">\r\n  <div class=\"logo-preview-wrapper\" (click)=\"this.openDialog()\">\r\n    @if (this.input.value) {\r\n      <img [src]=\"this.input.value\" class=\"logo-image\" />\r\n      <div class=\"logo-overlay\">\r\n        <ta-font-icon name=\"edit\" type=\"lg\"></ta-font-icon>\r\n        <span>{{ 'input.logo.modify' | translate }}</span>\r\n      </div>\r\n    } @else {\r\n      <div class=\"logo-placeholder flex-column align-center justify-center\">\r\n        <ta-font-icon name=\"image\" type=\"xl\"></ta-font-icon>\r\n        <span>{{ 'input.logo.add' | translate }}</span>\r\n      </div>\r\n    }\r\n  </div>\r\n  \r\n  @if (this.input.value) {\r\n    <ta-button \r\n      type=\"secondary\" \r\n      size=\"small\" \r\n      (action)=\"this.removeLogo()\"\r\n    >\r\n      {{ 'input.logo.remove' | translate }}\r\n    </ta-button>\r\n  }\r\n</div>", styles: [".logo-preview-wrapper{position:relative;width:120px;height:120px;border-radius:var(--ta-radius-rounded);overflow:hidden;cursor:pointer;border:2px dashed var(--ta-border-secondary);transition:all .3s ease}.logo-preview-wrapper:hover{border-color:var(--ta-brand-500)}.logo-preview-wrapper:hover .logo-overlay{opacity:1}.logo-preview-wrapper:hover .logo-placeholder{background-color:var(--ta-surface-secondary);border-color:var(--ta-brand-500)}.logo-image{width:100%;height:100%;object-fit:cover;display:block}.logo-overlay{position:absolute;inset:0;background-color:#000000b3;flex-direction:column;align-items:center;display:flex;justify-content:center;margin:auto;opacity:0;transition:opacity .3s ease;color:var(--ta-text-inverse);gap:var(--ta-space-xs)}.logo-overlay ta-font-icon{font-size:var(--ta-font-h3-default-size)}.logo-overlay span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight)}.logo-placeholder{width:100%;height:100%;background-color:var(--ta-surface-tertiary);border:2px dashed var(--ta-border-secondary);border-radius:var(--ta-radius-rounded);transition:all .3s ease;color:var(--ta-text-secondary);gap:var(--ta-space-sm)}.logo-placeholder ta-font-icon{font-size:var(--ta-font-h1-default-size)}.logo-placeholder span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight);text-align:center}\n"], dependencies: [{ kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: FormLabelComponent, selector: "ta-form-label", inputs: ["input", "withMarginBottom"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "pipe", type: TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: InputLogoComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-input-logo', standalone: true, imports: [FontIconComponent, FormLabelComponent, ButtonComponent, TranslatePipe], template: "<ta-form-label [input]=\"this.input\"></ta-form-label>\r\n\r\n<div class=\"flex-column align-center g-space-md\">\r\n  <div class=\"logo-preview-wrapper\" (click)=\"this.openDialog()\">\r\n    @if (this.input.value) {\r\n      <img [src]=\"this.input.value\" class=\"logo-image\" />\r\n      <div class=\"logo-overlay\">\r\n        <ta-font-icon name=\"edit\" type=\"lg\"></ta-font-icon>\r\n        <span>{{ 'input.logo.modify' | translate }}</span>\r\n      </div>\r\n    } @else {\r\n      <div class=\"logo-placeholder flex-column align-center justify-center\">\r\n        <ta-font-icon name=\"image\" type=\"xl\"></ta-font-icon>\r\n        <span>{{ 'input.logo.add' | translate }}</span>\r\n      </div>\r\n    }\r\n  </div>\r\n  \r\n  @if (this.input.value) {\r\n    <ta-button \r\n      type=\"secondary\" \r\n      size=\"small\" \r\n      (action)=\"this.removeLogo()\"\r\n    >\r\n      {{ 'input.logo.remove' | translate }}\r\n    </ta-button>\r\n  }\r\n</div>", styles: [".logo-preview-wrapper{position:relative;width:120px;height:120px;border-radius:var(--ta-radius-rounded);overflow:hidden;cursor:pointer;border:2px dashed var(--ta-border-secondary);transition:all .3s ease}.logo-preview-wrapper:hover{border-color:var(--ta-brand-500)}.logo-preview-wrapper:hover .logo-overlay{opacity:1}.logo-preview-wrapper:hover .logo-placeholder{background-color:var(--ta-surface-secondary);border-color:var(--ta-brand-500)}.logo-image{width:100%;height:100%;object-fit:cover;display:block}.logo-overlay{position:absolute;inset:0;background-color:#000000b3;flex-direction:column;align-items:center;display:flex;justify-content:center;margin:auto;opacity:0;transition:opacity .3s ease;color:var(--ta-text-inverse);gap:var(--ta-space-xs)}.logo-overlay ta-font-icon{font-size:var(--ta-font-h3-default-size)}.logo-overlay span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight)}.logo-placeholder{width:100%;height:100%;background-color:var(--ta-surface-tertiary);border:2px dashed var(--ta-border-secondary);border-radius:var(--ta-radius-rounded);transition:all .3s ease;color:var(--ta-text-secondary);gap:var(--ta-space-sm)}.logo-placeholder ta-font-icon{font-size:var(--ta-font-h1-default-size)}.logo-placeholder span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight);text-align:center}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtbG9nby5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvaW5wdXQvbG9nby9pbnB1dC1sb2dvLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9pbnB1dC9sb2dvL2lucHV0LWxvZ28uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHMUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNsRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUN6QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRXZDLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDOztBQVNqRSxNQUFNLE9BQU8sa0JBQW1CLFNBQVEsd0JBQW1DO0lBR3pFO1FBQ0UsS0FBSyxFQUFFLENBQUM7UUFIRixzQkFBaUIsR0FBRyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUl2RCxDQUFDO0lBRU0sS0FBSyxDQUFDLFVBQVU7UUFDckIsTUFBTSxNQUFNLEdBQUcsTUFBTSxVQUFVLEVBQUUsQ0FBQztRQUVsQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzNELElBQUksUUFBUSxFQUFFLENBQUM7WUFDYixJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUM7Z0JBQ3JGLElBQUksRUFBRSxRQUFRLENBQUMsRUFBRTtvQkFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDO2dCQUNsQyxDQUFDO2FBQ0YsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztJQUNILENBQUM7SUFFTSxVQUFVO1FBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ3hCLENBQUM7K0dBdEJVLGtCQUFrQjttR0FBbEIsa0JBQWtCLGdHQ25CL0IsNDhCQTJCTSxzZ0REVk0saUJBQWlCLG1GQUFFLGtCQUFrQixpR0FBRSxlQUFlLHlKQUFFLGFBQWE7OzRGQUVwRSxrQkFBa0I7a0JBUDlCLFNBQVM7K0JBQ0UsZUFBZSxjQUdiLElBQUksV0FDUCxDQUFDLGlCQUFpQixFQUFFLGtCQUFrQixFQUFFLGVBQWUsRUFBRSxhQUFhLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBJbnB1dExvZ28gfSBmcm9tICdAdGEvZm9ybS1tb2RlbCc7XHJcbmltcG9ydCB7IEZvbnRJY29uQ29tcG9uZW50IH0gZnJvbSAnQHRhL2ljb25zJztcclxuaW1wb3J0IHsgVGFEb2N1bWVudHNTZXJ2aWNlIH0gZnJvbSAnQHRhL3NlcnZpY2VzJztcclxuaW1wb3J0IHsgVHJhbnNsYXRlUGlwZSB9IGZyb20gJ0B0YS90cmFuc2xhdGlvbic7XHJcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJ0B0YS91aSc7XHJcbmltcG9ydCB7IHBpY2tJbWFnZXMgfSBmcm9tICdAdGEvdXRpbHMnO1xyXG5cclxuaW1wb3J0IHsgVGFBYnN0cmFjdElucHV0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vYWJzdHJhY3QuY29tcG9uZW50JztcclxuaW1wb3J0IHsgRm9ybUxhYmVsQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbGFiZWwvbGFiZWwuY29tcG9uZW50JztcclxuXHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAndGEtaW5wdXQtbG9nbycsXHJcbiAgdGVtcGxhdGVVcmw6ICcuL2lucHV0LWxvZ28uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL2lucHV0LWxvZ28uY29tcG9uZW50LnNjc3MnXSxcclxuICBzdGFuZGFsb25lOiB0cnVlLFxyXG4gIGltcG9ydHM6IFtGb250SWNvbkNvbXBvbmVudCwgRm9ybUxhYmVsQ29tcG9uZW50LCBCdXR0b25Db21wb25lbnQsIFRyYW5zbGF0ZVBpcGVdLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgSW5wdXRMb2dvQ29tcG9uZW50IGV4dGVuZHMgVGFBYnN0cmFjdElucHV0Q29tcG9uZW50PElucHV0TG9nbz4gaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIHByaXZhdGUgX2RvY3VtZW50c1NlcnZpY2UgPSBpbmplY3QoVGFEb2N1bWVudHNTZXJ2aWNlKTtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIG9wZW5EaWFsb2coKSB7XHJcbiAgICBjb25zdCBpbWFnZXMgPSBhd2FpdCBwaWNrSW1hZ2VzKCk7XHJcblxyXG4gICAgY29uc3QgbG9nb0ZpbGUgPSBpbWFnZXMubGVuZ3RoID4gMCA/IGltYWdlc1swXS5maWxlIDogbnVsbDtcclxuICAgIGlmIChsb2dvRmlsZSkge1xyXG4gICAgICB0aGlzLl9kb2N1bWVudHNTZXJ2aWNlLmFkZERvY3VtZW50JCh7IGZpbGU6IGxvZ29GaWxlLCBkZXNjcmlwdGlvbjogJ2xvZ28nIH0pLnN1YnNjcmliZSh7XHJcbiAgICAgICAgbmV4dDogZG9jdW1lbnQgPT4ge1xyXG4gICAgICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9IGRvY3VtZW50LnVybDtcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmVMb2dvKCkge1xyXG4gICAgdGhpcy5pbnB1dC52YWx1ZSA9ICcnO1xyXG4gIH1cclxufVxyXG4iLCI8dGEtZm9ybS1sYWJlbCBbaW5wdXRdPVwidGhpcy5pbnB1dFwiPjwvdGEtZm9ybS1sYWJlbD5cclxuXHJcbjxkaXYgY2xhc3M9XCJmbGV4LWNvbHVtbiBhbGlnbi1jZW50ZXIgZy1zcGFjZS1tZFwiPlxyXG4gIDxkaXYgY2xhc3M9XCJsb2dvLXByZXZpZXctd3JhcHBlclwiIChjbGljayk9XCJ0aGlzLm9wZW5EaWFsb2coKVwiPlxyXG4gICAgQGlmICh0aGlzLmlucHV0LnZhbHVlKSB7XHJcbiAgICAgIDxpbWcgW3NyY109XCJ0aGlzLmlucHV0LnZhbHVlXCIgY2xhc3M9XCJsb2dvLWltYWdlXCIgLz5cclxuICAgICAgPGRpdiBjbGFzcz1cImxvZ28tb3ZlcmxheVwiPlxyXG4gICAgICAgIDx0YS1mb250LWljb24gbmFtZT1cImVkaXRcIiB0eXBlPVwibGdcIj48L3RhLWZvbnQtaWNvbj5cclxuICAgICAgICA8c3Bhbj57eyAnaW5wdXQubG9nby5tb2RpZnknIHwgdHJhbnNsYXRlIH19PC9zcGFuPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIH0gQGVsc2Uge1xyXG4gICAgICA8ZGl2IGNsYXNzPVwibG9nby1wbGFjZWhvbGRlciBmbGV4LWNvbHVtbiBhbGlnbi1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cclxuICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJpbWFnZVwiIHR5cGU9XCJ4bFwiPjwvdGEtZm9udC1pY29uPlxyXG4gICAgICAgIDxzcGFuPnt7ICdpbnB1dC5sb2dvLmFkZCcgfCB0cmFuc2xhdGUgfX08L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgfVxyXG4gIDwvZGl2PlxyXG4gIFxyXG4gIEBpZiAodGhpcy5pbnB1dC52YWx1ZSkge1xyXG4gICAgPHRhLWJ1dHRvbiBcclxuICAgICAgdHlwZT1cInNlY29uZGFyeVwiIFxyXG4gICAgICBzaXplPVwic21hbGxcIiBcclxuICAgICAgKGFjdGlvbik9XCJ0aGlzLnJlbW92ZUxvZ28oKVwiXHJcbiAgICA+XHJcbiAgICAgIHt7ICdpbnB1dC5sb2dvLnJlbW92ZScgfCB0cmFuc2xhdGUgfX1cclxuICAgIDwvdGEtYnV0dG9uPlxyXG4gIH1cclxuPC9kaXY+Il19