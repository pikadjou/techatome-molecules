import { Component, inject } from "@angular/core";
import { FontIconComponent } from "@ta/icons";
import { TaDocumentsService } from "@ta/services";
import { TranslatePipe } from "@ta/translation";
import { ButtonComponent } from "@ta/ui";
import { pickImages } from "@ta/utils";
import { TaAbstractInputComponent } from "../../abstract.component";
import { FormLabelComponent } from "../../label/label.component";
import * as i0 from "@angular/core";
export class InputLogoComponent extends TaAbstractInputComponent {
    constructor() {
        super();
        this._documentsService = inject(TaDocumentsService);
    }
    async openDialog() {
        const images = await pickImages();
        const logoFile = images.length > 0 ? images[0].file : null;
        if (logoFile) {
            this._documentsService
                .addDocument$({ file: logoFile, description: "logo" })
                .subscribe({
                next: (document) => {
                    this.input.value = document.url;
                },
            });
        }
    }
    removeLogo() {
        this.input.value = "";
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: InputLogoComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: InputLogoComponent, isStandalone: true, selector: "ta-input-logo", usesInheritance: true, ngImport: i0, template: "<ta-form-label [input]=\"this.input\"></ta-form-label>\n\n<div class=\"flex-column align-center g-space-md\">\n  <div class=\"logo-preview-wrapper\" (click)=\"this.openDialog()\">\n    @if (this.input.value) {\n    <img [src]=\"this.input.value\" class=\"logo-image\" />\n    <div class=\"logo-overlay\">\n      <ta-font-icon name=\"edit\" type=\"lg\"></ta-font-icon>\n      <span>{{ \"form.input.logo.modify\" | translate }}</span>\n    </div>\n    } @else {\n    <div class=\"logo-placeholder flex-column align-center justify-center\">\n      <ta-font-icon name=\"image\" type=\"xl\"></ta-font-icon>\n      <span>{{ \"form.input.logo.add\" | translate }}</span>\n    </div>\n    }\n  </div>\n\n  @if (this.input.value) {\n  <ta-button type=\"secondary\" size=\"small\" (action)=\"this.removeLogo()\">\n    {{ \"form.input.logo.remove\" | translate }}\n  </ta-button>\n  }\n</div>\n", styles: [".logo-preview-wrapper{position:relative;width:120px;height:120px;border-radius:var(--ta-radius-rounded);overflow:hidden;cursor:pointer;border:2px dashed var(--ta-border-secondary);transition:all .3s ease}.logo-preview-wrapper:hover{border-color:var(--ta-brand-500)}.logo-preview-wrapper:hover .logo-overlay{opacity:1}.logo-preview-wrapper:hover .logo-placeholder{background-color:var(--ta-surface-secondary);border-color:var(--ta-brand-500)}.logo-image{width:100%;height:100%;object-fit:cover;display:block}.logo-overlay{position:absolute;inset:0;background-color:#000000b3;flex-direction:column;align-items:center;display:flex;justify-content:center;margin:auto;opacity:0;transition:opacity .3s ease;color:var(--ta-text-inverse);gap:var(--ta-space-xs)}.logo-overlay ta-font-icon{font-size:var(--ta-font-h3-default-size)}.logo-overlay span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight)}.logo-placeholder{width:100%;height:100%;background-color:var(--ta-surface-tertiary);border:2px dashed var(--ta-border-secondary);border-radius:var(--ta-radius-rounded);transition:all .3s ease;color:var(--ta-text-secondary);gap:var(--ta-space-sm)}.logo-placeholder ta-font-icon{font-size:var(--ta-font-h1-default-size)}.logo-placeholder span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight);text-align:center}\n"], dependencies: [{ kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: FormLabelComponent, selector: "ta-form-label", inputs: ["input", "withMarginBottom"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "pipe", type: TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: InputLogoComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-input-logo", standalone: true, imports: [
                        FontIconComponent,
                        FormLabelComponent,
                        ButtonComponent,
                        TranslatePipe,
                    ], template: "<ta-form-label [input]=\"this.input\"></ta-form-label>\n\n<div class=\"flex-column align-center g-space-md\">\n  <div class=\"logo-preview-wrapper\" (click)=\"this.openDialog()\">\n    @if (this.input.value) {\n    <img [src]=\"this.input.value\" class=\"logo-image\" />\n    <div class=\"logo-overlay\">\n      <ta-font-icon name=\"edit\" type=\"lg\"></ta-font-icon>\n      <span>{{ \"form.input.logo.modify\" | translate }}</span>\n    </div>\n    } @else {\n    <div class=\"logo-placeholder flex-column align-center justify-center\">\n      <ta-font-icon name=\"image\" type=\"xl\"></ta-font-icon>\n      <span>{{ \"form.input.logo.add\" | translate }}</span>\n    </div>\n    }\n  </div>\n\n  @if (this.input.value) {\n  <ta-button type=\"secondary\" size=\"small\" (action)=\"this.removeLogo()\">\n    {{ \"form.input.logo.remove\" | translate }}\n  </ta-button>\n  }\n</div>\n", styles: [".logo-preview-wrapper{position:relative;width:120px;height:120px;border-radius:var(--ta-radius-rounded);overflow:hidden;cursor:pointer;border:2px dashed var(--ta-border-secondary);transition:all .3s ease}.logo-preview-wrapper:hover{border-color:var(--ta-brand-500)}.logo-preview-wrapper:hover .logo-overlay{opacity:1}.logo-preview-wrapper:hover .logo-placeholder{background-color:var(--ta-surface-secondary);border-color:var(--ta-brand-500)}.logo-image{width:100%;height:100%;object-fit:cover;display:block}.logo-overlay{position:absolute;inset:0;background-color:#000000b3;flex-direction:column;align-items:center;display:flex;justify-content:center;margin:auto;opacity:0;transition:opacity .3s ease;color:var(--ta-text-inverse);gap:var(--ta-space-xs)}.logo-overlay ta-font-icon{font-size:var(--ta-font-h3-default-size)}.logo-overlay span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight)}.logo-placeholder{width:100%;height:100%;background-color:var(--ta-surface-tertiary);border:2px dashed var(--ta-border-secondary);border-radius:var(--ta-radius-rounded);transition:all .3s ease;color:var(--ta-text-secondary);gap:var(--ta-space-sm)}.logo-placeholder ta-font-icon{font-size:var(--ta-font-h1-default-size)}.logo-placeholder span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight);text-align:center}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtbG9nby5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvaW5wdXQvbG9nby9pbnB1dC1sb2dvLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9pbnB1dC9sb2dvL2lucHV0LWxvZ28uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHMUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNsRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUN6QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRXZDLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDOztBQWNqRSxNQUFNLE9BQU8sa0JBQ1gsU0FBUSx3QkFBbUM7SUFLM0M7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQUhGLHNCQUFpQixHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBSXZELENBQUM7SUFFTSxLQUFLLENBQUMsVUFBVTtRQUNyQixNQUFNLE1BQU0sR0FBRyxNQUFNLFVBQVUsRUFBRSxDQUFDO1FBRWxDLE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDM0QsSUFBSSxRQUFRLEVBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxpQkFBaUI7aUJBQ25CLFlBQVksQ0FBQyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRSxDQUFDO2lCQUNyRCxTQUFTLENBQUM7Z0JBQ1QsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUU7b0JBQ2pCLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUM7Z0JBQ2xDLENBQUM7YUFDRixDQUFDLENBQUM7UUFDUCxDQUFDO0lBQ0gsQ0FBQztJQUVNLFVBQVU7UUFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDeEIsQ0FBQzsrR0EzQlUsa0JBQWtCO21HQUFsQixrQkFBa0IsZ0dDeEIvQixxM0JBd0JBLHNnREROSSxpQkFBaUIsbUZBQ2pCLGtCQUFrQixpR0FDbEIsZUFBZSx5SkFDZixhQUFhOzs0RkFHSixrQkFBa0I7a0JBWjlCLFNBQVM7K0JBQ0UsZUFBZSxjQUdiLElBQUksV0FDUDt3QkFDUCxpQkFBaUI7d0JBQ2pCLGtCQUFrQjt3QkFDbEIsZUFBZTt3QkFDZixhQUFhO3FCQUNkIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIGluamVjdCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5cbmltcG9ydCB7IElucHV0TG9nbyB9IGZyb20gXCJAdGEvZm9ybS1tb2RlbFwiO1xuaW1wb3J0IHsgRm9udEljb25Db21wb25lbnQgfSBmcm9tIFwiQHRhL2ljb25zXCI7XG5pbXBvcnQgeyBUYURvY3VtZW50c1NlcnZpY2UgfSBmcm9tIFwiQHRhL3NlcnZpY2VzXCI7XG5pbXBvcnQgeyBUcmFuc2xhdGVQaXBlIH0gZnJvbSBcIkB0YS90cmFuc2xhdGlvblwiO1xuaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50IH0gZnJvbSBcIkB0YS91aVwiO1xuaW1wb3J0IHsgcGlja0ltYWdlcyB9IGZyb20gXCJAdGEvdXRpbHNcIjtcblxuaW1wb3J0IHsgVGFBYnN0cmFjdElucHV0Q29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2Fic3RyYWN0LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgRm9ybUxhYmVsQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uL2xhYmVsL2xhYmVsLmNvbXBvbmVudFwiO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IFwidGEtaW5wdXQtbG9nb1wiLFxuICB0ZW1wbGF0ZVVybDogXCIuL2lucHV0LWxvZ28uY29tcG9uZW50Lmh0bWxcIixcbiAgc3R5bGVVcmxzOiBbXCIuL2lucHV0LWxvZ28uY29tcG9uZW50LnNjc3NcIl0sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBGb250SWNvbkNvbXBvbmVudCxcbiAgICBGb3JtTGFiZWxDb21wb25lbnQsXG4gICAgQnV0dG9uQ29tcG9uZW50LFxuICAgIFRyYW5zbGF0ZVBpcGUsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIElucHV0TG9nb0NvbXBvbmVudFxuICBleHRlbmRzIFRhQWJzdHJhY3RJbnB1dENvbXBvbmVudDxJbnB1dExvZ28+XG4gIGltcGxlbWVudHMgT25Jbml0XG57XG4gIHByaXZhdGUgX2RvY3VtZW50c1NlcnZpY2UgPSBpbmplY3QoVGFEb2N1bWVudHNTZXJ2aWNlKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgcHVibGljIGFzeW5jIG9wZW5EaWFsb2coKSB7XG4gICAgY29uc3QgaW1hZ2VzID0gYXdhaXQgcGlja0ltYWdlcygpO1xuXG4gICAgY29uc3QgbG9nb0ZpbGUgPSBpbWFnZXMubGVuZ3RoID4gMCA/IGltYWdlc1swXS5maWxlIDogbnVsbDtcbiAgICBpZiAobG9nb0ZpbGUpIHtcbiAgICAgIHRoaXMuX2RvY3VtZW50c1NlcnZpY2VcbiAgICAgICAgLmFkZERvY3VtZW50JCh7IGZpbGU6IGxvZ29GaWxlLCBkZXNjcmlwdGlvbjogXCJsb2dvXCIgfSlcbiAgICAgICAgLnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogKGRvY3VtZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gZG9jdW1lbnQudXJsO1xuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVMb2dvKCkge1xuICAgIHRoaXMuaW5wdXQudmFsdWUgPSBcIlwiO1xuICB9XG59XG4iLCI8dGEtZm9ybS1sYWJlbCBbaW5wdXRdPVwidGhpcy5pbnB1dFwiPjwvdGEtZm9ybS1sYWJlbD5cblxuPGRpdiBjbGFzcz1cImZsZXgtY29sdW1uIGFsaWduLWNlbnRlciBnLXNwYWNlLW1kXCI+XG4gIDxkaXYgY2xhc3M9XCJsb2dvLXByZXZpZXctd3JhcHBlclwiIChjbGljayk9XCJ0aGlzLm9wZW5EaWFsb2coKVwiPlxuICAgIEBpZiAodGhpcy5pbnB1dC52YWx1ZSkge1xuICAgIDxpbWcgW3NyY109XCJ0aGlzLmlucHV0LnZhbHVlXCIgY2xhc3M9XCJsb2dvLWltYWdlXCIgLz5cbiAgICA8ZGl2IGNsYXNzPVwibG9nby1vdmVybGF5XCI+XG4gICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJlZGl0XCIgdHlwZT1cImxnXCI+PC90YS1mb250LWljb24+XG4gICAgICA8c3Bhbj57eyBcImZvcm0uaW5wdXQubG9nby5tb2RpZnlcIiB8IHRyYW5zbGF0ZSB9fTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICB9IEBlbHNlIHtcbiAgICA8ZGl2IGNsYXNzPVwibG9nby1wbGFjZWhvbGRlciBmbGV4LWNvbHVtbiBhbGlnbi1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgIDx0YS1mb250LWljb24gbmFtZT1cImltYWdlXCIgdHlwZT1cInhsXCI+PC90YS1mb250LWljb24+XG4gICAgICA8c3Bhbj57eyBcImZvcm0uaW5wdXQubG9nby5hZGRcIiB8IHRyYW5zbGF0ZSB9fTwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICB9XG4gIDwvZGl2PlxuXG4gIEBpZiAodGhpcy5pbnB1dC52YWx1ZSkge1xuICA8dGEtYnV0dG9uIHR5cGU9XCJzZWNvbmRhcnlcIiBzaXplPVwic21hbGxcIiAoYWN0aW9uKT1cInRoaXMucmVtb3ZlTG9nbygpXCI+XG4gICAge3sgXCJmb3JtLmlucHV0LmxvZ28ucmVtb3ZlXCIgfCB0cmFuc2xhdGUgfX1cbiAgPC90YS1idXR0b24+XG4gIH1cbjwvZGl2PlxuIl19