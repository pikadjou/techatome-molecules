import { Component } from '@angular/core';
import { FontIconComponent } from '@ta/icons';
import { TranslatePipe } from '@ta/translation';
import { ButtonComponent } from '@ta/ui';
import { pickImages } from '@ta/utils';
import { TaAbstractInputComponent } from '../../abstract.component';
import { FormLabelComponent } from '../../label/label.component';
import { InputLogoModal } from './modal/input-logo-modal.component';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
export class InputLogoComponent extends TaAbstractInputComponent {
    get selection() {
        return this.input.value;
    }
    get fileDataSelection() {
        if (!this.selection)
            return null;
        return {
            id: 0,
            type: 'Image',
            url: this.selection,
        };
    }
    get hasLogo() {
        return !!this.selection;
    }
    set selection(value) {
        this.input.formControl?.setValue(value);
    }
    constructor(dialog) {
        super();
        this.dialog = dialog;
    }
    ngOnInit() {
        super.ngOnInit();
        if (this.input.removeFile$) {
            this._registerSubscription(this.input.removeFile$.subscribe(fileData => {
                if (this.selection === fileData.url) {
                    this.selection = null;
                }
            }));
        }
    }
    async openDialog() {
        if (!this.input.availableFile$) {
            const images = await pickImages();
            if (images.length > 0) {
                this.selection = images[0].localUrl;
            }
            return;
        }
        const dialogRef = this.dialog.open(InputLogoModal, {
            data: { input: this.input, selection: this.selection },
        });
        this._registerSubscription(dialogRef.afterClosed().subscribe(selection => {
            if (selection !== undefined) {
                this.selection = selection;
            }
        }));
    }
    onFileDeleted(fileData) {
        if (this.selection === fileData.url) {
            this.selection = null;
        }
    }
    removeLogo() {
        this.selection = null;
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: InputLogoComponent, deps: [{ token: i1.MatDialog }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: InputLogoComponent, isStandalone: true, selector: "ta-input-logo", usesInheritance: true, ngImport: i0, template: "<ta-form-label [input]=\"this.input\"></ta-form-label>\r\n\r\n<div class=\"flex-column align-center g-space-md\">\r\n  <div class=\"logo-preview-wrapper\" (click)=\"this.openDialog()\">\r\n    @if (this.hasLogo && this.selection) {\r\n      <img [src]=\"this.selection\" alt=\"{{ 'input.logo.alt' | translate }}\" class=\"logo-image\" />\r\n      <div class=\"logo-overlay\">\r\n        <ta-font-icon name=\"edit\" type=\"lg\"></ta-font-icon>\r\n        <span>{{ 'input.logo.modify' | translate }}</span>\r\n      </div>\r\n    } @else {\r\n      <div class=\"logo-placeholder flex-column align-center justify-center\">\r\n        <ta-font-icon name=\"image\" type=\"xl\"></ta-font-icon>\r\n        <span>{{ 'input.logo.add' | translate }}</span>\r\n      </div>\r\n    }\r\n  </div>\r\n  \r\n  @if (this.hasLogo) {\r\n    <ta-button \r\n      type=\"secondary\" \r\n      size=\"small\" \r\n      (action)=\"this.removeLogo()\"\r\n    >\r\n      {{ 'input.logo.remove' | translate }}\r\n    </ta-button>\r\n  }\r\n</div>", styles: [".logo-preview-wrapper{position:relative;width:120px;height:120px;border-radius:var(--ta-radius-rounded);overflow:hidden;cursor:pointer;border:2px dashed var(--ta-border-secondary);transition:all .3s ease}.logo-preview-wrapper:hover{border-color:var(--ta-brand-500)}.logo-preview-wrapper:hover .logo-overlay{opacity:1}.logo-preview-wrapper:hover .logo-placeholder{background-color:var(--ta-surface-secondary);border-color:var(--ta-brand-500)}.logo-image{width:100%;height:100%;object-fit:cover;display:block}.logo-overlay{position:absolute;inset:0;background-color:#000000b3;flex-direction:column;align-items:center;display:flex;justify-content:center;margin:auto;opacity:0;transition:opacity .3s ease;color:var(--ta-text-inverse);gap:var(--ta-space-xs)}.logo-overlay ta-font-icon{font-size:var(--ta-font-h3-default-size)}.logo-overlay span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight)}.logo-placeholder{width:100%;height:100%;background-color:var(--ta-surface-tertiary);border:2px dashed var(--ta-border-secondary);border-radius:var(--ta-radius-rounded);transition:all .3s ease;color:var(--ta-text-secondary);gap:var(--ta-space-sm)}.logo-placeholder ta-font-icon{font-size:var(--ta-font-h1-default-size)}.logo-placeholder span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight);text-align:center}\n"], dependencies: [{ kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: FormLabelComponent, selector: "ta-form-label", inputs: ["input", "withMarginBottom"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "pipe", type: TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: InputLogoComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-input-logo', standalone: true, imports: [FontIconComponent, FormLabelComponent, ButtonComponent, TranslatePipe], template: "<ta-form-label [input]=\"this.input\"></ta-form-label>\r\n\r\n<div class=\"flex-column align-center g-space-md\">\r\n  <div class=\"logo-preview-wrapper\" (click)=\"this.openDialog()\">\r\n    @if (this.hasLogo && this.selection) {\r\n      <img [src]=\"this.selection\" alt=\"{{ 'input.logo.alt' | translate }}\" class=\"logo-image\" />\r\n      <div class=\"logo-overlay\">\r\n        <ta-font-icon name=\"edit\" type=\"lg\"></ta-font-icon>\r\n        <span>{{ 'input.logo.modify' | translate }}</span>\r\n      </div>\r\n    } @else {\r\n      <div class=\"logo-placeholder flex-column align-center justify-center\">\r\n        <ta-font-icon name=\"image\" type=\"xl\"></ta-font-icon>\r\n        <span>{{ 'input.logo.add' | translate }}</span>\r\n      </div>\r\n    }\r\n  </div>\r\n  \r\n  @if (this.hasLogo) {\r\n    <ta-button \r\n      type=\"secondary\" \r\n      size=\"small\" \r\n      (action)=\"this.removeLogo()\"\r\n    >\r\n      {{ 'input.logo.remove' | translate }}\r\n    </ta-button>\r\n  }\r\n</div>", styles: [".logo-preview-wrapper{position:relative;width:120px;height:120px;border-radius:var(--ta-radius-rounded);overflow:hidden;cursor:pointer;border:2px dashed var(--ta-border-secondary);transition:all .3s ease}.logo-preview-wrapper:hover{border-color:var(--ta-brand-500)}.logo-preview-wrapper:hover .logo-overlay{opacity:1}.logo-preview-wrapper:hover .logo-placeholder{background-color:var(--ta-surface-secondary);border-color:var(--ta-brand-500)}.logo-image{width:100%;height:100%;object-fit:cover;display:block}.logo-overlay{position:absolute;inset:0;background-color:#000000b3;flex-direction:column;align-items:center;display:flex;justify-content:center;margin:auto;opacity:0;transition:opacity .3s ease;color:var(--ta-text-inverse);gap:var(--ta-space-xs)}.logo-overlay ta-font-icon{font-size:var(--ta-font-h3-default-size)}.logo-overlay span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight)}.logo-placeholder{width:100%;height:100%;background-color:var(--ta-surface-tertiary);border:2px dashed var(--ta-border-secondary);border-radius:var(--ta-radius-rounded);transition:all .3s ease;color:var(--ta-text-secondary);gap:var(--ta-space-sm)}.logo-placeholder ta-font-icon{font-size:var(--ta-font-h1-default-size)}.logo-placeholder span{font-size:var(--ta-font-body-sm-default-size);line-height:var(--ta-font-body-sm-default-line);font-weight:var(--ta-font-body-sm-bold-weight);text-align:center}\n"] }]
        }], ctorParameters: () => [{ type: i1.MatDialog }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtbG9nby5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvaW5wdXQvbG9nby9pbnB1dC1sb2dvLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9pbnB1dC9sb2dvL2lucHV0LWxvZ28uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUlsRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDOUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDekMsT0FBTyxFQUFZLFVBQVUsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUVqRCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUNwRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0NBQW9DLENBQUM7OztBQVNwRSxNQUFNLE9BQU8sa0JBQW1CLFNBQVEsd0JBQW1DO0lBQ3pFLElBQUksU0FBUztRQUNYLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksaUJBQWlCO1FBQ25CLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU8sSUFBSSxDQUFDO1FBRWpDLE9BQU87WUFDTCxFQUFFLEVBQUUsQ0FBQztZQUNMLElBQUksRUFBRSxPQUFPO1lBQ2IsR0FBRyxFQUFFLElBQUksQ0FBQyxTQUFTO1NBQ3BCLENBQUM7SUFDSixDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1QsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxTQUFTLENBQUMsS0FBb0I7UUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxZQUFtQixNQUFpQjtRQUNsQyxLQUFLLEVBQUUsQ0FBQztRQURTLFdBQU0sR0FBTixNQUFNLENBQVc7SUFFcEMsQ0FBQztJQUVRLFFBQVE7UUFDZixLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDakIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDO1lBQzNCLElBQUksQ0FBQyxxQkFBcUIsQ0FDeEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUMxQyxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUssUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUNwQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztnQkFDeEIsQ0FBQztZQUNILENBQUMsQ0FBQyxDQUNILENBQUM7UUFDSixDQUFDO0lBQ0gsQ0FBQztJQUVNLEtBQUssQ0FBQyxVQUFVO1FBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQy9CLE1BQU0sTUFBTSxHQUFHLE1BQU0sVUFBVSxFQUFFLENBQUM7WUFDbEMsSUFBSSxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFTLENBQUM7WUFDdkMsQ0FBQztZQUNELE9BQU87UUFDVCxDQUFDO1FBRUQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ2pELElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFO1NBQ3ZELENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxxQkFBcUIsQ0FDeEIsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFBRTtZQUM1QyxJQUFJLFNBQVMsS0FBSyxTQUFTLEVBQUUsQ0FBQztnQkFDNUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7WUFDN0IsQ0FBQztRQUNILENBQUMsQ0FBQyxDQUNILENBQUM7SUFDSixDQUFDO0lBRU0sYUFBYSxDQUFDLFFBQWtCO1FBQ3JDLElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7WUFDcEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDeEIsQ0FBQztJQUNILENBQUM7SUFFTSxVQUFVO1FBQ2YsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFDeEIsQ0FBQzsrR0F0RVUsa0JBQWtCO21HQUFsQixrQkFBa0IsZ0dDcEIvQiwrL0JBMkJNLHNnRERUTSxpQkFBaUIsbUZBQUUsa0JBQWtCLGlHQUFFLGVBQWUseUpBQUUsYUFBYTs7NEZBRXBFLGtCQUFrQjtrQkFQOUIsU0FBUzsrQkFDRSxlQUFlLGNBR2IsSUFBSSxXQUNQLENBQUMsaUJBQWlCLEVBQUUsa0JBQWtCLEVBQUUsZUFBZSxFQUFFLGFBQWEsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE1hdERpYWxvZyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XHJcblxyXG5pbXBvcnQgeyBJbnB1dExvZ28gfSBmcm9tICdAdGEvZm9ybS1tb2RlbCc7XHJcbmltcG9ydCB7IEZvbnRJY29uQ29tcG9uZW50IH0gZnJvbSAnQHRhL2ljb25zJztcclxuaW1wb3J0IHsgVHJhbnNsYXRlUGlwZSB9IGZyb20gJ0B0YS90cmFuc2xhdGlvbic7XHJcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJ0B0YS91aSc7XHJcbmltcG9ydCB7IEZpbGVEYXRhLCBwaWNrSW1hZ2VzIH0gZnJvbSAnQHRhL3V0aWxzJztcclxuXHJcbmltcG9ydCB7IFRhQWJzdHJhY3RJbnB1dENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2Fic3RyYWN0LmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEZvcm1MYWJlbENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2xhYmVsL2xhYmVsLmNvbXBvbmVudCc7XHJcbmltcG9ydCB7IElucHV0TG9nb01vZGFsIH0gZnJvbSAnLi9tb2RhbC9pbnB1dC1sb2dvLW1vZGFsLmNvbXBvbmVudCc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3RhLWlucHV0LWxvZ28nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9pbnB1dC1sb2dvLmNvbXBvbmVudC5odG1sJyxcclxuICBzdHlsZVVybHM6IFsnLi9pbnB1dC1sb2dvLmNvbXBvbmVudC5zY3NzJ10sXHJcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICBpbXBvcnRzOiBbRm9udEljb25Db21wb25lbnQsIEZvcm1MYWJlbENvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBUcmFuc2xhdGVQaXBlXSxcclxufSlcclxuZXhwb3J0IGNsYXNzIElucHV0TG9nb0NvbXBvbmVudCBleHRlbmRzIFRhQWJzdHJhY3RJbnB1dENvbXBvbmVudDxJbnB1dExvZ28+IGltcGxlbWVudHMgT25Jbml0IHtcclxuICBnZXQgc2VsZWN0aW9uKCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5wdXQudmFsdWU7XHJcbiAgfVxyXG5cclxuICBnZXQgZmlsZURhdGFTZWxlY3Rpb24oKTogRmlsZURhdGEgfCBudWxsIHtcclxuICAgIGlmICghdGhpcy5zZWxlY3Rpb24pIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlkOiAwLFxyXG4gICAgICB0eXBlOiAnSW1hZ2UnLFxyXG4gICAgICB1cmw6IHRoaXMuc2VsZWN0aW9uLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldCBoYXNMb2dvKCk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuICEhdGhpcy5zZWxlY3Rpb247XHJcbiAgfVxyXG5cclxuICBzZXQgc2VsZWN0aW9uKHZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgICB0aGlzLmlucHV0LmZvcm1Db250cm9sPy5zZXRWYWx1ZSh2YWx1ZSk7XHJcbiAgfVxyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZGlhbG9nOiBNYXREaWFsb2cpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG5cclxuICBvdmVycmlkZSBuZ09uSW5pdCgpOiB2b2lkIHtcclxuICAgIHN1cGVyLm5nT25Jbml0KCk7XHJcbiAgICBpZiAodGhpcy5pbnB1dC5yZW1vdmVGaWxlJCkge1xyXG4gICAgICB0aGlzLl9yZWdpc3RlclN1YnNjcmlwdGlvbihcclxuICAgICAgICB0aGlzLmlucHV0LnJlbW92ZUZpbGUkLnN1YnNjcmliZShmaWxlRGF0YSA9PiB7XHJcbiAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24gPT09IGZpbGVEYXRhLnVybCkge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBvcGVuRGlhbG9nKCkge1xyXG4gICAgaWYgKCF0aGlzLmlucHV0LmF2YWlsYWJsZUZpbGUkKSB7XHJcbiAgICAgIGNvbnN0IGltYWdlcyA9IGF3YWl0IHBpY2tJbWFnZXMoKTtcclxuICAgICAgaWYgKGltYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBpbWFnZXNbMF0ubG9jYWxVcmwhO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkaWFsb2dSZWYgPSB0aGlzLmRpYWxvZy5vcGVuKElucHV0TG9nb01vZGFsLCB7XHJcbiAgICAgIGRhdGE6IHsgaW5wdXQ6IHRoaXMuaW5wdXQsIHNlbGVjdGlvbjogdGhpcy5zZWxlY3Rpb24gfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3JlZ2lzdGVyU3Vic2NyaXB0aW9uKFxyXG4gICAgICBkaWFsb2dSZWYuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUoc2VsZWN0aW9uID0+IHtcclxuICAgICAgICBpZiAoc2VsZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb25GaWxlRGVsZXRlZChmaWxlRGF0YTogRmlsZURhdGEpIHtcclxuICAgIGlmICh0aGlzLnNlbGVjdGlvbiA9PT0gZmlsZURhdGEudXJsKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0aW9uID0gbnVsbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyByZW1vdmVMb2dvKCkge1xyXG4gICAgdGhpcy5zZWxlY3Rpb24gPSBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMb2dvRGlhbG9nRGF0YSB7XHJcbiAgaW5wdXQ6IElucHV0TG9nbztcclxuICBzZWxlY3Rpb246IHN0cmluZyB8IG51bGw7XHJcbn1cclxuIiwiPHRhLWZvcm0tbGFiZWwgW2lucHV0XT1cInRoaXMuaW5wdXRcIj48L3RhLWZvcm0tbGFiZWw+XHJcblxyXG48ZGl2IGNsYXNzPVwiZmxleC1jb2x1bW4gYWxpZ24tY2VudGVyIGctc3BhY2UtbWRcIj5cclxuICA8ZGl2IGNsYXNzPVwibG9nby1wcmV2aWV3LXdyYXBwZXJcIiAoY2xpY2spPVwidGhpcy5vcGVuRGlhbG9nKClcIj5cclxuICAgIEBpZiAodGhpcy5oYXNMb2dvICYmIHRoaXMuc2VsZWN0aW9uKSB7XHJcbiAgICAgIDxpbWcgW3NyY109XCJ0aGlzLnNlbGVjdGlvblwiIGFsdD1cInt7ICdpbnB1dC5sb2dvLmFsdCcgfCB0cmFuc2xhdGUgfX1cIiBjbGFzcz1cImxvZ28taW1hZ2VcIiAvPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwibG9nby1vdmVybGF5XCI+XHJcbiAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwiZWRpdFwiIHR5cGU9XCJsZ1wiPjwvdGEtZm9udC1pY29uPlxyXG4gICAgICAgIDxzcGFuPnt7ICdpbnB1dC5sb2dvLm1vZGlmeScgfCB0cmFuc2xhdGUgfX08L3NwYW4+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgfSBAZWxzZSB7XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJsb2dvLXBsYWNlaG9sZGVyIGZsZXgtY29sdW1uIGFsaWduLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgIDx0YS1mb250LWljb24gbmFtZT1cImltYWdlXCIgdHlwZT1cInhsXCI+PC90YS1mb250LWljb24+XHJcbiAgICAgICAgPHNwYW4+e3sgJ2lucHV0LmxvZ28uYWRkJyB8IHRyYW5zbGF0ZSB9fTwvc3Bhbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICB9XHJcbiAgPC9kaXY+XHJcbiAgXHJcbiAgQGlmICh0aGlzLmhhc0xvZ28pIHtcclxuICAgIDx0YS1idXR0b24gXHJcbiAgICAgIHR5cGU9XCJzZWNvbmRhcnlcIiBcclxuICAgICAgc2l6ZT1cInNtYWxsXCIgXHJcbiAgICAgIChhY3Rpb24pPVwidGhpcy5yZW1vdmVMb2dvKClcIlxyXG4gICAgPlxyXG4gICAgICB7eyAnaW5wdXQubG9nby5yZW1vdmUnIHwgdHJhbnNsYXRlIH19XHJcbiAgICA8L3RhLWJ1dHRvbj5cclxuICB9XHJcbjwvZGl2PiJdfQ==