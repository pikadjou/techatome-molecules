import { Component, inject } from '@angular/core';
import { FontIconComponent } from '@ta/icons';
import { TaDocumentsService } from '@ta/services';
import { TranslatePipe } from '@ta/translation';
import { ButtonComponent } from '@ta/ui';
import { pickImages } from '@ta/utils';
import { TaTranslationInput } from '../../../translation.service';
import { TaAbstractInputComponent } from '../../abstract.component';
import { FormLabelComponent } from '../../label/label.component';
import * as i0 from "@angular/core";
export class InputLogoComponent extends TaAbstractInputComponent {
    constructor() {
        super();
        this._documentsService = inject(TaDocumentsService);
        TaTranslationInput.getInstance();
    }
    async openDialog() {
        const images = await pickImages();
        const logoFile = images.length > 0 ? images[0].file : null;
        if (logoFile) {
            this._documentsService.addDocument$({ file: logoFile, description: 'logo' }).subscribe({
                next: document => {
                    this.input.value = document.url;
                },
            });
        }
    }
    removeLogo() {
        this.input.value = '';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: InputLogoComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: InputLogoComponent, isStandalone: true, selector: "ta-input-logo", usesInheritance: true, ngImport: i0, template: "<ta-form-label [input]=\"this.input\"></ta-form-label>\n\n<div class=\"flex-column align-center g-space-md\">\n  <div class=\"logo-preview-wrapper\" (click)=\"this.openDialog()\">\n    @if (this.input.value) {\n      <img [src]=\"this.input.value\" class=\"logo-image\" />\n      <div class=\"logo-overlay\">\n        <ta-font-icon name=\"edit\" type=\"lg\"></ta-font-icon>\n        <span>{{ 'input.logo.modify' | translate }}</span>\n      </div>\n    } @else {\n      <div class=\"logo-placeholder flex-column align-center justify-center\">\n        <ta-font-icon name=\"image\" type=\"xl\"></ta-font-icon>\n        <span>{{ 'input.logo.add' | translate }}</span>\n      </div>\n    }\n  </div>\n\n  @if (this.input.value) {\n    <ta-button type=\"secondary\" size=\"small\" (action)=\"this.removeLogo()\">\n      {{ 'input.logo.remove' | translate }}\n    </ta-button>\n  }\n</div>\n", styles: [".logo-preview-wrapper{position:relative;width:120px;height:120px;border-radius:var(--ta-radius-rounded);overflow:hidden;cursor:pointer;border:2px dashed var(--ta-border-secondary);transition:all .3s ease}.logo-preview-wrapper:hover{border-color:var(--ta-brand-500)}.logo-preview-wrapper:hover .logo-overlay{opacity:1}.logo-preview-wrapper:hover .logo-placeholder{background-color:var(--ta-surface-secondary);border-color:var(--ta-brand-500)}.logo-image{width:100%;height:100%;object-fit:cover;display:block}.logo-overlay{position:absolute;inset:0;background-color:#000000b3;flex-direction:column;align-items:center;display:flex;justify-content:center;margin:auto;opacity:0;transition:opacity .3s ease;color:var(--ta-text-inverse);gap:var(--ta-space-xs)}.logo-overlay ta-font-icon{font-size:var(--ta-font-h3-default-size)}.logo-overlay span{font-size:var(--ta-font-body-sm-default-size);font-weight:var(--ta-font-body-sm-bold-weight)}.logo-placeholder{width:100%;height:100%;background-color:var(--ta-surface-tertiary);border:2px dashed var(--ta-border-secondary);border-radius:var(--ta-radius-rounded);transition:all .3s ease;color:var(--ta-text-secondary);gap:var(--ta-space-sm)}.logo-placeholder ta-font-icon{font-size:var(--ta-font-h1-default-size)}.logo-placeholder span{font-size:var(--ta-font-body-sm-default-size);font-weight:var(--ta-font-body-sm-bold-weight);text-align:center}\n"], dependencies: [{ kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: FormLabelComponent, selector: "ta-form-label", inputs: ["input", "withMarginBottom"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "pipe", type: TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: InputLogoComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-input-logo', standalone: true, imports: [FontIconComponent, FormLabelComponent, ButtonComponent, TranslatePipe], template: "<ta-form-label [input]=\"this.input\"></ta-form-label>\n\n<div class=\"flex-column align-center g-space-md\">\n  <div class=\"logo-preview-wrapper\" (click)=\"this.openDialog()\">\n    @if (this.input.value) {\n      <img [src]=\"this.input.value\" class=\"logo-image\" />\n      <div class=\"logo-overlay\">\n        <ta-font-icon name=\"edit\" type=\"lg\"></ta-font-icon>\n        <span>{{ 'input.logo.modify' | translate }}</span>\n      </div>\n    } @else {\n      <div class=\"logo-placeholder flex-column align-center justify-center\">\n        <ta-font-icon name=\"image\" type=\"xl\"></ta-font-icon>\n        <span>{{ 'input.logo.add' | translate }}</span>\n      </div>\n    }\n  </div>\n\n  @if (this.input.value) {\n    <ta-button type=\"secondary\" size=\"small\" (action)=\"this.removeLogo()\">\n      {{ 'input.logo.remove' | translate }}\n    </ta-button>\n  }\n</div>\n", styles: [".logo-preview-wrapper{position:relative;width:120px;height:120px;border-radius:var(--ta-radius-rounded);overflow:hidden;cursor:pointer;border:2px dashed var(--ta-border-secondary);transition:all .3s ease}.logo-preview-wrapper:hover{border-color:var(--ta-brand-500)}.logo-preview-wrapper:hover .logo-overlay{opacity:1}.logo-preview-wrapper:hover .logo-placeholder{background-color:var(--ta-surface-secondary);border-color:var(--ta-brand-500)}.logo-image{width:100%;height:100%;object-fit:cover;display:block}.logo-overlay{position:absolute;inset:0;background-color:#000000b3;flex-direction:column;align-items:center;display:flex;justify-content:center;margin:auto;opacity:0;transition:opacity .3s ease;color:var(--ta-text-inverse);gap:var(--ta-space-xs)}.logo-overlay ta-font-icon{font-size:var(--ta-font-h3-default-size)}.logo-overlay span{font-size:var(--ta-font-body-sm-default-size);font-weight:var(--ta-font-body-sm-bold-weight)}.logo-placeholder{width:100%;height:100%;background-color:var(--ta-surface-tertiary);border:2px dashed var(--ta-border-secondary);border-radius:var(--ta-radius-rounded);transition:all .3s ease;color:var(--ta-text-secondary);gap:var(--ta-space-sm)}.logo-placeholder ta-font-icon{font-size:var(--ta-font-h1-default-size)}.logo-placeholder span{font-size:var(--ta-font-body-sm-default-size);font-weight:var(--ta-font-body-sm-bold-weight);text-align:center}\n"] }]
        }], ctorParameters: () => [] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtbG9nby5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvaW5wdXQvbG9nby9pbnB1dC1sb2dvLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9pbnB1dC9sb2dvL2lucHV0LWxvZ28uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHMUQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNsRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUN6QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRXZDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDhCQUE4QixDQUFDO0FBQ2xFLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDOztBQVNqRSxNQUFNLE9BQU8sa0JBQW1CLFNBQVEsd0JBQW1DO0lBR3pFO1FBQ0UsS0FBSyxFQUFFLENBQUM7UUFIRixzQkFBaUIsR0FBRyxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUlyRCxrQkFBa0IsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBRU0sS0FBSyxDQUFDLFVBQVU7UUFDckIsTUFBTSxNQUFNLEdBQUcsTUFBTSxVQUFVLEVBQUUsQ0FBQztRQUVsQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQzNELElBQUksUUFBUSxFQUFFLENBQUM7WUFDYixJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxXQUFXLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUM7Z0JBQ3JGLElBQUksRUFBRSxRQUFRLENBQUMsRUFBRTtvQkFDZixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDO2dCQUNsQyxDQUFDO2FBQ0YsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztJQUNILENBQUM7SUFFTSxVQUFVO1FBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ3hCLENBQUM7K0dBdkJVLGtCQUFrQjttR0FBbEIsa0JBQWtCLGdHQ3BCL0IsdzNCQXdCQSxzNkNETlksaUJBQWlCLG1GQUFFLGtCQUFrQixpR0FBRSxlQUFlLHlKQUFFLGFBQWE7OzRGQUVwRSxrQkFBa0I7a0JBUDlCLFNBQVM7K0JBQ0UsZUFBZSxjQUdiLElBQUksV0FDUCxDQUFDLGlCQUFpQixFQUFFLGtCQUFrQixFQUFFLGVBQWUsRUFBRSxhQUFhLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IElucHV0TG9nbyB9IGZyb20gJ0B0YS9mb3JtLW1vZGVsJztcbmltcG9ydCB7IEZvbnRJY29uQ29tcG9uZW50IH0gZnJvbSAnQHRhL2ljb25zJztcbmltcG9ydCB7IFRhRG9jdW1lbnRzU2VydmljZSB9IGZyb20gJ0B0YS9zZXJ2aWNlcyc7XG5pbXBvcnQgeyBUcmFuc2xhdGVQaXBlIH0gZnJvbSAnQHRhL3RyYW5zbGF0aW9uJztcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJ0B0YS91aSc7XG5pbXBvcnQgeyBwaWNrSW1hZ2VzIH0gZnJvbSAnQHRhL3V0aWxzJztcblxuaW1wb3J0IHsgVGFUcmFuc2xhdGlvbklucHV0IH0gZnJvbSAnLi4vLi4vLi4vdHJhbnNsYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBUYUFic3RyYWN0SW5wdXRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9hYnN0cmFjdC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9ybUxhYmVsQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vbGFiZWwvbGFiZWwuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGEtaW5wdXQtbG9nbycsXG4gIHRlbXBsYXRlVXJsOiAnLi9pbnB1dC1sb2dvLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vaW5wdXQtbG9nby5jb21wb25lbnQuc2NzcyddLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbRm9udEljb25Db21wb25lbnQsIEZvcm1MYWJlbENvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBUcmFuc2xhdGVQaXBlXSxcbn0pXG5leHBvcnQgY2xhc3MgSW5wdXRMb2dvQ29tcG9uZW50IGV4dGVuZHMgVGFBYnN0cmFjdElucHV0Q29tcG9uZW50PElucHV0TG9nbz4gaW1wbGVtZW50cyBPbkluaXQge1xuICBwcml2YXRlIF9kb2N1bWVudHNTZXJ2aWNlID0gaW5qZWN0KFRhRG9jdW1lbnRzU2VydmljZSk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBUYVRyYW5zbGF0aW9uSW5wdXQuZ2V0SW5zdGFuY2UoKTtcbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBvcGVuRGlhbG9nKCkge1xuICAgIGNvbnN0IGltYWdlcyA9IGF3YWl0IHBpY2tJbWFnZXMoKTtcblxuICAgIGNvbnN0IGxvZ29GaWxlID0gaW1hZ2VzLmxlbmd0aCA+IDAgPyBpbWFnZXNbMF0uZmlsZSA6IG51bGw7XG4gICAgaWYgKGxvZ29GaWxlKSB7XG4gICAgICB0aGlzLl9kb2N1bWVudHNTZXJ2aWNlLmFkZERvY3VtZW50JCh7IGZpbGU6IGxvZ29GaWxlLCBkZXNjcmlwdGlvbjogJ2xvZ28nIH0pLnN1YnNjcmliZSh7XG4gICAgICAgIG5leHQ6IGRvY3VtZW50ID0+IHtcbiAgICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gZG9jdW1lbnQudXJsO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbW92ZUxvZ28oKSB7XG4gICAgdGhpcy5pbnB1dC52YWx1ZSA9ICcnO1xuICB9XG59XG4iLCI8dGEtZm9ybS1sYWJlbCBbaW5wdXRdPVwidGhpcy5pbnB1dFwiPjwvdGEtZm9ybS1sYWJlbD5cblxuPGRpdiBjbGFzcz1cImZsZXgtY29sdW1uIGFsaWduLWNlbnRlciBnLXNwYWNlLW1kXCI+XG4gIDxkaXYgY2xhc3M9XCJsb2dvLXByZXZpZXctd3JhcHBlclwiIChjbGljayk9XCJ0aGlzLm9wZW5EaWFsb2coKVwiPlxuICAgIEBpZiAodGhpcy5pbnB1dC52YWx1ZSkge1xuICAgICAgPGltZyBbc3JjXT1cInRoaXMuaW5wdXQudmFsdWVcIiBjbGFzcz1cImxvZ28taW1hZ2VcIiAvPlxuICAgICAgPGRpdiBjbGFzcz1cImxvZ28tb3ZlcmxheVwiPlxuICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJlZGl0XCIgdHlwZT1cImxnXCI+PC90YS1mb250LWljb24+XG4gICAgICAgIDxzcGFuPnt7ICdpbnB1dC5sb2dvLm1vZGlmeScgfCB0cmFuc2xhdGUgfX08L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICB9IEBlbHNlIHtcbiAgICAgIDxkaXYgY2xhc3M9XCJsb2dvLXBsYWNlaG9sZGVyIGZsZXgtY29sdW1uIGFsaWduLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJpbWFnZVwiIHR5cGU9XCJ4bFwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICA8c3Bhbj57eyAnaW5wdXQubG9nby5hZGQnIHwgdHJhbnNsYXRlIH19PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgfVxuICA8L2Rpdj5cblxuICBAaWYgKHRoaXMuaW5wdXQudmFsdWUpIHtcbiAgICA8dGEtYnV0dG9uIHR5cGU9XCJzZWNvbmRhcnlcIiBzaXplPVwic21hbGxcIiAoYWN0aW9uKT1cInRoaXMucmVtb3ZlTG9nbygpXCI+XG4gICAgICB7eyAnaW5wdXQubG9nby5yZW1vdmUnIHwgdHJhbnNsYXRlIH19XG4gICAgPC90YS1idXR0b24+XG4gIH1cbjwvZGl2PlxuIl19