import { Component } from '@angular/core';
import { FileEditComponent } from '@ta/files-basic';
import { CamBaseModal, newGuid } from '@ta/utils';
import { Subject } from 'rxjs';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
export class InputSchemaModal extends CamBaseModal {
    constructor(dialogRef) {
        super();
        this.dialogRef = dialogRef;
        this.askImage$ = new Subject();
        this.imagePath = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+gAAAPoAQMAAAB3bUanAAAABlBMVEUAAAD8/vwnjUF/AAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAcVJREFUeJztzTEBAAAMAiD7l9YYOwYFSC/Fbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xa73W632+12u91ut9vtdrvdbrfb7Xb7g32cNHwzdl5x4gAAAABJRU5ErkJggg==';
        this.close = () => {
            this.dialogRef.close();
        };
        this.selected = () => {
            this.askImage$.next(null);
        };
        this.dialogRef.addPanelClass(['full-screen-modal', 'edit-mode']);
    }
    savedImage(blob) {
        const file = new File([blob], newGuid(), { type: blob.type });
        this.dialogRef.close({ file: { file, localUrl: this.imagePath } });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: InputSchemaModal, deps: [{ token: i1.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "18.2.13", type: InputSchemaModal, isStandalone: true, selector: "ng-component", usesInheritance: true, ngImport: i0, template: "<div class=\"edit-schema-container\">\n  <ta-files-edit\n    [imagePath]=\"this.imagePath\"\n    [saveImage$]=\"this.askImage$\"\n    (savedImage)=\"this.savedImage($event)\"\n  ></ta-files-edit>\n</div>\n", styles: [".edit-schema-container{height:80vh;padding-bottom:70px}\n"], dependencies: [{ kind: "component", type: FileEditComponent, selector: "ta-files-edit", inputs: ["imagePath", "saveImage$"], outputs: ["savedImage"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: InputSchemaModal, decorators: [{
            type: Component,
            args: [{ selector: '', standalone: true, imports: [FileEditComponent], template: "<div class=\"edit-schema-container\">\n  <ta-files-edit\n    [imagePath]=\"this.imagePath\"\n    [saveImage$]=\"this.askImage$\"\n    (savedImage)=\"this.savedImage($event)\"\n  ></ta-files-edit>\n</div>\n", styles: [".edit-schema-container{height:80vh;padding-bottom:70px}\n"] }]
        }], ctorParameters: () => [{ type: i1.MatDialogRef }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtc2NoZW1hLW1vZGFsLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9pbnB1dC9zY2hlbWEvbW9kYWwvaW5wdXQtc2NoZW1hLW1vZGFsLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9pbnB1dC9zY2hlbWEvbW9kYWwvaW5wdXQtc2NoZW1hLW1vZGFsLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHMUMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFlBQVksRUFBaUIsT0FBTyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxNQUFNLENBQUM7OztBQVMvQixNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsWUFBWTtJQUtoRCxZQUFtQixTQUFrRTtRQUNuRixLQUFLLEVBQUUsQ0FBQztRQURTLGNBQVMsR0FBVCxTQUFTLENBQXlEO1FBSjlFLGNBQVMsR0FBRyxJQUFJLE9BQU8sRUFBUSxDQUFDO1FBQ2hDLGNBQVMsR0FDZCx3d0JBQXd3QixDQUFDO1FBUXB3QixVQUFLLEdBQUcsR0FBRyxFQUFFO1lBQ2xCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDekIsQ0FBQyxDQUFDO1FBQ0ssYUFBUSxHQUFHLEdBQUcsRUFBRTtZQUNyQixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QixDQUFDLENBQUM7UUFSQSxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxDQUFDLG1CQUFtQixFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQVFNLFVBQVUsQ0FBQyxJQUFVO1FBQzFCLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUM7UUFDOUQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDckUsQ0FBQzsrR0FwQlUsZ0JBQWdCO21HQUFoQixnQkFBZ0IsK0ZDZDdCLCtNQU9BLG1IREtZLGlCQUFpQjs7NEZBRWhCLGdCQUFnQjtrQkFQNUIsU0FBUzsrQkFDQSxFQUFFLGNBR0UsSUFBSSxXQUNQLENBQUMsaUJBQWlCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdERpYWxvZ1JlZiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsL2RpYWxvZyc7XG5cbmltcG9ydCB7IEZpbGVFZGl0Q29tcG9uZW50IH0gZnJvbSAnQHRhL2ZpbGVzLWJhc2ljJztcbmltcG9ydCB7IENhbUJhc2VNb2RhbCwgRmlsZVN0cnVjdHVyZSwgbmV3R3VpZCB9IGZyb20gJ0B0YS91dGlscyc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbkBDb21wb25lbnQoe1xuc2VsZWN0b3I6ICcnLFxuICBzdHlsZVVybHM6IFsnLi9pbnB1dC1zY2hlbWEtbW9kYWwuY29tcG9uZW50LnNjc3MnXSxcbiAgdGVtcGxhdGVVcmw6ICcuL2lucHV0LXNjaGVtYS1tb2RhbC5jb21wb25lbnQuaHRtbCcsXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtGaWxlRWRpdENvbXBvbmVudF0sXG59KVxuZXhwb3J0IGNsYXNzIElucHV0U2NoZW1hTW9kYWwgZXh0ZW5kcyBDYW1CYXNlTW9kYWwge1xuICBwdWJsaWMgYXNrSW1hZ2UkID0gbmV3IFN1YmplY3Q8bnVsbD4oKTtcbiAgcHVibGljIGltYWdlUGF0aCA9XG4gICAgJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBK2dBQUFQb0FRTUFBQUIzYlVhbkFBQUFCbEJNVkVVQUFBRDgvdndualVGL0FBQUFBWFJTVGxNQVFPYllaZ0FBQUFsd1NGbHpBQUFPeEFBQURzUUJsU3NPR3dBQUFjVkpSRUZVZUp6dHpURUJBQUFNQWlEN2w5WVlPd1lGU0MvRmJyZmI3WGE3M1c2MzIrMTJ1OTF1dDl2dGRydmRicmZiN1hhNzNXNjMyKzEydTkxdXQ5dnRkcnZkYnJmYjdYYTczVzYzMisxMnU5MXV0OXZ0ZHJ2ZGJyZmI3WGE3M1c2MzIrMTJ1OTF1dDl2dGRydmRicmZiN1hhNzNXNjMyKzEydTkxdXQ5dnRkcnZkYnJmYjdYYTczVzYzMisxMnU5MXV0OXZ0ZHJ2ZGJyZmI3WGE3M1c2MzIrMTJ1OTF1dDl2dGRydmRicmZiN1hhNzNXNjMyKzEydTkxdXQ5dnRkcnZkYnJmYjdYYTczVzYzMisxMnU5MXV0OXZ0ZHJ2ZGJyZmI3WGE3M1c2MzIrMTJ1OTF1dDl2dGRydmRicmZiN1hhNzNXNjMyKzEydTkxdXQ5dnRkcnZkYnJmYjdYYTczVzYzMisxMnU5MXV0OXZ0ZHJ2ZGJyZmI3WGE3M1c2MzIrMTJ1OTF1dDl2dGRydmRicmZiN1hhNzNXNjMyKzEydTkxdXQ5dnRkcnZkYnJmYjdYYTczVzYzMisxMnU5MXV0OXZ0ZHJ2ZGJyZmI3WGE3M1c2MzIrMTJ1OTF1dDl2dGRydmRicmZiN1hhNzNXNjMyKzEydTkxdXQ5dnRkcnZkYnJmYjdYYTczVzYzMisxMnU5MXV0OXZ0ZHJ2ZGJyZmI3WGE3M1c2MzIrMTJ1OTF1dDl2dGRydmRicmZiN1hhNzNXNjMyKzEydTkxdXQ5dnRkcnZkYnJmYjdYYjdnMzJjTkh3emRsNXg0Z0FBQUFCSlJVNUVya0pnZ2c9PSc7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGRpYWxvZ1JlZjogTWF0RGlhbG9nUmVmPElucHV0U2NoZW1hTW9kYWwsIHsgZmlsZTogRmlsZVN0cnVjdHVyZSB9Pikge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmRpYWxvZ1JlZi5hZGRQYW5lbENsYXNzKFsnZnVsbC1zY3JlZW4tbW9kYWwnLCAnZWRpdC1tb2RlJ10pO1xuICB9XG5cbiAgcHVibGljIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XG4gIH07XG4gIHB1YmxpYyBzZWxlY3RlZCA9ICgpID0+IHtcbiAgICB0aGlzLmFza0ltYWdlJC5uZXh0KG51bGwpO1xuICB9O1xuICBwdWJsaWMgc2F2ZWRJbWFnZShibG9iOiBCbG9iKTogdm9pZCB7XG4gICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgbmV3R3VpZCgpLCB7IHR5cGU6IGJsb2IudHlwZSB9KTtcbiAgICB0aGlzLmRpYWxvZ1JlZi5jbG9zZSh7IGZpbGU6IHsgZmlsZSwgbG9jYWxVcmw6IHRoaXMuaW1hZ2VQYXRoIH0gfSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJlZGl0LXNjaGVtYS1jb250YWluZXJcIj5cbiAgPHRhLWZpbGVzLWVkaXRcbiAgICBbaW1hZ2VQYXRoXT1cInRoaXMuaW1hZ2VQYXRoXCJcbiAgICBbc2F2ZUltYWdlJF09XCJ0aGlzLmFza0ltYWdlJFwiXG4gICAgKHNhdmVkSW1hZ2UpPVwidGhpcy5zYXZlZEltYWdlKCRldmVudClcIlxuICA+PC90YS1maWxlcy1lZGl0PlxuPC9kaXY+XG4iXX0=