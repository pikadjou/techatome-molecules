import { Culture } from '@ta/utils';
import { InputDynamic } from './dynamic';
export class InputTranslation extends InputDynamic {
    constructor(options) {
        super(options);
        this.controlType = 'translation';
        this.firstRender = false;
        this.composedKeyForGroup = false;
        this.mainCulture = options.mainCulture ?? null;
    }
    add(culture) {
        super.add(culture);
    }
    createFormControl(group) {
        super.createFormControl(group);
        this._fill();
    }
    _fill() {
        if (this.mainCulture) {
            this.add(Culture[this.mainCulture]);
        }
        if (!this.value) {
            return;
        }
        for (const key of Object.keys(this.value)) {
            this.add(key);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL21vZGVscy9pbnB1dC90cmFuc2xhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRXBDLE9BQU8sRUFBaUIsWUFBWSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBTXhELE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxZQUFZO0lBR2hELFlBQVksT0FBMEI7UUFDcEMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFdBQVcsR0FBRyxhQUFhLENBQUM7UUFFakMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEtBQUssQ0FBQztRQUNqQyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDO0lBQ2pELENBQUM7SUFFZSxHQUFHLENBQUMsT0FBZTtRQUNqQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDZSxpQkFBaUIsQ0FBQyxLQUFnQjtRQUNoRCxLQUFLLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFL0IsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVPLEtBQUs7UUFDWCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN0QyxDQUFDO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNoQixPQUFPO1FBQ1QsQ0FBQztRQUNELEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUMxQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmltcG9ydCB7IEN1bHR1cmUgfSBmcm9tICdAdGEvdXRpbHMnO1xuXG5pbXBvcnQgeyBJSW5wdXREeW5hbWljLCBJbnB1dER5bmFtaWMgfSBmcm9tICcuL2R5bmFtaWMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElJbnB1dFRyYW5zbGF0aW9uIGV4dGVuZHMgSUlucHV0RHluYW1pYyB7XG4gIG1haW5DdWx0dXJlPzogQ3VsdHVyZTtcbn1cblxuZXhwb3J0IGNsYXNzIElucHV0VHJhbnNsYXRpb24gZXh0ZW5kcyBJbnB1dER5bmFtaWMge1xuICBtYWluQ3VsdHVyZTogQ3VsdHVyZSB8IG51bGw7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogSUlucHV0VHJhbnNsYXRpb24pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgICB0aGlzLmNvbnRyb2xUeXBlID0gJ3RyYW5zbGF0aW9uJztcblxuICAgIHRoaXMuZmlyc3RSZW5kZXIgPSBmYWxzZTtcbiAgICB0aGlzLmNvbXBvc2VkS2V5Rm9yR3JvdXAgPSBmYWxzZTtcbiAgICB0aGlzLm1haW5DdWx0dXJlID0gb3B0aW9ucy5tYWluQ3VsdHVyZSA/PyBudWxsO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIGFkZChjdWx0dXJlOiBzdHJpbmcpIHtcbiAgICBzdXBlci5hZGQoY3VsdHVyZSk7XG4gIH1cbiAgcHVibGljIG92ZXJyaWRlIGNyZWF0ZUZvcm1Db250cm9sKGdyb3VwOiBGb3JtR3JvdXApIHtcbiAgICBzdXBlci5jcmVhdGVGb3JtQ29udHJvbChncm91cCk7XG5cbiAgICB0aGlzLl9maWxsKCk7XG4gIH1cblxuICBwcml2YXRlIF9maWxsKCkge1xuICAgIGlmICh0aGlzLm1haW5DdWx0dXJlKSB7XG4gICAgICB0aGlzLmFkZChDdWx0dXJlW3RoaXMubWFpbkN1bHR1cmVdKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMudmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy52YWx1ZSkpIHtcbiAgICAgIHRoaXMuYWRkKGtleSk7XG4gICAgfVxuICB9XG59XG4iXX0=