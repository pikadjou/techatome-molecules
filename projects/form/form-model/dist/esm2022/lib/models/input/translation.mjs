import { Culture } from "@ta/utils";
import { InputDynamic } from "./dynamic";
export class InputTranslation extends InputDynamic {
    constructor(options) {
        super(options);
        this.controlType = "translation";
        this.firstRender = false;
        this.composedKeyForGroup = false;
        this.mainCulture = options.mainCulture ?? null;
    }
    add(culture) {
        super.add(culture);
    }
    createFormControl(group) {
        super.createFormControl(group);
        this._fill();
    }
    _fill() {
        if (this.mainCulture) {
            this.add(Culture[this.mainCulture]);
        }
        if (!this.value) {
            return;
        }
        for (const key of Object.keys(this.value)) {
            this.add(key);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL21vZGVscy9pbnB1dC90cmFuc2xhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRXBDLE9BQU8sRUFBaUIsWUFBWSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBTXhELE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxZQUFZO0lBR2hELFlBQVksT0FBMEI7UUFDcEMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2YsSUFBSSxDQUFDLFdBQVcsR0FBRyxhQUFhLENBQUM7UUFFakMsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDekIsSUFBSSxDQUFDLG1CQUFtQixHQUFHLEtBQUssQ0FBQztRQUNqQyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDO0lBQ2pELENBQUM7SUFFZSxHQUFHLENBQUMsT0FBZTtRQUNqQyxLQUFLLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDZSxpQkFBaUIsQ0FBQyxLQUFnQjtRQUNoRCxLQUFLLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFL0IsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUVPLEtBQUs7UUFDWCxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUN0QyxDQUFDO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNoQixPQUFPO1FBQ1QsQ0FBQztRQUNELEtBQUssTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQztZQUMxQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLENBQUM7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tIFwiQGFuZ3VsYXIvZm9ybXNcIjtcblxuaW1wb3J0IHsgQ3VsdHVyZSB9IGZyb20gXCJAdGEvdXRpbHNcIjtcblxuaW1wb3J0IHsgSUlucHV0RHluYW1pYywgSW5wdXREeW5hbWljIH0gZnJvbSBcIi4vZHluYW1pY1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElJbnB1dFRyYW5zbGF0aW9uIGV4dGVuZHMgSUlucHV0RHluYW1pYyB7XG4gIG1haW5DdWx0dXJlPzogQ3VsdHVyZTtcbn1cblxuZXhwb3J0IGNsYXNzIElucHV0VHJhbnNsYXRpb24gZXh0ZW5kcyBJbnB1dER5bmFtaWMge1xuICBtYWluQ3VsdHVyZTogQ3VsdHVyZSB8IG51bGw7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9uczogSUlucHV0VHJhbnNsYXRpb24pIHtcbiAgICBzdXBlcihvcHRpb25zKTtcbiAgICB0aGlzLmNvbnRyb2xUeXBlID0gXCJ0cmFuc2xhdGlvblwiO1xuXG4gICAgdGhpcy5maXJzdFJlbmRlciA9IGZhbHNlO1xuICAgIHRoaXMuY29tcG9zZWRLZXlGb3JHcm91cCA9IGZhbHNlO1xuICAgIHRoaXMubWFpbkN1bHR1cmUgPSBvcHRpb25zLm1haW5DdWx0dXJlID8/IG51bGw7XG4gIH1cblxuICBwdWJsaWMgb3ZlcnJpZGUgYWRkKGN1bHR1cmU6IHN0cmluZykge1xuICAgIHN1cGVyLmFkZChjdWx0dXJlKTtcbiAgfVxuICBwdWJsaWMgb3ZlcnJpZGUgY3JlYXRlRm9ybUNvbnRyb2woZ3JvdXA6IEZvcm1Hcm91cCkge1xuICAgIHN1cGVyLmNyZWF0ZUZvcm1Db250cm9sKGdyb3VwKTtcblxuICAgIHRoaXMuX2ZpbGwoKTtcbiAgfVxuXG4gIHByaXZhdGUgX2ZpbGwoKSB7XG4gICAgaWYgKHRoaXMubWFpbkN1bHR1cmUpIHtcbiAgICAgIHRoaXMuYWRkKEN1bHR1cmVbdGhpcy5tYWluQ3VsdHVyZV0pO1xuICAgIH1cblxuICAgIGlmICghdGhpcy52YWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLnZhbHVlKSkge1xuICAgICAgdGhpcy5hZGQoa2V5KTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==