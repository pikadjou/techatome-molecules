<div class="form-container">
  <form (ngSubmit)="onSubmit()" [formGroup]="this.form" class="flex-column g-space-sm">
    @for (input of this.inputs(); track trackByKey($index, input)) {
      <div>
        @if (input.visible$ | async) {
          <ta-inputs [input]="input"></ta-inputs>
        }
      </div>
    }
    <div>
      <ta-notification-inline [message]="this.error().message" [code]="this.error().status" class="my-space-sm">
        <ta-loader [isLoading]="this.loader()">
          @if (this.canDisplayButton() && this.buttonTitle()) {
            <ta-button
              class="justify-end"
              (action)="this.onSubmit()"
              [state]="!this.isValid() ? 'disabled' : 'classic'"
              icon="check-line"
            >
              {{ this.buttonTitle() | translate }}
            </ta-button>
          }
        </ta-loader>
      </ta-notification-inline>
    </div>
  </form>
</div>
