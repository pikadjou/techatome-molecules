<div>
  <div class="header">
    <h4>{{ input.label }}</h4>
  </div>

  <div *ngFor="let key of getKeys(); trackBy: trackByFn">
    @if (this.canRemove(key)) {
      <div class="remove-action">
        <ta-button class="remove-action" [style]="'danger'" (action)="remove(key)">
          <ta-local-icon [type]="this.icon.DeleteLight" size="xs"></ta-local-icon>
        </ta-button>
      </div>
    }

    <ng-container *ngFor="let input of this.getInputs(key); trackBy: trackInputByFn">
      @if (input) {
        <div [ngClass]="input.class">
          <ng-container
            [ngTemplateOutlet]="this.inputsTemplate"
            [ngTemplateOutletContext]="{
              input: input,
            }"
          >
          </ng-container>
        </div>
      }
    </ng-container>
  </div>
  <ta-button (action)="add()">{{ 'form.dynamic.add' | translate }}</ta-button>
</div>
