import { signal } from "@angular/core";
export class RequestState {
    constructor() {
        this.loading = signal(false);
        this.error = { status: -1, message: "" };
        this.alreadyAsked = false;
    }
    isLoading() {
        return this.loading();
    }
    getErrorStatus() {
        return this.error.status;
    }
    getErrorMessage() {
        return this.error.message;
    }
    clean() {
        this.alreadyAsked = false;
        this.loading.set(false);
        this.resetError();
    }
    asked() {
        this.alreadyAsked = true;
        this.loading.set(true);
        this.resetError();
    }
    completed() {
        this.loading.set(false);
    }
    resetError() {
        this.error = { status: -1, message: "" };
    }
    onError(status, message) {
        this.loading.set(false);
        this.error = { status, message };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvbGliL2hlbHBlcnMvcmVxdWVzdC9zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSXZDLE1BQU0sT0FBTyxZQUFZO0lBQXpCO1FBQ1MsWUFBTyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV4QixVQUFLLEdBQTBCLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUMzRCxpQkFBWSxHQUFHLEtBQUssQ0FBQztJQStCOUIsQ0FBQztJQTdCUSxTQUFTO1FBQ2QsT0FBTyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUNNLGNBQWM7UUFDbkIsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQztJQUMzQixDQUFDO0lBQ00sZUFBZTtRQUNwQixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQzVCLENBQUM7SUFDTSxLQUFLO1FBQ1YsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFDTSxLQUFLO1FBQ1YsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFDekIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3BCLENBQUM7SUFDTSxTQUFTO1FBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQztJQUNNLFVBQVU7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUMzQyxDQUFDO0lBQ00sT0FBTyxDQUFDLE1BQWMsRUFBRSxPQUFlO1FBQzVDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUM7SUFDbkMsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2lnbmFsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcblxuZXhwb3J0IHR5cGUgUmVxdWVzdHN0YXRlRXJyb3JUeXBlID0geyBzdGF0dXM6IG51bWJlcjsgbWVzc2FnZTogc3RyaW5nIH07XG5cbmV4cG9ydCBjbGFzcyBSZXF1ZXN0U3RhdGUge1xuICBwdWJsaWMgbG9hZGluZyA9IHNpZ25hbChmYWxzZSk7XG5cbiAgcHVibGljIGVycm9yOiBSZXF1ZXN0c3RhdGVFcnJvclR5cGUgPSB7IHN0YXR1czogLTEsIG1lc3NhZ2U6IFwiXCIgfTtcbiAgcHVibGljIGFscmVhZHlBc2tlZCA9IGZhbHNlO1xuXG4gIHB1YmxpYyBpc0xvYWRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9hZGluZygpO1xuICB9XG4gIHB1YmxpYyBnZXRFcnJvclN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5lcnJvci5zdGF0dXM7XG4gIH1cbiAgcHVibGljIGdldEVycm9yTWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5lcnJvci5tZXNzYWdlO1xuICB9XG4gIHB1YmxpYyBjbGVhbigpIHtcbiAgICB0aGlzLmFscmVhZHlBc2tlZCA9IGZhbHNlO1xuICAgIHRoaXMubG9hZGluZy5zZXQoZmFsc2UpO1xuICAgIHRoaXMucmVzZXRFcnJvcigpO1xuICB9XG4gIHB1YmxpYyBhc2tlZCgpIHtcbiAgICB0aGlzLmFscmVhZHlBc2tlZCA9IHRydWU7XG4gICAgdGhpcy5sb2FkaW5nLnNldCh0cnVlKTtcbiAgICB0aGlzLnJlc2V0RXJyb3IoKTtcbiAgfVxuICBwdWJsaWMgY29tcGxldGVkKCkge1xuICAgIHRoaXMubG9hZGluZy5zZXQoZmFsc2UpO1xuICB9XG4gIHB1YmxpYyByZXNldEVycm9yKCkge1xuICAgIHRoaXMuZXJyb3IgPSB7IHN0YXR1czogLTEsIG1lc3NhZ2U6IFwiXCIgfTtcbiAgfVxuICBwdWJsaWMgb25FcnJvcihzdGF0dXM6IG51bWJlciwgbWVzc2FnZTogc3RyaW5nKSB7XG4gICAgdGhpcy5sb2FkaW5nLnNldChmYWxzZSk7XG4gICAgdGhpcy5lcnJvciA9IHsgc3RhdHVzLCBtZXNzYWdlIH07XG4gIH1cbn1cbiJdfQ==