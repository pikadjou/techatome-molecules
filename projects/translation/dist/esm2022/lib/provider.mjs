import { APP_INITIALIZER, LOCALE_ID } from '@angular/core';
import { TranslateLoader, provideTranslateService } from '@ngx-translate/core';
import { CamTranslationLoader } from './services/translation.loader';
import { CamTranslationService, TRANSLATION_CONFIG } from './services/translation.service';
export function HttpLoaderFactory() {
    return new CamTranslationLoader();
}
export function initTranslation(service) {
    const fn = () => service.init();
    return fn;
}
export const provideTranslation = (data) => [
    provideTranslateService({
        loader: {
            provide: TranslateLoader,
            useClass: CamTranslationLoader,
        },
    }),
    {
        provide: LOCALE_ID,
        deps: [CamTranslationService],
        useFactory: (TranslationService) => TranslationService.getLanguage(),
    },
    {
        provide: APP_INITIALIZER,
        useFactory: initTranslation,
        deps: [CamTranslationService],
        multi: true,
    },
    {
        provide: TRANSLATION_CONFIG,
        useValue: {
            default: data.default,
            supportedLanguages: data.supportedLanguages,
        },
    },
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3Byb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBRXJFLE9BQU8sRUFBRSxlQUFlLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUUvRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNyRSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUUzRixNQUFNLFVBQVUsaUJBQWlCO0lBQy9CLE9BQU8sSUFBSSxvQkFBb0IsRUFBRSxDQUFDO0FBQ3BDLENBQUM7QUFDRCxNQUFNLFVBQVUsZUFBZSxDQUFDLE9BQThCO0lBQzVELE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQyxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLElBQXVELEVBQVksRUFBRSxDQUFDO0lBQ3ZHLHVCQUF1QixDQUFDO1FBQ3RCLE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRSxlQUFlO1lBQ3hCLFFBQVEsRUFBRSxvQkFBb0I7U0FDL0I7S0FDRixDQUFDO0lBQ0Y7UUFDRSxPQUFPLEVBQUUsU0FBUztRQUNsQixJQUFJLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQztRQUM3QixVQUFVLEVBQUUsQ0FBQyxrQkFBeUMsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQUMsV0FBVyxFQUFFO0tBQzVGO0lBQ0Q7UUFDRSxPQUFPLEVBQUUsZUFBZTtRQUN4QixVQUFVLEVBQUUsZUFBZTtRQUMzQixJQUFJLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQztRQUM3QixLQUFLLEVBQUUsSUFBSTtLQUNaO0lBQ0Q7UUFDRSxPQUFPLEVBQUUsa0JBQWtCO1FBQzNCLFFBQVEsRUFBRTtZQUNSLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztZQUNyQixrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCO1NBQzVDO0tBQ0Y7Q0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVBQX0lOSVRJQUxJWkVSLCBMT0NBTEVfSUQsIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBUcmFuc2xhdGVMb2FkZXIsIHByb3ZpZGVUcmFuc2xhdGVTZXJ2aWNlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBDYW1UcmFuc2xhdGlvbkxvYWRlciB9IGZyb20gJy4vc2VydmljZXMvdHJhbnNsYXRpb24ubG9hZGVyJztcclxuaW1wb3J0IHsgQ2FtVHJhbnNsYXRpb25TZXJ2aWNlLCBUUkFOU0xBVElPTl9DT05GSUcgfSBmcm9tICcuL3NlcnZpY2VzL3RyYW5zbGF0aW9uLnNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEh0dHBMb2FkZXJGYWN0b3J5KCkge1xyXG4gIHJldHVybiBuZXcgQ2FtVHJhbnNsYXRpb25Mb2FkZXIoKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFRyYW5zbGF0aW9uKHNlcnZpY2U6IENhbVRyYW5zbGF0aW9uU2VydmljZSkge1xyXG4gIGNvbnN0IGZuID0gKCkgPT4gc2VydmljZS5pbml0KCk7XHJcbiAgcmV0dXJuIGZuO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgcHJvdmlkZVRyYW5zbGF0aW9uID0gKGRhdGE6IHsgZGVmYXVsdDogc3RyaW5nOyBzdXBwb3J0ZWRMYW5ndWFnZXM6IHN0cmluZ1tdIH0pOiBQcm92aWRlciA9PiBbXHJcbiAgcHJvdmlkZVRyYW5zbGF0ZVNlcnZpY2Uoe1xyXG4gICAgbG9hZGVyOiB7XHJcbiAgICAgIHByb3ZpZGU6IFRyYW5zbGF0ZUxvYWRlcixcclxuICAgICAgdXNlQ2xhc3M6IENhbVRyYW5zbGF0aW9uTG9hZGVyLFxyXG4gICAgfSxcclxuICB9KSxcclxuICB7XHJcbiAgICBwcm92aWRlOiBMT0NBTEVfSUQsXHJcbiAgICBkZXBzOiBbQ2FtVHJhbnNsYXRpb25TZXJ2aWNlXSxcclxuICAgIHVzZUZhY3Rvcnk6IChUcmFuc2xhdGlvblNlcnZpY2U6IENhbVRyYW5zbGF0aW9uU2VydmljZSkgPT4gVHJhbnNsYXRpb25TZXJ2aWNlLmdldExhbmd1YWdlKCksXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXHJcbiAgICB1c2VGYWN0b3J5OiBpbml0VHJhbnNsYXRpb24sXHJcbiAgICBkZXBzOiBbQ2FtVHJhbnNsYXRpb25TZXJ2aWNlXSxcclxuICAgIG11bHRpOiB0cnVlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgcHJvdmlkZTogVFJBTlNMQVRJT05fQ09ORklHLFxyXG4gICAgdXNlVmFsdWU6IHtcclxuICAgICAgZGVmYXVsdDogZGF0YS5kZWZhdWx0LFxyXG4gICAgICBzdXBwb3J0ZWRMYW5ndWFnZXM6IGRhdGEuc3VwcG9ydGVkTGFuZ3VhZ2VzLFxyXG4gICAgfSxcclxuICB9LFxyXG5dO1xyXG4iXX0=