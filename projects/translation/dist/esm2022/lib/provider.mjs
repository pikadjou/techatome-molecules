import { APP_INITIALIZER, LOCALE_ID } from '@angular/core';
import { TranslateLoader, provideTranslateService } from '@ngx-translate/core';
import { TaTranslationLoader } from './services/translation.loader';
import { TRANSLATION_SOURCE_CONFIG, TranslationSourceType } from './services/translation-source.config';
import { TRANSLATION_CONFIG, TaTranslationService } from './services/translation.service';
export function HttpLoaderFactory() {
    return new TaTranslationLoader();
}
export function initTranslation(service) {
    const fn = () => service.init();
    return fn;
}
export const provideTranslation = (data) => [
    provideTranslateService({
        loader: {
            provide: TranslateLoader,
            useClass: TaTranslationLoader,
        },
    }),
    {
        provide: LOCALE_ID,
        deps: [TaTranslationService],
        useFactory: (TranslationService) => TranslationService.getLanguage(),
    },
    {
        provide: APP_INITIALIZER,
        useFactory: initTranslation,
        deps: [TaTranslationService],
        multi: true,
    },
    {
        provide: TRANSLATION_CONFIG,
        useValue: {
            default: data.default,
            supportedLanguages: data.supportedLanguages,
        },
    },
    {
        provide: TRANSLATION_SOURCE_CONFIG,
        useValue: data.source ?? {
            type: TranslationSourceType.GRAPHQL,
        },
    },
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3Byb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBRXJFLE9BQU8sRUFBRSxlQUFlLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUUvRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUseUJBQXlCLEVBQTRCLHFCQUFxQixFQUFFLE1BQU0sc0NBQXNDLENBQUM7QUFDbEksT0FBTyxFQUFFLGtCQUFrQixFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFFMUYsTUFBTSxVQUFVLGlCQUFpQjtJQUMvQixPQUFPLElBQUksbUJBQW1CLEVBQUUsQ0FBQztBQUNuQyxDQUFDO0FBQ0QsTUFBTSxVQUFVLGVBQWUsQ0FBQyxPQUE2QjtJQUMzRCxNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEMsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDO0FBUUQsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxJQUErQixFQUFZLEVBQUUsQ0FBQztJQUMvRSx1QkFBdUIsQ0FBQztRQUN0QixNQUFNLEVBQUU7WUFDTixPQUFPLEVBQUUsZUFBZTtZQUN4QixRQUFRLEVBQUUsbUJBQW1CO1NBQzlCO0tBQ0YsQ0FBQztJQUNGO1FBQ0UsT0FBTyxFQUFFLFNBQVM7UUFDbEIsSUFBSSxFQUFFLENBQUMsb0JBQW9CLENBQUM7UUFDNUIsVUFBVSxFQUFFLENBQUMsa0JBQXdDLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUFDLFdBQVcsRUFBRTtLQUMzRjtJQUNEO1FBQ0UsT0FBTyxFQUFFLGVBQWU7UUFDeEIsVUFBVSxFQUFFLGVBQWU7UUFDM0IsSUFBSSxFQUFFLENBQUMsb0JBQW9CLENBQUM7UUFDNUIsS0FBSyxFQUFFLElBQUk7S0FDWjtJQUNEO1FBQ0UsT0FBTyxFQUFFLGtCQUFrQjtRQUMzQixRQUFRLEVBQUU7WUFDUixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87WUFDckIsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGtCQUFrQjtTQUM1QztLQUNGO0lBQ0Q7UUFDRSxPQUFPLEVBQUUseUJBQXlCO1FBQ2xDLFFBQVEsRUFBRSxJQUFJLENBQUMsTUFBTSxJQUFJO1lBQ3ZCLElBQUksRUFBRSxxQkFBcUIsQ0FBQyxPQUFPO1NBQ3BDO0tBQ0Y7Q0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVBQX0lOSVRJQUxJWkVSLCBMT0NBTEVfSUQsIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBUcmFuc2xhdGVMb2FkZXIsIHByb3ZpZGVUcmFuc2xhdGVTZXJ2aWNlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBUYVRyYW5zbGF0aW9uTG9hZGVyIH0gZnJvbSAnLi9zZXJ2aWNlcy90cmFuc2xhdGlvbi5sb2FkZXInO1xyXG5pbXBvcnQgeyBUUkFOU0xBVElPTl9TT1VSQ0VfQ09ORklHLCBJVHJhbnNsYXRpb25Tb3VyY2VDb25maWcsIFRyYW5zbGF0aW9uU291cmNlVHlwZSB9IGZyb20gJy4vc2VydmljZXMvdHJhbnNsYXRpb24tc291cmNlLmNvbmZpZyc7XHJcbmltcG9ydCB7IFRSQU5TTEFUSU9OX0NPTkZJRywgVGFUcmFuc2xhdGlvblNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL3RyYW5zbGF0aW9uLnNlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEh0dHBMb2FkZXJGYWN0b3J5KCkge1xyXG4gIHJldHVybiBuZXcgVGFUcmFuc2xhdGlvbkxvYWRlcigpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0VHJhbnNsYXRpb24oc2VydmljZTogVGFUcmFuc2xhdGlvblNlcnZpY2UpIHtcclxuICBjb25zdCBmbiA9ICgpID0+IHNlcnZpY2UuaW5pdCgpO1xyXG4gIHJldHVybiBmbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUHJvdmlkZVRyYW5zbGF0aW9uQ29uZmlnIHtcclxuICBkZWZhdWx0OiBzdHJpbmc7XHJcbiAgc3VwcG9ydGVkTGFuZ3VhZ2VzOiBzdHJpbmdbXTtcclxuICBzb3VyY2U/OiBJVHJhbnNsYXRpb25Tb3VyY2VDb25maWc7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwcm92aWRlVHJhbnNsYXRpb24gPSAoZGF0YTogSVByb3ZpZGVUcmFuc2xhdGlvbkNvbmZpZyk6IFByb3ZpZGVyID0+IFtcclxuICBwcm92aWRlVHJhbnNsYXRlU2VydmljZSh7XHJcbiAgICBsb2FkZXI6IHtcclxuICAgICAgcHJvdmlkZTogVHJhbnNsYXRlTG9hZGVyLFxyXG4gICAgICB1c2VDbGFzczogVGFUcmFuc2xhdGlvbkxvYWRlcixcclxuICAgIH0sXHJcbiAgfSksXHJcbiAge1xyXG4gICAgcHJvdmlkZTogTE9DQUxFX0lELFxyXG4gICAgZGVwczogW1RhVHJhbnNsYXRpb25TZXJ2aWNlXSxcclxuICAgIHVzZUZhY3Rvcnk6IChUcmFuc2xhdGlvblNlcnZpY2U6IFRhVHJhbnNsYXRpb25TZXJ2aWNlKSA9PiBUcmFuc2xhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2UoKSxcclxuICB9LFxyXG4gIHtcclxuICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcclxuICAgIHVzZUZhY3Rvcnk6IGluaXRUcmFuc2xhdGlvbixcclxuICAgIGRlcHM6IFtUYVRyYW5zbGF0aW9uU2VydmljZV0sXHJcbiAgICBtdWx0aTogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIHByb3ZpZGU6IFRSQU5TTEFUSU9OX0NPTkZJRyxcclxuICAgIHVzZVZhbHVlOiB7XHJcbiAgICAgIGRlZmF1bHQ6IGRhdGEuZGVmYXVsdCxcclxuICAgICAgc3VwcG9ydGVkTGFuZ3VhZ2VzOiBkYXRhLnN1cHBvcnRlZExhbmd1YWdlcyxcclxuICAgIH0sXHJcbiAgfSxcclxuICB7XHJcbiAgICBwcm92aWRlOiBUUkFOU0xBVElPTl9TT1VSQ0VfQ09ORklHLFxyXG4gICAgdXNlVmFsdWU6IGRhdGEuc291cmNlID8/IHtcclxuICAgICAgdHlwZTogVHJhbnNsYXRpb25Tb3VyY2VUeXBlLkdSQVBIUUwsXHJcbiAgICB9LFxyXG4gIH0sXHJcbl07XHJcbiJdfQ==