import { APP_INITIALIZER, LOCALE_ID } from "@angular/core";
import { TranslateLoader, provideTranslateService } from "@ngx-translate/core";
import { TaTranslationLoader } from "./services/translation.loader";
import { TRANSLATION_SOURCE_CONFIG, TranslationSourceType, } from "./services/translation-source.config";
import { TRANSLATION_CONFIG, TaTranslationService, } from "./services/translation.service";
export function HttpLoaderFactory() {
    return new TaTranslationLoader();
}
export function initTranslation(service) {
    const fn = () => service.init();
    return fn;
}
export const provideTranslation = (data) => [
    provideTranslateService({
        loader: {
            provide: TranslateLoader,
            useClass: TaTranslationLoader,
        },
    }),
    {
        provide: LOCALE_ID,
        deps: [TaTranslationService],
        useFactory: (TranslationService) => TranslationService.getLanguage(),
    },
    {
        provide: APP_INITIALIZER,
        useFactory: initTranslation,
        deps: [TaTranslationService],
        multi: true,
    },
    {
        provide: TRANSLATION_CONFIG,
        useValue: {
            default: data.default,
            supportedLanguages: data.supportedLanguages,
        },
    },
    {
        provide: TRANSLATION_SOURCE_CONFIG,
        useValue: data.source ?? {
            type: TranslationSourceType.GRAPHQL,
        },
    },
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3Byb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBRXJFLE9BQU8sRUFBRSxlQUFlLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUUvRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNwRSxPQUFPLEVBQ0wseUJBQXlCLEVBRXpCLHFCQUFxQixHQUN0QixNQUFNLHNDQUFzQyxDQUFDO0FBQzlDLE9BQU8sRUFDTCxrQkFBa0IsRUFDbEIsb0JBQW9CLEdBQ3JCLE1BQU0sZ0NBQWdDLENBQUM7QUFFeEMsTUFBTSxVQUFVLGlCQUFpQjtJQUMvQixPQUFPLElBQUksbUJBQW1CLEVBQUUsQ0FBQztBQUNuQyxDQUFDO0FBQ0QsTUFBTSxVQUFVLGVBQWUsQ0FBQyxPQUE2QjtJQUMzRCxNQUFNLEVBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDaEMsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDO0FBUUQsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FDaEMsSUFBK0IsRUFDckIsRUFBRSxDQUFDO0lBQ2IsdUJBQXVCLENBQUM7UUFDdEIsTUFBTSxFQUFFO1lBQ04sT0FBTyxFQUFFLGVBQWU7WUFDeEIsUUFBUSxFQUFFLG1CQUFtQjtTQUM5QjtLQUNGLENBQUM7SUFDRjtRQUNFLE9BQU8sRUFBRSxTQUFTO1FBQ2xCLElBQUksRUFBRSxDQUFDLG9CQUFvQixDQUFDO1FBQzVCLFVBQVUsRUFBRSxDQUFDLGtCQUF3QyxFQUFFLEVBQUUsQ0FDdkQsa0JBQWtCLENBQUMsV0FBVyxFQUFFO0tBQ25DO0lBQ0Q7UUFDRSxPQUFPLEVBQUUsZUFBZTtRQUN4QixVQUFVLEVBQUUsZUFBZTtRQUMzQixJQUFJLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQztRQUM1QixLQUFLLEVBQUUsSUFBSTtLQUNaO0lBQ0Q7UUFDRSxPQUFPLEVBQUUsa0JBQWtCO1FBQzNCLFFBQVEsRUFBRTtZQUNSLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztZQUNyQixrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCO1NBQzVDO0tBQ0Y7SUFDRDtRQUNFLE9BQU8sRUFBRSx5QkFBeUI7UUFDbEMsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNLElBQUk7WUFDdkIsSUFBSSxFQUFFLHFCQUFxQixDQUFDLE9BQU87U0FDcEM7S0FDRjtDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBUFBfSU5JVElBTElaRVIsIExPQ0FMRV9JRCwgUHJvdmlkZXIgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5pbXBvcnQgeyBUcmFuc2xhdGVMb2FkZXIsIHByb3ZpZGVUcmFuc2xhdGVTZXJ2aWNlIH0gZnJvbSBcIkBuZ3gtdHJhbnNsYXRlL2NvcmVcIjtcblxuaW1wb3J0IHsgVGFUcmFuc2xhdGlvbkxvYWRlciB9IGZyb20gXCIuL3NlcnZpY2VzL3RyYW5zbGF0aW9uLmxvYWRlclwiO1xuaW1wb3J0IHtcbiAgVFJBTlNMQVRJT05fU09VUkNFX0NPTkZJRyxcbiAgSVRyYW5zbGF0aW9uU291cmNlQ29uZmlnLFxuICBUcmFuc2xhdGlvblNvdXJjZVR5cGUsXG59IGZyb20gXCIuL3NlcnZpY2VzL3RyYW5zbGF0aW9uLXNvdXJjZS5jb25maWdcIjtcbmltcG9ydCB7XG4gIFRSQU5TTEFUSU9OX0NPTkZJRyxcbiAgVGFUcmFuc2xhdGlvblNlcnZpY2UsXG59IGZyb20gXCIuL3NlcnZpY2VzL3RyYW5zbGF0aW9uLnNlcnZpY2VcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEh0dHBMb2FkZXJGYWN0b3J5KCkge1xuICByZXR1cm4gbmV3IFRhVHJhbnNsYXRpb25Mb2FkZXIoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbml0VHJhbnNsYXRpb24oc2VydmljZTogVGFUcmFuc2xhdGlvblNlcnZpY2UpIHtcbiAgY29uc3QgZm4gPSAoKSA9PiBzZXJ2aWNlLmluaXQoKTtcbiAgcmV0dXJuIGZuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElQcm92aWRlVHJhbnNsYXRpb25Db25maWcge1xuICBkZWZhdWx0OiBzdHJpbmc7XG4gIHN1cHBvcnRlZExhbmd1YWdlczogc3RyaW5nW107XG4gIHNvdXJjZT86IElUcmFuc2xhdGlvblNvdXJjZUNvbmZpZztcbn1cblxuZXhwb3J0IGNvbnN0IHByb3ZpZGVUcmFuc2xhdGlvbiA9IChcbiAgZGF0YTogSVByb3ZpZGVUcmFuc2xhdGlvbkNvbmZpZ1xuKTogUHJvdmlkZXIgPT4gW1xuICBwcm92aWRlVHJhbnNsYXRlU2VydmljZSh7XG4gICAgbG9hZGVyOiB7XG4gICAgICBwcm92aWRlOiBUcmFuc2xhdGVMb2FkZXIsXG4gICAgICB1c2VDbGFzczogVGFUcmFuc2xhdGlvbkxvYWRlcixcbiAgICB9LFxuICB9KSxcbiAge1xuICAgIHByb3ZpZGU6IExPQ0FMRV9JRCxcbiAgICBkZXBzOiBbVGFUcmFuc2xhdGlvblNlcnZpY2VdLFxuICAgIHVzZUZhY3Rvcnk6IChUcmFuc2xhdGlvblNlcnZpY2U6IFRhVHJhbnNsYXRpb25TZXJ2aWNlKSA9PlxuICAgICAgVHJhbnNsYXRpb25TZXJ2aWNlLmdldExhbmd1YWdlKCksXG4gIH0sXG4gIHtcbiAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXG4gICAgdXNlRmFjdG9yeTogaW5pdFRyYW5zbGF0aW9uLFxuICAgIGRlcHM6IFtUYVRyYW5zbGF0aW9uU2VydmljZV0sXG4gICAgbXVsdGk6IHRydWUsXG4gIH0sXG4gIHtcbiAgICBwcm92aWRlOiBUUkFOU0xBVElPTl9DT05GSUcsXG4gICAgdXNlVmFsdWU6IHtcbiAgICAgIGRlZmF1bHQ6IGRhdGEuZGVmYXVsdCxcbiAgICAgIHN1cHBvcnRlZExhbmd1YWdlczogZGF0YS5zdXBwb3J0ZWRMYW5ndWFnZXMsXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIHByb3ZpZGU6IFRSQU5TTEFUSU9OX1NPVVJDRV9DT05GSUcsXG4gICAgdXNlVmFsdWU6IGRhdGEuc291cmNlID8/IHtcbiAgICAgIHR5cGU6IFRyYW5zbGF0aW9uU291cmNlVHlwZS5HUkFQSFFMLFxuICAgIH0sXG4gIH0sXG5dO1xuIl19