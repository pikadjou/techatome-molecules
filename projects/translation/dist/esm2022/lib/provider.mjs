import { APP_INITIALIZER, LOCALE_ID } from '@angular/core';
import { TranslateLoader, provideTranslateService } from '@ngx-translate/core';
import { TaTranslationLoader } from './services/translation.loader';
import { TRANSLATION_CONFIG, TaTranslationService } from './services/translation.service';
export function HttpLoaderFactory() {
    return new TaTranslationLoader();
}
export function initTranslation(service) {
    const fn = () => service.init();
    return fn;
}
export const provideTranslation = (data) => [
    provideTranslateService({
        loader: {
            provide: TranslateLoader,
            useClass: TaTranslationLoader,
        },
    }),
    {
        provide: LOCALE_ID,
        deps: [TaTranslationService],
        useFactory: (TranslationService) => TranslationService.getLanguage(),
    },
    {
        provide: APP_INITIALIZER,
        useFactory: initTranslation,
        deps: [TaTranslationService],
        multi: true,
    },
    {
        provide: TRANSLATION_CONFIG,
        useValue: {
            default: data.default,
            supportedLanguages: data.supportedLanguages,
        },
    },
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3Byb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQUUsU0FBUyxFQUFZLE1BQU0sZUFBZSxDQUFDO0FBRXJFLE9BQU8sRUFBRSxlQUFlLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUUvRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQztBQUNwRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUUxRixNQUFNLFVBQVUsaUJBQWlCO0lBQy9CLE9BQU8sSUFBSSxtQkFBbUIsRUFBRSxDQUFDO0FBQ25DLENBQUM7QUFDRCxNQUFNLFVBQVUsZUFBZSxDQUFDLE9BQTZCO0lBQzNELE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQyxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLElBQXVELEVBQVksRUFBRSxDQUFDO0lBQ3ZHLHVCQUF1QixDQUFDO1FBQ3RCLE1BQU0sRUFBRTtZQUNOLE9BQU8sRUFBRSxlQUFlO1lBQ3hCLFFBQVEsRUFBRSxtQkFBbUI7U0FDOUI7S0FDRixDQUFDO0lBQ0Y7UUFDRSxPQUFPLEVBQUUsU0FBUztRQUNsQixJQUFJLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQztRQUM1QixVQUFVLEVBQUUsQ0FBQyxrQkFBd0MsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQUMsV0FBVyxFQUFFO0tBQzNGO0lBQ0Q7UUFDRSxPQUFPLEVBQUUsZUFBZTtRQUN4QixVQUFVLEVBQUUsZUFBZTtRQUMzQixJQUFJLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQztRQUM1QixLQUFLLEVBQUUsSUFBSTtLQUNaO0lBQ0Q7UUFDRSxPQUFPLEVBQUUsa0JBQWtCO1FBQzNCLFFBQVEsRUFBRTtZQUNSLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztZQUNyQixrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCO1NBQzVDO0tBQ0Y7Q0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVBQX0lOSVRJQUxJWkVSLCBMT0NBTEVfSUQsIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBUcmFuc2xhdGVMb2FkZXIsIHByb3ZpZGVUcmFuc2xhdGVTZXJ2aWNlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XHJcblxyXG5pbXBvcnQgeyBUYVRyYW5zbGF0aW9uTG9hZGVyIH0gZnJvbSAnLi9zZXJ2aWNlcy90cmFuc2xhdGlvbi5sb2FkZXInO1xyXG5pbXBvcnQgeyBUUkFOU0xBVElPTl9DT05GSUcsIFRhVHJhbnNsYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy90cmFuc2xhdGlvbi5zZXJ2aWNlJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBIdHRwTG9hZGVyRmFjdG9yeSgpIHtcclxuICByZXR1cm4gbmV3IFRhVHJhbnNsYXRpb25Mb2FkZXIoKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFRyYW5zbGF0aW9uKHNlcnZpY2U6IFRhVHJhbnNsYXRpb25TZXJ2aWNlKSB7XHJcbiAgY29uc3QgZm4gPSAoKSA9PiBzZXJ2aWNlLmluaXQoKTtcclxuICByZXR1cm4gZm47XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBwcm92aWRlVHJhbnNsYXRpb24gPSAoZGF0YTogeyBkZWZhdWx0OiBzdHJpbmc7IHN1cHBvcnRlZExhbmd1YWdlczogc3RyaW5nW10gfSk6IFByb3ZpZGVyID0+IFtcclxuICBwcm92aWRlVHJhbnNsYXRlU2VydmljZSh7XHJcbiAgICBsb2FkZXI6IHtcclxuICAgICAgcHJvdmlkZTogVHJhbnNsYXRlTG9hZGVyLFxyXG4gICAgICB1c2VDbGFzczogVGFUcmFuc2xhdGlvbkxvYWRlcixcclxuICAgIH0sXHJcbiAgfSksXHJcbiAge1xyXG4gICAgcHJvdmlkZTogTE9DQUxFX0lELFxyXG4gICAgZGVwczogW1RhVHJhbnNsYXRpb25TZXJ2aWNlXSxcclxuICAgIHVzZUZhY3Rvcnk6IChUcmFuc2xhdGlvblNlcnZpY2U6IFRhVHJhbnNsYXRpb25TZXJ2aWNlKSA9PiBUcmFuc2xhdGlvblNlcnZpY2UuZ2V0TGFuZ3VhZ2UoKSxcclxuICB9LFxyXG4gIHtcclxuICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcclxuICAgIHVzZUZhY3Rvcnk6IGluaXRUcmFuc2xhdGlvbixcclxuICAgIGRlcHM6IFtUYVRyYW5zbGF0aW9uU2VydmljZV0sXHJcbiAgICBtdWx0aTogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIHByb3ZpZGU6IFRSQU5TTEFUSU9OX0NPTkZJRyxcclxuICAgIHVzZVZhbHVlOiB7XHJcbiAgICAgIGRlZmF1bHQ6IGRhdGEuZGVmYXVsdCxcclxuICAgICAgc3VwcG9ydGVkTGFuZ3VhZ2VzOiBkYXRhLnN1cHBvcnRlZExhbmd1YWdlcyxcclxuICAgIH0sXHJcbiAgfSxcclxuXTtcclxuIl19