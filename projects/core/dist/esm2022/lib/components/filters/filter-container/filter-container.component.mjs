import { Component, EventEmitter, Output, input } from "@angular/core";
import { Subject } from "rxjs";
import { FormComponent } from "@ta/form-basic";
import { FontIconComponent } from "@ta/icons";
import { TranslatePipe } from "@ta/translation";
import { ButtonComponent, LayoutSideComponent, LayoutSideContentComponent, LayoutSideCtaComponent, LinkComponent, } from "@ta/ui";
import { TaBaseComponent } from "@ta/utils";
import * as i0 from "@angular/core";
export class FilterContainerComponent extends TaBaseComponent {
    constructor() {
        super();
        this.form = input([]);
        this.filtersSelected = new EventEmitter();
        this.isFilterOpen = false;
        this.askValidation$ = new Subject();
        this.askClear$ = new Subject();
    }
    ngOnInit() {
        if (this.askClear$) {
            this._registerSubscription(this.askClear$.subscribe((_) => this.clear()));
        }
    }
    apply(data) {
        this.filtersSelected.emit(data);
    }
    clear() {
        this.filtersSelected.emit(null);
    }
    validate() {
        this.askValidation$.next(null);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FilterContainerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.1.0", version: "18.2.14", type: FilterContainerComponent, isStandalone: true, selector: "ta-filter-container", inputs: { form: { classPropertyName: "form", publicName: "form", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { filtersSelected: "filtersSelected" }, usesInheritance: true, ngImport: i0, template: "<ta-layout-side class=\"d-flex full-width\">\n  <ta-layout-side-content>\n    <div class=\"m-space-sm\">\n      <ta-form\n        [inputs]=\"this.form()\"\n        [canDisplayButton]=\"false\"\n        [askValidation$]=\"this.askValidation$\"\n        (valid)=\"this.apply($event)\"\n      ></ta-form>\n    </div>\n  </ta-layout-side-content>\n  <ta-layout-side-cta>\n    <div class=\"align-center space-between\">\n      <div class=\"pr-space-md\">\n        <div class=\"align-center g-space-xs link\">\n          <ta-font-icon name=\"close-tool\" type=\"sm\"></ta-font-icon>\n          <ta-link class=\"c-pointer\" (action)=\"this.clear()\">\n            {{ \"core.filter.clear\" | translate }}\n          </ta-link>\n        </div>\n      </div>\n      <div>\n        <ta-button (action)=\"this.validate()\">\n          <div class=\"align-center m-space-xs\">\n            <ta-font-icon name=\"check-line\"></ta-font-icon>\n            {{ \"core.filter.validate\" | translate }}\n          </div>\n        </ta-button>\n      </div>\n    </div>\n  </ta-layout-side-cta>\n</ta-layout-side>\n", styles: [".link{color:var(--ta-text-secondary)}\n"], dependencies: [{ kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: LinkComponent, selector: "ta-link", inputs: ["state", "underline", "bold", "size", "icon"], outputs: ["action"] }, { kind: "component", type: LayoutSideComponent, selector: "ta-layout-side" }, { kind: "component", type: LayoutSideContentComponent, selector: "ta-layout-side-content" }, { kind: "component", type: FormComponent, selector: "ta-form", inputs: ["inputs", "askValidation$", "askOnDestroy", "loader", "error", "border", "canDisplayButton", "buttonTitle", "onLive"], outputs: ["valid", "isFormValid"] }, { kind: "component", type: LayoutSideCtaComponent, selector: "ta-layout-side-cta", inputs: ["background"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "pipe", type: TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FilterContainerComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-filter-container", standalone: true, imports: [
                        FontIconComponent,
                        LinkComponent,
                        LayoutSideComponent,
                        LayoutSideContentComponent,
                        FormComponent,
                        LayoutSideCtaComponent,
                        ButtonComponent,
                        TranslatePipe,
                    ], template: "<ta-layout-side class=\"d-flex full-width\">\n  <ta-layout-side-content>\n    <div class=\"m-space-sm\">\n      <ta-form\n        [inputs]=\"this.form()\"\n        [canDisplayButton]=\"false\"\n        [askValidation$]=\"this.askValidation$\"\n        (valid)=\"this.apply($event)\"\n      ></ta-form>\n    </div>\n  </ta-layout-side-content>\n  <ta-layout-side-cta>\n    <div class=\"align-center space-between\">\n      <div class=\"pr-space-md\">\n        <div class=\"align-center g-space-xs link\">\n          <ta-font-icon name=\"close-tool\" type=\"sm\"></ta-font-icon>\n          <ta-link class=\"c-pointer\" (action)=\"this.clear()\">\n            {{ \"core.filter.clear\" | translate }}\n          </ta-link>\n        </div>\n      </div>\n      <div>\n        <ta-button (action)=\"this.validate()\">\n          <div class=\"align-center m-space-xs\">\n            <ta-font-icon name=\"check-line\"></ta-font-icon>\n            {{ \"core.filter.validate\" | translate }}\n          </div>\n        </ta-button>\n      </div>\n    </div>\n  </ta-layout-side-cta>\n</ta-layout-side>\n", styles: [".link{color:var(--ta-text-secondary)}\n"] }]
        }], ctorParameters: () => [], propDecorators: { filtersSelected: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWNvbnRhaW5lci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvZmlsdGVycy9maWx0ZXItY29udGFpbmVyL2ZpbHRlci1jb250YWluZXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL2ZpbHRlcnMvZmlsdGVyLWNvbnRhaW5lci9maWx0ZXItY29udGFpbmVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFVLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0UsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUUvQixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFL0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQ0wsZUFBZSxFQUNmLG1CQUFtQixFQUNuQiwwQkFBMEIsRUFDMUIsc0JBQXNCLEVBQ3RCLGFBQWEsR0FDZCxNQUFNLFFBQVEsQ0FBQztBQUNoQixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sV0FBVyxDQUFDOztBQWtCNUMsTUFBTSxPQUFPLHdCQUNYLFNBQVEsZUFBZTtJQWF2QjtRQUNFLEtBQUssRUFBRSxDQUFDO1FBWFYsU0FBSSxHQUFHLEtBQUssQ0FBbUIsRUFBRSxDQUFDLENBQUM7UUFHbkMsb0JBQWUsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO1FBRW5DLGlCQUFZLEdBQUcsS0FBSyxDQUFDO1FBRXJCLG1CQUFjLEdBQUcsSUFBSSxPQUFPLEVBQVEsQ0FBQztRQUNyQyxjQUFTLEdBQUcsSUFBSSxPQUFPLEVBQVEsQ0FBQztJQUl2QyxDQUFDO0lBRUQsUUFBUTtRQUNOLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ25CLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM1RSxDQUFDO0lBQ0gsQ0FBQztJQUVNLEtBQUssQ0FBQyxJQUFTO1FBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFTSxLQUFLO1FBQ1YsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVNLFFBQVE7UUFDYixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNqQyxDQUFDOytHQWxDVSx3QkFBd0I7bUdBQXhCLHdCQUF3Qix3UkNqQ3JDLHVrQ0FnQ0EsaUdEVEksaUJBQWlCLG1GQUNqQixhQUFhLGlJQUNiLG1CQUFtQiwyREFDbkIsMEJBQTBCLG1FQUMxQixhQUFhLHVOQUNiLHNCQUFzQix1RkFDdEIsZUFBZSx5SkFDZixhQUFhOzs0RkFHSix3QkFBd0I7a0JBaEJwQyxTQUFTOytCQUNFLHFCQUFxQixjQUduQixJQUFJLFdBQ1A7d0JBQ1AsaUJBQWlCO3dCQUNqQixhQUFhO3dCQUNiLG1CQUFtQjt3QkFDbkIsMEJBQTBCO3dCQUMxQixhQUFhO3dCQUNiLHNCQUFzQjt3QkFDdEIsZUFBZTt3QkFDZixhQUFhO3FCQUNkO3dEQVNELGVBQWU7c0JBRGQsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIE91dHB1dCwgaW5wdXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcblxuaW1wb3J0IHsgRm9ybUNvbXBvbmVudCB9IGZyb20gXCJAdGEvZm9ybS1iYXNpY1wiO1xuaW1wb3J0IHsgSW5wdXRCYXNlIH0gZnJvbSBcIkB0YS9mb3JtLW1vZGVsXCI7XG5pbXBvcnQgeyBGb250SWNvbkNvbXBvbmVudCB9IGZyb20gXCJAdGEvaWNvbnNcIjtcbmltcG9ydCB7IFRyYW5zbGF0ZVBpcGUgfSBmcm9tIFwiQHRhL3RyYW5zbGF0aW9uXCI7XG5pbXBvcnQge1xuICBCdXR0b25Db21wb25lbnQsXG4gIExheW91dFNpZGVDb21wb25lbnQsXG4gIExheW91dFNpZGVDb250ZW50Q29tcG9uZW50LFxuICBMYXlvdXRTaWRlQ3RhQ29tcG9uZW50LFxuICBMaW5rQ29tcG9uZW50LFxufSBmcm9tIFwiQHRhL3VpXCI7XG5pbXBvcnQgeyBUYUJhc2VDb21wb25lbnQgfSBmcm9tIFwiQHRhL3V0aWxzXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogXCJ0YS1maWx0ZXItY29udGFpbmVyXCIsXG4gIHRlbXBsYXRlVXJsOiBcIi4vZmlsdGVyLWNvbnRhaW5lci5jb21wb25lbnQuaHRtbFwiLFxuICBzdHlsZVVybHM6IFtcIi4vZmlsdGVyLWNvbnRhaW5lci5jb21wb25lbnQuc2Nzc1wiXSxcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcbiAgaW1wb3J0czogW1xuICAgIEZvbnRJY29uQ29tcG9uZW50LFxuICAgIExpbmtDb21wb25lbnQsXG4gICAgTGF5b3V0U2lkZUNvbXBvbmVudCxcbiAgICBMYXlvdXRTaWRlQ29udGVudENvbXBvbmVudCxcbiAgICBGb3JtQ29tcG9uZW50LFxuICAgIExheW91dFNpZGVDdGFDb21wb25lbnQsXG4gICAgQnV0dG9uQ29tcG9uZW50LFxuICAgIFRyYW5zbGF0ZVBpcGUsXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIEZpbHRlckNvbnRhaW5lckNvbXBvbmVudFxuICBleHRlbmRzIFRhQmFzZUNvbXBvbmVudFxuICBpbXBsZW1lbnRzIE9uSW5pdFxue1xuICBmb3JtID0gaW5wdXQ8SW5wdXRCYXNlPGFueT5bXT4oW10pO1xuXG4gIEBPdXRwdXQoKVxuICBmaWx0ZXJzU2VsZWN0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBwdWJsaWMgaXNGaWx0ZXJPcGVuID0gZmFsc2U7XG5cbiAgcHVibGljIGFza1ZhbGlkYXRpb24kID0gbmV3IFN1YmplY3Q8bnVsbD4oKTtcbiAgcHVibGljIGFza0NsZWFyJCA9IG5ldyBTdWJqZWN0PG51bGw+KCk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFza0NsZWFyJCkge1xuICAgICAgdGhpcy5fcmVnaXN0ZXJTdWJzY3JpcHRpb24odGhpcy5hc2tDbGVhciQuc3Vic2NyaWJlKChfKSA9PiB0aGlzLmNsZWFyKCkpKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXBwbHkoZGF0YTogYW55KSB7XG4gICAgdGhpcy5maWx0ZXJzU2VsZWN0ZWQuZW1pdChkYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyBjbGVhcigpIHtcbiAgICB0aGlzLmZpbHRlcnNTZWxlY3RlZC5lbWl0KG51bGwpO1xuICB9XG5cbiAgcHVibGljIHZhbGlkYXRlKCkge1xuICAgIHRoaXMuYXNrVmFsaWRhdGlvbiQubmV4dChudWxsKTtcbiAgfVxufVxuIiwiPHRhLWxheW91dC1zaWRlIGNsYXNzPVwiZC1mbGV4IGZ1bGwtd2lkdGhcIj5cbiAgPHRhLWxheW91dC1zaWRlLWNvbnRlbnQ+XG4gICAgPGRpdiBjbGFzcz1cIm0tc3BhY2Utc21cIj5cbiAgICAgIDx0YS1mb3JtXG4gICAgICAgIFtpbnB1dHNdPVwidGhpcy5mb3JtKClcIlxuICAgICAgICBbY2FuRGlzcGxheUJ1dHRvbl09XCJmYWxzZVwiXG4gICAgICAgIFthc2tWYWxpZGF0aW9uJF09XCJ0aGlzLmFza1ZhbGlkYXRpb24kXCJcbiAgICAgICAgKHZhbGlkKT1cInRoaXMuYXBwbHkoJGV2ZW50KVwiXG4gICAgICA+PC90YS1mb3JtPlxuICAgIDwvZGl2PlxuICA8L3RhLWxheW91dC1zaWRlLWNvbnRlbnQ+XG4gIDx0YS1sYXlvdXQtc2lkZS1jdGE+XG4gICAgPGRpdiBjbGFzcz1cImFsaWduLWNlbnRlciBzcGFjZS1iZXR3ZWVuXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicHItc3BhY2UtbWRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImFsaWduLWNlbnRlciBnLXNwYWNlLXhzIGxpbmtcIj5cbiAgICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJjbG9zZS10b29sXCIgdHlwZT1cInNtXCI+PC90YS1mb250LWljb24+XG4gICAgICAgICAgPHRhLWxpbmsgY2xhc3M9XCJjLXBvaW50ZXJcIiAoYWN0aW9uKT1cInRoaXMuY2xlYXIoKVwiPlxuICAgICAgICAgICAge3sgXCJjb3JlLmZpbHRlci5jbGVhclwiIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgPC90YS1saW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdj5cbiAgICAgICAgPHRhLWJ1dHRvbiAoYWN0aW9uKT1cInRoaXMudmFsaWRhdGUoKVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbGlnbi1jZW50ZXIgbS1zcGFjZS14c1wiPlxuICAgICAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwiY2hlY2stbGluZVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICAgICAge3sgXCJjb3JlLmZpbHRlci52YWxpZGF0ZVwiIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvdGEtYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvdGEtbGF5b3V0LXNpZGUtY3RhPlxuPC90YS1sYXlvdXQtc2lkZT5cbiJdfQ==