import { Component, EventEmitter, Output, input } from '@angular/core';
import { Subject } from 'rxjs';
import { FormComponent } from '@ta/form-basic';
import { FontIconComponent } from '@ta/icons';
import { TranslatePipe } from '@ta/translation';
import { ButtonComponent, LayoutSideComponent, LayoutSideContentComponent, LayoutSideCtaComponent, LinkComponent, } from '@ta/ui';
import { TaBaseComponent } from '@ta/utils';
import { TaTranslationCore } from '../../../translation.service';
import * as i0 from "@angular/core";
export class FilterContainerComponent extends TaBaseComponent {
    constructor() {
        super();
        this.form = input([]);
        this.filtersSelected = new EventEmitter();
        this.isFilterOpen = false;
        this.askValidation$ = new Subject();
        this.askClear$ = new Subject();
        TaTranslationCore.getInstance();
    }
    ngOnInit() {
        if (this.askClear$) {
            this._registerSubscription(this.askClear$.subscribe(_ => this.clear()));
        }
    }
    apply(data) {
        this.filtersSelected.emit(data);
    }
    clear() {
        this.filtersSelected.emit(null);
    }
    validate() {
        this.askValidation$.next(null);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FilterContainerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.1.0", version: "18.2.14", type: FilterContainerComponent, isStandalone: true, selector: "ta-filter-container", inputs: { form: { classPropertyName: "form", publicName: "form", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { filtersSelected: "filtersSelected" }, usesInheritance: true, ngImport: i0, template: "<ta-layout-side class=\"flex-full\">\n  <ta-layout-side-content>\n    <div class=\"m-space-sm\">\n      <ta-form\n        [inputs]=\"this.form()\"\n        [canDisplayButton]=\"false\"\n        [askValidation$]=\"this.askValidation$\"\n        (valid)=\"this.apply($event)\"\n      ></ta-form>\n    </div>\n  </ta-layout-side-content>\n  <ta-layout-side-cta>\n    <div class=\"align-center space-between\">\n      <div class=\"pr-space-md\">\n        <div class=\"align-center g-space-xs link\">\n          <ta-font-icon name=\"close-tool\" type=\"sm\"></ta-font-icon>\n          <ta-link class=\"c-pointer\" (action)=\"this.clear()\">\n            {{ 'core.filter.clear' | translate }}\n          </ta-link>\n        </div>\n      </div>\n      <div>\n        <ta-button (action)=\"this.validate()\">\n          <div class=\"align-center m-space-xs\">\n            <ta-font-icon name=\"check-line\"></ta-font-icon>\n            {{ 'core.filter.validate' | translate }}\n          </div>\n        </ta-button>\n      </div>\n    </div>\n  </ta-layout-side-cta>\n</ta-layout-side>\n", styles: [".link{color:var(--ta-text-secondary)}\n"], dependencies: [{ kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: LinkComponent, selector: "ta-link", inputs: ["state", "underline", "bold", "size", "icon"], outputs: ["action"] }, { kind: "component", type: LayoutSideComponent, selector: "ta-layout-side" }, { kind: "component", type: LayoutSideContentComponent, selector: "ta-layout-side-content" }, { kind: "component", type: FormComponent, selector: "ta-form", inputs: ["inputs", "askValidation$", "askOnDestroy", "loader", "error", "border", "canDisplayButton", "buttonTitle", "onLive"], outputs: ["valid", "isFormValid"] }, { kind: "component", type: LayoutSideCtaComponent, selector: "ta-layout-side-cta", inputs: ["background"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "pipe", type: TranslatePipe, name: "translate" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FilterContainerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-filter-container', standalone: true, imports: [
                        FontIconComponent,
                        LinkComponent,
                        LayoutSideComponent,
                        LayoutSideContentComponent,
                        FormComponent,
                        LayoutSideCtaComponent,
                        ButtonComponent,
                        TranslatePipe,
                    ], template: "<ta-layout-side class=\"flex-full\">\n  <ta-layout-side-content>\n    <div class=\"m-space-sm\">\n      <ta-form\n        [inputs]=\"this.form()\"\n        [canDisplayButton]=\"false\"\n        [askValidation$]=\"this.askValidation$\"\n        (valid)=\"this.apply($event)\"\n      ></ta-form>\n    </div>\n  </ta-layout-side-content>\n  <ta-layout-side-cta>\n    <div class=\"align-center space-between\">\n      <div class=\"pr-space-md\">\n        <div class=\"align-center g-space-xs link\">\n          <ta-font-icon name=\"close-tool\" type=\"sm\"></ta-font-icon>\n          <ta-link class=\"c-pointer\" (action)=\"this.clear()\">\n            {{ 'core.filter.clear' | translate }}\n          </ta-link>\n        </div>\n      </div>\n      <div>\n        <ta-button (action)=\"this.validate()\">\n          <div class=\"align-center m-space-xs\">\n            <ta-font-icon name=\"check-line\"></ta-font-icon>\n            {{ 'core.filter.validate' | translate }}\n          </div>\n        </ta-button>\n      </div>\n    </div>\n  </ta-layout-side-cta>\n</ta-layout-side>\n", styles: [".link{color:var(--ta-text-secondary)}\n"] }]
        }], ctorParameters: () => [], propDecorators: { filtersSelected: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVyLWNvbnRhaW5lci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL2NvbXBvbmVudHMvZmlsdGVycy9maWx0ZXItY29udGFpbmVyL2ZpbHRlci1jb250YWluZXIuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL2ZpbHRlcnMvZmlsdGVyLWNvbnRhaW5lci9maWx0ZXItY29udGFpbmVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsWUFBWSxFQUFVLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0UsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUUvQixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFL0MsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQ0wsZUFBZSxFQUNmLG1CQUFtQixFQUNuQiwwQkFBMEIsRUFDMUIsc0JBQXNCLEVBQ3RCLGFBQWEsR0FDZCxNQUFNLFFBQVEsQ0FBQztBQUNoQixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBRTVDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLDhCQUE4QixDQUFDOztBQWtCakUsTUFBTSxPQUFPLHdCQUF5QixTQUFRLGVBQWU7SUFXM0Q7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQVhWLFNBQUksR0FBRyxLQUFLLENBQW1CLEVBQUUsQ0FBQyxDQUFDO1FBR25DLG9CQUFlLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUVuQyxpQkFBWSxHQUFHLEtBQUssQ0FBQztRQUVyQixtQkFBYyxHQUFHLElBQUksT0FBTyxFQUFRLENBQUM7UUFDckMsY0FBUyxHQUFHLElBQUksT0FBTyxFQUFRLENBQUM7UUFJckMsaUJBQWlCLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNuQixJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzFFLENBQUM7SUFDSCxDQUFDO0lBRU0sS0FBSyxDQUFDLElBQVM7UUFDcEIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVNLEtBQUs7UUFDVixJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRU0sUUFBUTtRQUNiLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pDLENBQUM7K0dBaENVLHdCQUF3QjttR0FBeEIsd0JBQXdCLHdSQ25DckMsMmpDQWdDQSxpR0RQSSxpQkFBaUIsbUZBQ2pCLGFBQWEsaUlBQ2IsbUJBQW1CLDJEQUNuQiwwQkFBMEIsbUVBQzFCLGFBQWEsdU5BQ2Isc0JBQXNCLHVGQUN0QixlQUFlLHlKQUNmLGFBQWE7OzRGQUdKLHdCQUF3QjtrQkFoQnBDLFNBQVM7K0JBQ0UscUJBQXFCLGNBR25CLElBQUksV0FDUDt3QkFDUCxpQkFBaUI7d0JBQ2pCLGFBQWE7d0JBQ2IsbUJBQW1CO3dCQUNuQiwwQkFBMEI7d0JBQzFCLGFBQWE7d0JBQ2Isc0JBQXNCO3dCQUN0QixlQUFlO3dCQUNmLGFBQWE7cUJBQ2Q7d0RBTUQsZUFBZTtzQkFEZCxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIE9uSW5pdCwgT3V0cHV0LCBpbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbmltcG9ydCB7IEZvcm1Db21wb25lbnQgfSBmcm9tICdAdGEvZm9ybS1iYXNpYyc7XG5pbXBvcnQgeyBJbnB1dEJhc2UgfSBmcm9tICdAdGEvZm9ybS1tb2RlbCc7XG5pbXBvcnQgeyBGb250SWNvbkNvbXBvbmVudCB9IGZyb20gJ0B0YS9pY29ucyc7XG5pbXBvcnQgeyBUcmFuc2xhdGVQaXBlIH0gZnJvbSAnQHRhL3RyYW5zbGF0aW9uJztcbmltcG9ydCB7XG4gIEJ1dHRvbkNvbXBvbmVudCxcbiAgTGF5b3V0U2lkZUNvbXBvbmVudCxcbiAgTGF5b3V0U2lkZUNvbnRlbnRDb21wb25lbnQsXG4gIExheW91dFNpZGVDdGFDb21wb25lbnQsXG4gIExpbmtDb21wb25lbnQsXG59IGZyb20gJ0B0YS91aSc7XG5pbXBvcnQgeyBUYUJhc2VDb21wb25lbnQgfSBmcm9tICdAdGEvdXRpbHMnO1xuXG5pbXBvcnQgeyBUYVRyYW5zbGF0aW9uQ29yZSB9IGZyb20gJy4uLy4uLy4uL3RyYW5zbGF0aW9uLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd0YS1maWx0ZXItY29udGFpbmVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2ZpbHRlci1jb250YWluZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9maWx0ZXItY29udGFpbmVyLmNvbXBvbmVudC5zY3NzJ10sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBGb250SWNvbkNvbXBvbmVudCxcbiAgICBMaW5rQ29tcG9uZW50LFxuICAgIExheW91dFNpZGVDb21wb25lbnQsXG4gICAgTGF5b3V0U2lkZUNvbnRlbnRDb21wb25lbnQsXG4gICAgRm9ybUNvbXBvbmVudCxcbiAgICBMYXlvdXRTaWRlQ3RhQ29tcG9uZW50LFxuICAgIEJ1dHRvbkNvbXBvbmVudCxcbiAgICBUcmFuc2xhdGVQaXBlLFxuICBdLFxufSlcbmV4cG9ydCBjbGFzcyBGaWx0ZXJDb250YWluZXJDb21wb25lbnQgZXh0ZW5kcyBUYUJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBmb3JtID0gaW5wdXQ8SW5wdXRCYXNlPGFueT5bXT4oW10pO1xuXG4gIEBPdXRwdXQoKVxuICBmaWx0ZXJzU2VsZWN0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBwdWJsaWMgaXNGaWx0ZXJPcGVuID0gZmFsc2U7XG5cbiAgcHVibGljIGFza1ZhbGlkYXRpb24kID0gbmV3IFN1YmplY3Q8bnVsbD4oKTtcbiAgcHVibGljIGFza0NsZWFyJCA9IG5ldyBTdWJqZWN0PG51bGw+KCk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBUYVRyYW5zbGF0aW9uQ29yZS5nZXRJbnN0YW5jZSgpO1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYXNrQ2xlYXIkKSB7XG4gICAgICB0aGlzLl9yZWdpc3RlclN1YnNjcmlwdGlvbih0aGlzLmFza0NsZWFyJC5zdWJzY3JpYmUoXyA9PiB0aGlzLmNsZWFyKCkpKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgYXBwbHkoZGF0YTogYW55KSB7XG4gICAgdGhpcy5maWx0ZXJzU2VsZWN0ZWQuZW1pdChkYXRhKTtcbiAgfVxuXG4gIHB1YmxpYyBjbGVhcigpIHtcbiAgICB0aGlzLmZpbHRlcnNTZWxlY3RlZC5lbWl0KG51bGwpO1xuICB9XG5cbiAgcHVibGljIHZhbGlkYXRlKCkge1xuICAgIHRoaXMuYXNrVmFsaWRhdGlvbiQubmV4dChudWxsKTtcbiAgfVxufVxuIiwiPHRhLWxheW91dC1zaWRlIGNsYXNzPVwiZmxleC1mdWxsXCI+XG4gIDx0YS1sYXlvdXQtc2lkZS1jb250ZW50PlxuICAgIDxkaXYgY2xhc3M9XCJtLXNwYWNlLXNtXCI+XG4gICAgICA8dGEtZm9ybVxuICAgICAgICBbaW5wdXRzXT1cInRoaXMuZm9ybSgpXCJcbiAgICAgICAgW2NhbkRpc3BsYXlCdXR0b25dPVwiZmFsc2VcIlxuICAgICAgICBbYXNrVmFsaWRhdGlvbiRdPVwidGhpcy5hc2tWYWxpZGF0aW9uJFwiXG4gICAgICAgICh2YWxpZCk9XCJ0aGlzLmFwcGx5KCRldmVudClcIlxuICAgICAgPjwvdGEtZm9ybT5cbiAgICA8L2Rpdj5cbiAgPC90YS1sYXlvdXQtc2lkZS1jb250ZW50PlxuICA8dGEtbGF5b3V0LXNpZGUtY3RhPlxuICAgIDxkaXYgY2xhc3M9XCJhbGlnbi1jZW50ZXIgc3BhY2UtYmV0d2VlblwiPlxuICAgICAgPGRpdiBjbGFzcz1cInByLXNwYWNlLW1kXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbGlnbi1jZW50ZXIgZy1zcGFjZS14cyBsaW5rXCI+XG4gICAgICAgICAgPHRhLWZvbnQtaWNvbiBuYW1lPVwiY2xvc2UtdG9vbFwiIHR5cGU9XCJzbVwiPjwvdGEtZm9udC1pY29uPlxuICAgICAgICAgIDx0YS1saW5rIGNsYXNzPVwiYy1wb2ludGVyXCIgKGFjdGlvbik9XCJ0aGlzLmNsZWFyKClcIj5cbiAgICAgICAgICAgIHt7ICdjb3JlLmZpbHRlci5jbGVhcicgfCB0cmFuc2xhdGUgfX1cbiAgICAgICAgICA8L3RhLWxpbms+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2PlxuICAgICAgICA8dGEtYnV0dG9uIChhY3Rpb24pPVwidGhpcy52YWxpZGF0ZSgpXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFsaWduLWNlbnRlciBtLXNwYWNlLXhzXCI+XG4gICAgICAgICAgICA8dGEtZm9udC1pY29uIG5hbWU9XCJjaGVjay1saW5lXCI+PC90YS1mb250LWljb24+XG4gICAgICAgICAgICB7eyAnY29yZS5maWx0ZXIudmFsaWRhdGUnIHwgdHJhbnNsYXRlIH19XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvdGEtYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvdGEtbGF5b3V0LXNpZGUtY3RhPlxuPC90YS1sYXlvdXQtc2lkZT5cbiJdfQ==