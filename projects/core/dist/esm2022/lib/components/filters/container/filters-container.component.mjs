import { NgIf } from "@angular/common";
import { Component, EventEmitter, Output, input } from "@angular/core";
import { Subject } from "rxjs";
import { FontIconComponent } from "@ta/icons";
import { LayoutContentComponent, LayoutPanelComponent, LayoutWithPanelComponent, LinkComponent, } from "@ta/ui";
import { TaBaseComponent } from "@ta/utils";
import { FiltersFormComponent } from "../form/filters-form.component";
import { FiltersTagComponent } from "../tag/filters-tag.component";
import * as i0 from "@angular/core";
export class FiltersContainerComponent extends TaBaseComponent {
    constructor() {
        super();
        this.form = input([]);
        this.activeFilter = input([]);
        this.filtersSelected = new EventEmitter();
        this.removedFilter = new EventEmitter();
        this.isFilterOpen = false;
        this.askValidation$ = new Subject();
    }
    toggleFilter() {
        if (this.isFilterOpen) {
            this.askValidation$.next(null);
        }
        this.isFilterOpen = !this.isFilterOpen;
    }
    apply(data) {
        this.filtersSelected.emit(data);
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FiltersContainerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.14", type: FiltersContainerComponent, isStandalone: true, selector: "ta-filters-container", inputs: { form: { classPropertyName: "form", publicName: "form", isSignal: true, isRequired: false, transformFunction: null }, activeFilter: { classPropertyName: "activeFilter", publicName: "activeFilter", isSignal: true, isRequired: false, transformFunction: null } }, outputs: { filtersSelected: "filtersSelected", removedFilter: "removedFilter" }, usesInheritance: true, ngImport: i0, template: "<div class=\"space-between p-space-sm\">\n  @if (this.activeFilter()) {\n  <div>\n    <ta-filters-tag\n      [activeFilter]=\"this.activeFilter()\"\n      (removedFilter)=\"this.removedFilter.emit($event)\"\n    ></ta-filters-tag>\n  </div>\n  }\n  <div>\n    <ta-link (action)=\"this.toggleFilter()\">\n      <ta-font-icon\n        [name]=\"this.isFilterOpen ? 'check-line' : 'filter-tool'\"\n      ></ta-font-icon>\n    </ta-link>\n  </div>\n</div>\n<div>\n  <ta-layout-with-panel [open]=\"this.isFilterOpen\">\n    <ta-layout-panel>\n      <div class=\"p-space-sm\">\n        <ta-filters-form\n          [form]=\"this.form()\"\n          [askValidation$]=\"this.askValidation$\"\n          (filtersSelected)=\"this.apply($event)\"\n        ></ta-filters-form>\n      </div>\n    </ta-layout-panel>\n    <ta-layout-content>\n      <ng-content></ng-content>\n    </ta-layout-content>\n  </ta-layout-with-panel>\n</div>\n", styles: [""], dependencies: [{ kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: LayoutWithPanelComponent, selector: "ta-layout-with-panel", inputs: ["open"] }, { kind: "component", type: LayoutPanelComponent, selector: "ta-layout-panel" }, { kind: "component", type: FiltersFormComponent, selector: "ta-filters-form", inputs: ["form", "askValidation$"], outputs: ["filtersSelected"] }, { kind: "component", type: LayoutContentComponent, selector: "ta-layout-content", inputs: ["autoHeight"] }, { kind: "component", type: FiltersTagComponent, selector: "ta-filters-tag", inputs: ["activeFilter"], outputs: ["removedFilter"] }, { kind: "component", type: LinkComponent, selector: "ta-link", inputs: ["state", "underline", "bold", "size", "icon"], outputs: ["action"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.14", ngImport: i0, type: FiltersContainerComponent, decorators: [{
            type: Component,
            args: [{ selector: "ta-filters-container", standalone: true, imports: [
                        NgIf,
                        FontIconComponent,
                        LayoutWithPanelComponent,
                        LayoutPanelComponent,
                        FiltersFormComponent,
                        LayoutContentComponent,
                        FiltersTagComponent,
                        LinkComponent,
                    ], template: "<div class=\"space-between p-space-sm\">\n  @if (this.activeFilter()) {\n  <div>\n    <ta-filters-tag\n      [activeFilter]=\"this.activeFilter()\"\n      (removedFilter)=\"this.removedFilter.emit($event)\"\n    ></ta-filters-tag>\n  </div>\n  }\n  <div>\n    <ta-link (action)=\"this.toggleFilter()\">\n      <ta-font-icon\n        [name]=\"this.isFilterOpen ? 'check-line' : 'filter-tool'\"\n      ></ta-font-icon>\n    </ta-link>\n  </div>\n</div>\n<div>\n  <ta-layout-with-panel [open]=\"this.isFilterOpen\">\n    <ta-layout-panel>\n      <div class=\"p-space-sm\">\n        <ta-filters-form\n          [form]=\"this.form()\"\n          [askValidation$]=\"this.askValidation$\"\n          (filtersSelected)=\"this.apply($event)\"\n        ></ta-filters-form>\n      </div>\n    </ta-layout-panel>\n    <ta-layout-content>\n      <ng-content></ng-content>\n    </ta-layout-content>\n  </ta-layout-with-panel>\n</div>\n" }]
        }], ctorParameters: () => [], propDecorators: { filtersSelected: [{
                type: Output
            }], removedFilter: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVycy1jb250YWluZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9jb21wb25lbnRzL2ZpbHRlcnMvY29udGFpbmVyL2ZpbHRlcnMtY29udGFpbmVyLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9saWIvY29tcG9uZW50cy9maWx0ZXJzL2NvbnRhaW5lci9maWx0ZXJzLWNvbnRhaW5lci5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUV2RSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRy9CLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUM5QyxPQUFPLEVBQ0wsc0JBQXNCLEVBQ3RCLG9CQUFvQixFQUNwQix3QkFBd0IsRUFDeEIsYUFBYSxHQUNkLE1BQU0sUUFBUSxDQUFDO0FBQ2hCLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFNUMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDdEUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sOEJBQThCLENBQUM7O0FBbUJuRSxNQUFNLE9BQU8seUJBQTBCLFNBQVEsZUFBZTtJQWM1RDtRQUNFLEtBQUssRUFBRSxDQUFDO1FBZFYsU0FBSSxHQUFHLEtBQUssQ0FBbUIsRUFBRSxDQUFDLENBQUM7UUFFbkMsaUJBQVksR0FBRyxLQUFLLENBQW9CLEVBQUUsQ0FBQyxDQUFDO1FBRzVDLG9CQUFlLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUcxQyxrQkFBYSxHQUFHLElBQUksWUFBWSxFQUFtQixDQUFDO1FBRTdDLGlCQUFZLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLG1CQUFjLEdBQUcsSUFBSSxPQUFPLEVBQVEsQ0FBQztJQUk1QyxDQUFDO0lBRU0sWUFBWTtRQUNqQixJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUN0QixJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQyxDQUFDO1FBQ0QsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDekMsQ0FBQztJQUVNLEtBQUssQ0FBQyxJQUFTO1FBQ3BCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xDLENBQUM7K0dBM0JVLHlCQUF5QjttR0FBekIseUJBQXlCLHNjQ25DdEMsMjVCQWlDQSwwRERQSSxpQkFBaUIsbUZBQ2pCLHdCQUF3QixtRkFDeEIsb0JBQW9CLDREQUNwQixvQkFBb0IsOEhBQ3BCLHNCQUFzQixzRkFDdEIsbUJBQW1CLGlIQUNuQixhQUFhOzs0RkFHSix5QkFBeUI7a0JBaEJyQyxTQUFTOytCQUNFLHNCQUFzQixjQUdwQixJQUFJLFdBQ1A7d0JBQ1AsSUFBSTt3QkFDSixpQkFBaUI7d0JBQ2pCLHdCQUF3Qjt3QkFDeEIsb0JBQW9CO3dCQUNwQixvQkFBb0I7d0JBQ3BCLHNCQUFzQjt3QkFDdEIsbUJBQW1CO3dCQUNuQixhQUFhO3FCQUNkO3dEQVFELGVBQWU7c0JBRGQsTUFBTTtnQkFJUCxhQUFhO3NCQURaLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZ0lmIH0gZnJvbSBcIkBhbmd1bGFyL2NvbW1vblwiO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIE91dHB1dCwgaW5wdXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSBcInJ4anNcIjtcblxuaW1wb3J0IHsgSW5wdXRCYXNlIH0gZnJvbSBcIkB0YS9mb3JtLW1vZGVsXCI7XG5pbXBvcnQgeyBGb250SWNvbkNvbXBvbmVudCB9IGZyb20gXCJAdGEvaWNvbnNcIjtcbmltcG9ydCB7XG4gIExheW91dENvbnRlbnRDb21wb25lbnQsXG4gIExheW91dFBhbmVsQ29tcG9uZW50LFxuICBMYXlvdXRXaXRoUGFuZWxDb21wb25lbnQsXG4gIExpbmtDb21wb25lbnQsXG59IGZyb20gXCJAdGEvdWlcIjtcbmltcG9ydCB7IFRhQmFzZUNvbXBvbmVudCB9IGZyb20gXCJAdGEvdXRpbHNcIjtcblxuaW1wb3J0IHsgRmlsdGVyc0Zvcm1Db21wb25lbnQgfSBmcm9tIFwiLi4vZm9ybS9maWx0ZXJzLWZvcm0uY29tcG9uZW50XCI7XG5pbXBvcnQgeyBGaWx0ZXJzVGFnQ29tcG9uZW50IH0gZnJvbSBcIi4uL3RhZy9maWx0ZXJzLXRhZy5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFjdGl2ZUZpbHRlclRhZyB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6IFwidGEtZmlsdGVycy1jb250YWluZXJcIixcbiAgdGVtcGxhdGVVcmw6IFwiLi9maWx0ZXJzLWNvbnRhaW5lci5jb21wb25lbnQuaHRtbFwiLFxuICBzdHlsZVVybHM6IFtcIi4vZmlsdGVycy1jb250YWluZXIuY29tcG9uZW50LnNjc3NcIl0sXG4gIHN0YW5kYWxvbmU6IHRydWUsXG4gIGltcG9ydHM6IFtcbiAgICBOZ0lmLFxuICAgIEZvbnRJY29uQ29tcG9uZW50LFxuICAgIExheW91dFdpdGhQYW5lbENvbXBvbmVudCxcbiAgICBMYXlvdXRQYW5lbENvbXBvbmVudCxcbiAgICBGaWx0ZXJzRm9ybUNvbXBvbmVudCxcbiAgICBMYXlvdXRDb250ZW50Q29tcG9uZW50LFxuICAgIEZpbHRlcnNUYWdDb21wb25lbnQsXG4gICAgTGlua0NvbXBvbmVudCxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgRmlsdGVyc0NvbnRhaW5lckNvbXBvbmVudCBleHRlbmRzIFRhQmFzZUNvbXBvbmVudCB7XG4gIGZvcm0gPSBpbnB1dDxJbnB1dEJhc2U8YW55PltdPihbXSk7XG5cbiAgYWN0aXZlRmlsdGVyID0gaW5wdXQ8QWN0aXZlRmlsdGVyVGFnW10+KFtdKTtcblxuICBAT3V0cHV0KClcbiAgZmlsdGVyc1NlbGVjdGVkID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQE91dHB1dCgpXG4gIHJlbW92ZWRGaWx0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPEFjdGl2ZUZpbHRlclRhZz4oKTtcblxuICBwdWJsaWMgaXNGaWx0ZXJPcGVuID0gZmFsc2U7XG4gIHB1YmxpYyBhc2tWYWxpZGF0aW9uJCA9IG5ldyBTdWJqZWN0PG51bGw+KCk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyB0b2dnbGVGaWx0ZXIoKSB7XG4gICAgaWYgKHRoaXMuaXNGaWx0ZXJPcGVuKSB7XG4gICAgICB0aGlzLmFza1ZhbGlkYXRpb24kLm5leHQobnVsbCk7XG4gICAgfVxuICAgIHRoaXMuaXNGaWx0ZXJPcGVuID0gIXRoaXMuaXNGaWx0ZXJPcGVuO1xuICB9XG5cbiAgcHVibGljIGFwcGx5KGRhdGE6IGFueSkge1xuICAgIHRoaXMuZmlsdGVyc1NlbGVjdGVkLmVtaXQoZGF0YSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJzcGFjZS1iZXR3ZWVuIHAtc3BhY2Utc21cIj5cbiAgQGlmICh0aGlzLmFjdGl2ZUZpbHRlcigpKSB7XG4gIDxkaXY+XG4gICAgPHRhLWZpbHRlcnMtdGFnXG4gICAgICBbYWN0aXZlRmlsdGVyXT1cInRoaXMuYWN0aXZlRmlsdGVyKClcIlxuICAgICAgKHJlbW92ZWRGaWx0ZXIpPVwidGhpcy5yZW1vdmVkRmlsdGVyLmVtaXQoJGV2ZW50KVwiXG4gICAgPjwvdGEtZmlsdGVycy10YWc+XG4gIDwvZGl2PlxuICB9XG4gIDxkaXY+XG4gICAgPHRhLWxpbmsgKGFjdGlvbik9XCJ0aGlzLnRvZ2dsZUZpbHRlcigpXCI+XG4gICAgICA8dGEtZm9udC1pY29uXG4gICAgICAgIFtuYW1lXT1cInRoaXMuaXNGaWx0ZXJPcGVuID8gJ2NoZWNrLWxpbmUnIDogJ2ZpbHRlci10b29sJ1wiXG4gICAgICA+PC90YS1mb250LWljb24+XG4gICAgPC90YS1saW5rPlxuICA8L2Rpdj5cbjwvZGl2PlxuPGRpdj5cbiAgPHRhLWxheW91dC13aXRoLXBhbmVsIFtvcGVuXT1cInRoaXMuaXNGaWx0ZXJPcGVuXCI+XG4gICAgPHRhLWxheW91dC1wYW5lbD5cbiAgICAgIDxkaXYgY2xhc3M9XCJwLXNwYWNlLXNtXCI+XG4gICAgICAgIDx0YS1maWx0ZXJzLWZvcm1cbiAgICAgICAgICBbZm9ybV09XCJ0aGlzLmZvcm0oKVwiXG4gICAgICAgICAgW2Fza1ZhbGlkYXRpb24kXT1cInRoaXMuYXNrVmFsaWRhdGlvbiRcIlxuICAgICAgICAgIChmaWx0ZXJzU2VsZWN0ZWQpPVwidGhpcy5hcHBseSgkZXZlbnQpXCJcbiAgICAgICAgPjwvdGEtZmlsdGVycy1mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgPC90YS1sYXlvdXQtcGFuZWw+XG4gICAgPHRhLWxheW91dC1jb250ZW50PlxuICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgIDwvdGEtbGF5b3V0LWNvbnRlbnQ+XG4gIDwvdGEtbGF5b3V0LXdpdGgtcGFuZWw+XG48L2Rpdj5cbiJdfQ==