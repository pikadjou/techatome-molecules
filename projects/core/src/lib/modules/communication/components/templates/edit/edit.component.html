<ta-loader [isLoading]="this.requestState.isLoading()">
  <ta-error [message]="this.requestState.getErrorMessage()" [code]="this.requestState.getErrorStatus()">
    <ta-form
      *ngIf="this.form"
      [inputs]="this.form"
      (valid)="this.createTemplate($event)"
      [loader]="this.requestState.isLoading()"
    ></ta-form>
  </ta-error>

  <div *ngLet="this.template$ | async as template" class="pt-space-md">
    <ta-communication-template-variant-edit
      *ngIf="this.id && template"
      [id]="this.id"
      [variants]="template.variants"
    ></ta-communication-template-variant-edit>
  </div>
</ta-loader>
