<ta-loader [isLoading]="this.requestState.isLoading()" *ngLet="this.list$ | async as templates">
  <ta-error [message]="this.requestState.getErrorMessage()" [code]="this.requestState.getErrorStatus()">
    <ta-empty [isEmpty]="!templates || templates.length === 0">
      <ng-container *ngIf="templates && templates.length">
        <ta-ag-grid
          [gridId]="this.id"
          [defaultDisplay]="'grid'"
          [data]="templates"
          [fieldsOverrides]="this.fieldsOverrides"
          [gridOptions]="{
            domLayout: 'autoHeight',
          }"
        ></ta-ag-grid>
      </ng-container>

      <!-- <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3">
        <div *ngFor="let template of templates; track: this.trackById">
          <ta-card (click)="this.goToTemplate(template.id)">
            <ta-card-header>
              <ta-card-tag class="space-between">
                <div>
                  {{ template.code }}
                </div>
                <div>
                  <ta-badge
                    [type]="template.isActive ? 'success' : 'danger'"
                    [value]="template.isActive ? 'actif' : 'inactif'"
                  ></ta-badge>
                </div>
              </ta-card-tag>
            </ta-card-header>
            <ta-card-content>
              <div class="flex-column" *ngIf="template.variants[0]">
                <ta-title [level]="3" [isBold]="true">
                  {{ template.variants[0].title }}
                </ta-title>
                <ta-text [innerHTML]="template.variants[0].body"></ta-text>
              </div>
            </ta-card-content>
            <ta-card-cta>
              <ta-text size="xs">
                <div class="flex-start g-space-xs">
                  {{ 'communication.template.choice.language.available' | translate }}
                  <ta-culture [cultures]="template.availableCultures"></ta-culture>
                </div>
              </ta-text>
            </ta-card-cta>
          </ta-card>
        </div>
      </div> -->
    </ta-empty>
  </ta-error>
</ta-loader>
