import { InputChoices, InputTextBox } from '@ta/form-model';
import { BaseCol } from './base-col';
export class RelationCol extends BaseCol {
    getInputForm() {
        if (this.data.col.dataSearch$) {
            return new InputChoices({
                key: this.key,
                label: this.inputLabel,
                class: 'pb-2',
                advancedSearch$: this.data.col.dataSearch$,
                value: this.filterValues,
            });
        }
        return new InputTextBox({
            key: this.key,
            value: this.filterValues[0],
        });
    }
    formatInputForm(data) {
        const value = data[this.key];
        if (!value) {
            return null;
        }
        return {
            field: this.key,
            type: this.data.col.multivalues ? 'in' : '=',
            value: Number(value),
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVsYXRpb24tY29sLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9mZWF0dXJlcy9ncmlkL21vZGVscy9jb2xzL3JlbGF0aW9uLWNvbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRzVELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFckMsTUFBTSxPQUFPLFdBQVksU0FBUSxPQUFlO0lBQzlCLFlBQVk7UUFDMUIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUM5QixPQUFPLElBQUksWUFBWSxDQUFDO2dCQUN0QixHQUFHLEVBQUUsSUFBSSxDQUFDLEdBQUc7Z0JBQ2IsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVO2dCQUN0QixLQUFLLEVBQUUsTUFBTTtnQkFDYixlQUFlLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVztnQkFDMUMsS0FBSyxFQUFFLElBQUksQ0FBQyxZQUFZO2FBQ3pCLENBQUMsQ0FBQztRQUNMLENBQUM7UUFFRCxPQUFPLElBQUksWUFBWSxDQUFDO1lBQ3RCLEdBQUcsRUFBRSxJQUFJLENBQUMsR0FBRztZQUNiLEtBQUssRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztTQUM1QixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRWUsZUFBZSxDQUFDLElBQVM7UUFDdkMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUU3QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDWCxPQUFPLElBQUksQ0FBQztRQUNkLENBQUM7UUFFRCxPQUFPO1lBQ0wsS0FBSyxFQUFFLElBQUksQ0FBQyxHQUFHO1lBQ2YsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHO1lBQzVDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDO1NBQ3JCLENBQUM7SUFDSixDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnB1dENob2ljZXMsIElucHV0VGV4dEJveCB9IGZyb20gJ0B0YS9mb3JtLW1vZGVsJztcclxuXHJcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgQmFzZUNvbCB9IGZyb20gJy4vYmFzZS1jb2wnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJlbGF0aW9uQ29sIGV4dGVuZHMgQmFzZUNvbDxzdHJpbmc+IHtcclxuICBwdWJsaWMgb3ZlcnJpZGUgZ2V0SW5wdXRGb3JtKCkge1xyXG4gICAgaWYgKHRoaXMuZGF0YS5jb2wuZGF0YVNlYXJjaCQpIHtcclxuICAgICAgcmV0dXJuIG5ldyBJbnB1dENob2ljZXMoe1xyXG4gICAgICAgIGtleTogdGhpcy5rZXksXHJcbiAgICAgICAgbGFiZWw6IHRoaXMuaW5wdXRMYWJlbCxcclxuICAgICAgICBjbGFzczogJ3BiLTInLFxyXG4gICAgICAgIGFkdmFuY2VkU2VhcmNoJDogdGhpcy5kYXRhLmNvbC5kYXRhU2VhcmNoJCxcclxuICAgICAgICB2YWx1ZTogdGhpcy5maWx0ZXJWYWx1ZXMsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgSW5wdXRUZXh0Qm94KHtcclxuICAgICAga2V5OiB0aGlzLmtleSxcclxuICAgICAgdmFsdWU6IHRoaXMuZmlsdGVyVmFsdWVzWzBdLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb3ZlcnJpZGUgZm9ybWF0SW5wdXRGb3JtKGRhdGE6IGFueSk6IEZpbHRlciB8IG51bGwge1xyXG4gICAgY29uc3QgdmFsdWUgPSBkYXRhW3RoaXMua2V5XTtcclxuXHJcbiAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGZpZWxkOiB0aGlzLmtleSxcclxuICAgICAgdHlwZTogdGhpcy5kYXRhLmNvbC5tdWx0aXZhbHVlcyA/ICdpbicgOiAnPScsXHJcbiAgICAgIHZhbHVlOiBOdW1iZXIodmFsdWUpLFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIl19