{"version":3,"file":"ta-user.mjs","sources":["../../src/lib/modules/user/services/permissions.service.ts","../../src/lib/modules/user/guards/auth.guard.ts","../../src/lib/modules/user/guards/feature.guard.ts","../../src/lib/modules/user/guards/role.guard.ts","../../src/lib/modules/user/guards/public-api.ts","../../src/lib/modules/user/services/dto/user-profile.ts","../../src/lib/modules/user/services/queries.ts","../../src/lib/modules/user/services/user.service.ts","../../src/lib/modules/user/services/auth.service.ts","../../src/lib/modules/user/components/login/login-card.component.ts","../../src/lib/modules/user/components/login/login-card.component.html","../../src/lib/modules/user/components/login/redirect/login.component.ts","../../src/lib/modules/user/components/login/redirect/signin.component.ts","../../src/lib/modules/user/components/my-account/my-account.component.ts","../../src/lib/modules/user/components/my-account/my-account.component.html","../../src/lib/modules/user/components/guard/guard.component.ts","../../src/lib/modules/user/components/guard/guard.component.html","../../src/lib/modules/user/components/switch-language/switch-language.component.ts","../../src/lib/modules/user/components/switch-language/switch-language.component.html","../../src/lib/modules/user/components/switch-language/switch-language-cta/switch-language-cta.component.ts","../../src/lib/modules/user/components/switch-language/switch-language-cta/switch-language-cta.component.html","../../src/lib/modules/user/provide.ts","../../src/lib/modules/auth0/services/auth0.service.ts","../../src/lib/modules/auth0/provide.ts","../../src/public-api.ts","../../src/ta-user.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\n\nimport { BehaviorSubject, Observable, filter, map } from \"rxjs\";\n\nimport { isNonNullable } from \"@ta/utils\";\n\nexport type Level =\n  | \"authenticated\"\n  | \"unauthenticated\"\n  | \"authorize\"\n  | \"administrator\";\n\nexport type GuardInfo = {\n  guards?: string[];\n  roles?: string[];\n  features?: string[];\n};\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TaPermissionsService {\n  private _updated$ = new BehaviorSubject<number | null>(null);\n  private _isFill = { permissions: false, isAuthenticated: false };\n\n  public features: string[] = [];\n  public guards: string[] = [];\n  public roles: string[] = [];\n  public isAuthenticated: boolean = false;\n\n  public updated$ = this._updated$.pipe(filter(isNonNullable));\n\n  get received() {\n    return this._updated$.value !== null;\n  }\n\n  constructor() {}\n\n  public set(info: GuardInfo | null, isAuthenticated: boolean) {\n    this.setGuard(info);\n\n    this.setSilentAuthenticated(isAuthenticated);\n\n    this._canYouUpdate();\n  }\n\n  public setGuard(info: GuardInfo | null) {\n    if (info) {\n      this.features = info.features ?? [];\n      this.roles = info.roles ?? [];\n      this.guards = info.guards ?? [];\n\n      this._isFill.permissions = true;\n      this._canYouUpdate();\n    }\n  }\n\n  public setSilentAuthenticated(isAuthenticated: boolean) {\n    this.isAuthenticated = isAuthenticated;\n    this._isFill.isAuthenticated = true;\n\n    this._canYouUpdate();\n  }\n  public setAuthenticated(isAuthenticated: boolean) {\n    this.isAuthenticated = isAuthenticated;\n\n    this._updated$.next(Date.now());\n  }\n\n  public hasRole$(role: string) {\n    return this._updated$.pipe(map(() => this.hasRole(role)));\n  }\n  public hasRole(role: string) {\n    return !!this.roles.find((x) => x === role);\n  }\n\n  public canDirectAccess(feature: string, level: Level) {\n    if (level === \"authenticated\") {\n      return this.isAuthenticated;\n    }\n    if (level === \"unauthenticated\") {\n      return !this.isAuthenticated;\n    }\n\n    if (level === \"authorize\") {\n      return this.features.includes(feature);\n    }\n\n    if (!feature) {\n      return true;\n    }\n\n    return false;\n    // const featureGuard = this.guards[feature];\n    // if (!featureGuard) {\n    //   return true;\n    // }\n\n    // return accessLevels.indexOf(featureGuard) >= accessLevels.indexOf(level);\n  }\n\n  public canAccess$(feature: string, level: Level): Observable<boolean> {\n    return this._updated$.pipe(map(() => this.canDirectAccess(feature, level)));\n  }\n\n  private _canYouUpdate() {\n    if (!this._isFill.isAuthenticated || !this._isFill.permissions) {\n      return;\n    }\n    this._updated$.next(Date.now());\n  }\n}\n","import { Injectable, inject } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  Router,\n  RouterStateSnapshot,\n} from \"@angular/router\";\n\nimport { map } from \"rxjs/operators\";\n\nimport { Observable } from \"rxjs\";\n\nimport { TaRoutes } from \"@ta/menu\";\n\nimport { TaPermissionsService } from \"../services/permissions.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AuthGuard {\n  public readonly _permissionsService = inject(TaPermissionsService);\n\n  constructor(private router: Router) {}\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ): Observable<boolean> | boolean {\n    if (!this._permissionsService.received) {\n      return this._permissionsService.updated$.pipe(\n        map(() => {\n          if (this._permissionsService.isAuthenticated) {\n            return true;\n          } else {\n            this.setRedirect();\n            return false;\n          }\n        })\n      );\n    }\n    if (this._permissionsService.isAuthenticated === false) {\n      this.setRedirect();\n      return false;\n    }\n    return this._permissionsService.isAuthenticated;\n  }\n\n  public setRedirect(): void {\n    this.router.navigateByUrl(TaRoutes.getLogin());\n  }\n}\n","import { Injectable, inject } from \"@angular/core\";\nimport { ActivatedRouteSnapshot, Router } from \"@angular/router\";\n\nimport { map } from \"rxjs/operators\";\n\nimport { Observable } from \"rxjs\";\n\nimport { TaRoutes } from \"@ta/menu\";\n\nimport { Level, TaPermissionsService } from \"../services/permissions.service\";\n\nexport interface FeatureRouteData {\n  feature: string;\n  level: Level;\n}\n@Injectable({\n  providedIn: \"root\",\n})\nexport class FeatureGuard {\n  public readonly _permissionsService = inject(TaPermissionsService);\n\n  constructor(private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot): Observable<boolean> | boolean {\n    const level = route.data[\"level\"];\n    const feature = route.data[\"feature\"];\n\n    if (this._permissionsService.received === true) {\n      return this._isValidPermission(feature, level);\n    }\n    return this._permissionsService.updated$.pipe(\n      map(() => {\n        return this._isValidPermission(feature, level);\n      })\n    );\n  }\n\n  public setRedirect(): void {\n    this.router.navigateByUrl(TaRoutes.getHome());\n  }\n\n  private _isValidPermission(feature: string, level: Level) {\n    if (this._permissionsService.canDirectAccess(feature, level)) {\n      return true;\n    }\n    this.setRedirect();\n    return false;\n  }\n}\n","import { Injectable, inject } from \"@angular/core\";\nimport { ActivatedRouteSnapshot, Router } from \"@angular/router\";\n\nimport { map } from \"rxjs/operators\";\n\nimport { Observable } from \"rxjs\";\n\nimport { TaRoutes } from \"@ta/menu\";\n\nimport { TaPermissionsService } from \"../services/permissions.service\";\n\nexport interface RoleRouteData {\n  role: string;\n}\n@Injectable({\n  providedIn: \"root\",\n})\nexport class RoleGuard {\n  public readonly _permissionsService = inject(TaPermissionsService);\n\n  constructor(private router: Router) {}\n\n  canActivate(route: ActivatedRouteSnapshot): Observable<boolean> | boolean {\n    const role = route.data[\"role\"];\n\n    if (this._permissionsService.received === true) {\n      return this._isValidPermission(role);\n    }\n    return this._permissionsService.updated$.pipe(\n      map(() => {\n        return this._isValidPermission(role);\n      })\n    );\n  }\n\n  public setRedirect(): void {\n    this.router.navigateByUrl(TaRoutes.getHome());\n  }\n\n  private _isValidPermission(role: string) {\n    if (this._permissionsService.hasRole(role)) {\n      return true;\n    }\n    this.setRedirect();\n    return false;\n  }\n}\n","/*\n * Public API Surface of users\n */\n\nexport * from \"./auth.guard\";\nexport * from \"./feature.guard\";\nexport * from \"./role.guard\";\n","import { GraphSchema } from \"@ta/server\";\n\nexport interface UserProfile {\n  id: string;\n  firstname: string;\n  lastname: string;\n  email: string;\n  picture: string;\n  dateOfBirth: string;\n}\n\nexport const userProfileBrutProps: (keyof UserProfile)[] = [\n  \"id\",\n  \"firstname\",\n  \"lastname\",\n  \"email\",\n  \"picture\",\n  \"dateOfBirth\",\n];\n\nexport const userProfileProps = new GraphSchema<UserProfile>(\n  userProfileBrutProps\n);\n","import { Apollo_gql, GraphQueryInput, GraphQueryPayload } from \"@ta/server\";\n\nexport function userInfo({ props }: GraphQueryInput): GraphQueryPayload {\n  return {\n    query: Apollo_gql`\n        query UserInfo {\n          userInfo {\n            ${props}\n          }\n        }\n      `,\n    variables: {},\n  };\n}\n","import { Injectable, InjectionToken } from \"@angular/core\";\n\nimport { filter } from \"rxjs\";\n\nimport { GraphEndpoint, HandleSimpleRequest } from \"@ta/server\";\nimport { TaBaseService } from \"@ta/server\";\nimport { isNonNullable } from \"@ta/utils\";\n\nimport { UserProfile, userProfileProps } from \"./dto/user-profile\";\nimport { userInfo } from \"./queries\";\n\nexport const TA_USER_SERVICE = new InjectionToken<TaUserService>(\n  \"TaUserService_injection-token\"\n);\n\nconst graphEndpoint: GraphEndpoint = {\n  clientName: \"userService\",\n  endpoint: \"\",\n};\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TaUserService<T = UserProfile> extends TaBaseService {\n  public userProfile = new HandleSimpleRequest<T>();\n\n  constructor() {\n    super();\n    super.registerRoutes({ graphEndpoint: graphEndpoint });\n  }\n\n  public fetchUserProfile$(props: string = \"\") {\n    return this.userProfile.fetch(\n      this._graphService\n        .fetchQuery<T>(\n          userInfo({\n            props: `\n              ${userProfileProps.get(\"id\")}\n              ${userProfileProps.get(\"firstname\")}\n              ${userProfileProps.get(\"lastname\")}\n              ${userProfileProps.get(\"email\")}\n              ${userProfileProps.get(\"picture\")}\n              ${userProfileProps.get(\"dateOfBirth\")}\n              ${props}\n            `,\n          }),\n          \"userInfo\",\n          graphEndpoint.clientName\n        )\n        .pipe(filter(isNonNullable))\n    );\n  }\n}\n","import { Injectable, inject } from \"@angular/core\";\nimport { InjectionToken } from \"@angular/core\";\n\nimport { BehaviorSubject, Observable, filter, switchMap } from \"rxjs\";\n\nimport { MappingApiType, TaBaseService } from \"@ta/server\";\n\nimport { UserProfile } from \"./dto/user-profile\";\nimport { TaPermissionsService } from \"./permissions.service\";\n\nexport const TA_AUTH_TOKEN = new InjectionToken<TaAuthService>(\"TaAuthService\");\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport abstract class TaAuthService extends TaBaseService {\n  public readonly _permissionsService = inject(TaPermissionsService);\n  public isAuthenticated$ = this._permissionsService.canAccess$(\n    \"\",\n    \"authenticated\"\n  );\n\n  user$ = new BehaviorSubject<unknown>(null);\n\n  abstract get userProfile$(): Observable<UserProfile | null>;\n\n  abstract fetchUserProfile$(): Observable<UserProfile>;\n  abstract load(): void;\n  abstract login(): void;\n  abstract signin(): void;\n  abstract logout(): Promise<null>;\n\n  constructor(apiRoutes?: MappingApiType) {\n    super(apiRoutes);\n    this.user$\n      .pipe(\n        filter((user) => !!user),\n        switchMap(() => this.fetchUserProfile$())\n      )\n      .subscribe();\n  }\n}\n","import { Component, inject } from \"@angular/core\";\n\nimport { TranslatePipe } from \"@ta/translation\";\nimport { ButtonComponent, CardComponent, CardContentComponent } from \"@ta/ui\";\n\nimport { TA_AUTH_TOKEN } from \"../../services/auth.service\";\n\n@Component({\n  selector: \"ta-login-card\",\n  templateUrl: \"./login-card.component.html\",\n  styleUrls: [\"./login-card.component.scss\"],\n  standalone: true,\n  imports: [\n    CardComponent,\n    CardContentComponent,\n    ButtonComponent,\n    TranslatePipe,\n  ],\n})\nexport class LoginCardComponent {\n  private _authService = inject(TA_AUTH_TOKEN);\n\n  constructor() {}\n\n  public login() {\n    this._authService.login();\n  }\n}\n","<ta-card (click)=\"this.login()\">\n  <ta-card-content>\n    <ta-button (action)=\"this.login()\">{{\n      \"user.login\" | translate\n    }}</ta-button>\n  </ta-card-content>\n</ta-card>\n","import { Component, inject } from \"@angular/core\";\n\nimport { TA_AUTH_TOKEN } from \"../../../services/auth.service\";\n\n@Component({\n  selector: \"\",\n  template: \"\",\n  standalone: true,\n})\nexport class LoginRedirectComponent {\n  private _authService = inject(TA_AUTH_TOKEN);\n\n  constructor() {\n    this._authService.login();\n  }\n}\n","import { Component, inject } from \"@angular/core\";\n\nimport { TA_AUTH_TOKEN } from \"../../../services/auth.service\";\n\n@Component({\n  selector: \"\",\n  template: \"\",\n  standalone: true,\n})\nexport class SignRedirectComponent {\n  private _authService = inject(TA_AUTH_TOKEN);\n\n  constructor() {\n    this._authService.signin();\n  }\n}\n","import { AsyncPipe } from \"@angular/common\";\nimport {\n  Component,\n  EventEmitter,\n  OnInit,\n  Output,\n  inject,\n  input,\n  signal,\n} from \"@angular/core\";\n\nimport { Observable, map } from \"rxjs\";\n\nimport { FontIconComponent } from \"@ta/icons\";\nimport { Menu, MenuComponent, MenuIcon } from \"@ta/menu\";\nimport { TaSizes } from \"@ta/styles\";\nimport { TranslatePipe } from \"@ta/translation\";\nimport {\n  ButtonComponent,\n  EmptyComponent,\n  ErrorComponent,\n  LoaderComponent,\n  UserLogoData,\n} from \"@ta/ui\";\nimport { InlineProfileDataComponent } from \"@ta/ui\";\nimport { StopPropagationDirective } from \"@ta/utils\";\nimport { TaBaseComponent } from \"@ta/utils\";\n\nimport { TA_AUTH_TOKEN } from \"../../services/auth.service\";\nimport { TA_USER_SERVICE } from \"../../services/user.service\";\n\n@Component({\n  selector: \"ta-my-account\",\n  templateUrl: \"./my-account.component.html\",\n  styleUrls: [\"./my-account.component.scss\"],\n  standalone: true,\n  imports: [\n    AsyncPipe,\n    FontIconComponent,\n    StopPropagationDirective,\n    LoaderComponent,\n    ErrorComponent,\n    EmptyComponent,\n    ButtonComponent,\n    MenuComponent,\n    TranslatePipe,\n    InlineProfileDataComponent,\n    StopPropagationDirective,\n  ],\n})\nexport class MyAccountComponent extends TaBaseComponent implements OnInit {\n  profileMenu = input<Menu | null>(null);\n\n  appVersion = input<string | null>(null);\n\n  isEditable = input<boolean>(false);\n\n  @Output()\n  navigateEvent = new EventEmitter();\n\n  @Output()\n  navigateEditEvent = new EventEmitter();\n\n  private _userService = inject(TA_USER_SERVICE);\n  private _authService = inject(TA_AUTH_TOKEN);\n\n  public disconnectionMenu = signal<Menu | null>(null);\n  public userLogo$ = signal<\n    Observable<{\n      user: UserLogoData;\n      size?: TaSizes;\n    } | null>\n  >(\n    this._userService.userProfile.get$().pipe(\n      map((up) => {\n        if (!up) {\n          return null;\n        }\n\n        return {\n          user: {\n            picture: up.picture,\n            lastname: up.lastname ?? \"\",\n            firstname: up.firstname ?? \"\",\n          },\n          size: \"lg\",\n        };\n      })\n    )\n  );\n  constructor() {\n    super();\n  }\n\n  get profile$() {\n    return this._userService.userProfile.get$().pipe(\n      map((data) => {\n        return {\n          title: {\n            second: data?.firstname || data?.lastname,\n          },\n          email: data?.email || \"\",\n        };\n      })\n    );\n  }\n\n  ngOnInit() {\n    this.disconnectionMenu.set(this.getDisconnectionMenu());\n  }\n\n  public navigateToProfile() {\n    this.navigateEvent.emit();\n  }\n\n  public disconnect() {\n    this._authService.logout().then(() => location.reload());\n  }\n\n  public getDisconnectionMenu() {\n    const menu = [\n      new MenuIcon({\n        key: \"logout\",\n        label: \"user.logout\",\n        order: 4,\n        style: \"dark\",\n        icon: \"logout\",\n        iconsColor: \"icon-color-icon-tertiary\",\n        callback: () => this.disconnect(),\n      }),\n    ];\n\n    return new Menu({\n      elements: menu.sort((a, b) => a.order - b.order),\n      direction: \"vertical\",\n    });\n  }\n\n  public navigateToEditProfile() {\n    this.navigateEditEvent.emit();\n  }\n}\n","@let profile = this.profile$ | async;\n<div class=\"mx-space-sm\" appStopPropagation>\n  <ta-loader [isLoading]=\"this.requestState.isLoading()\">\n    <ta-error\n      [message]=\"this.requestState.getErrorMessage()\"\n      [code]=\"this.requestState.getErrorStatus()\"\n    >\n      <ta-empty [isEmpty]=\"!profile\">\n        <div class=\"p-space-sm bdp-b color-border-primary\">\n          <ta-inline-profile-data\n            [profile]=\"profile ?? {}\"\n            [userLogo]=\"this.userLogo$() | async\"\n            (click)=\"this.navigateToProfile()\"\n          ></ta-inline-profile-data>\n          @if (this.isEditable()) {\n          <div class=\"my-space-md\">\n            <ta-button\n              (action)=\"this.navigateToEditProfile()\"\n              [style]=\"'secondary'\"\n            >\n              <div class=\"align-center button-content\">\n                <ta-font-icon\n                  name=\"modify\"\n                  class=\"mr-space-xs modify-icon\"\n                ></ta-font-icon>\n                <div class=\"text\">\n                  {{ \"user.modify\" | translate }}\n                </div>\n              </div>\n            </ta-button>\n          </div>\n          }\n        </div>\n      </ta-empty>\n    </ta-error>\n  </ta-loader>\n  @if (this.profileMenu()) {\n  <div class=\"bdp-b color-border-primary pt-space-xs\">\n    <ta-menu\n      [menu]=\"this.profileMenu()!\"\n      [style]=\"'dark'\"\n      [container]=\"'overflow'\"\n    ></ta-menu>\n  </div>\n  } @let disconnectionMenu = this.disconnectionMenu(); @if (disconnectionMenu) {\n  <div class=\"bdp-b pt-space-xs\">\n    <ta-menu [menu]=\"disconnectionMenu\" [style]=\"'dark'\" [container]=\"'overflow'\"></ta-menu>\n  </div>\n  }\n  <div class=\"ta-c\">\n    <small>{{ this.appVersion }}</small>\n  </div>\n</div>\n","import { AsyncPipe } from \"@angular/common\";\nimport { Component, inject, input } from \"@angular/core\";\n\nimport { FontIconComponent } from \"@ta/icons\";\nimport { TaIconType } from \"@ta/icons\";\nimport { TaMainRoute, TaRoutes } from \"@ta/menu\";\nimport { TranslatePipe } from \"@ta/translation\";\nimport { ButtonComponent } from \"@ta/ui\";\nimport { TaAbstractComponent } from \"@ta/utils\";\n\nimport {\n  Level,\n  TaPermissionsService,\n} from \"../../services/permissions.service\";\n\n@Component({\n  selector: \"ta-guard\",\n  templateUrl: \"./guard.component.html\",\n  styleUrls: [\"./guard.component.scss\"],\n  standalone: true,\n  imports: [AsyncPipe, FontIconComponent, ButtonComponent, TranslatePipe],\n})\nexport class GuardComponent extends TaAbstractComponent {\n  level = input<Level>();\n\n  feature = input<string>();\n\n  role = input<string>();\n\n  canDisplayErrorMessage = input<boolean>(true);\n\n  private readonly _permissionsService = inject(TaPermissionsService);\n  get noAccessIcon() {\n    return TaIconType.NoAccess;\n  }\n\n  constructor() {\n    super();\n  }\n\n  public isGuardValid$() {\n    if (this.role()) {\n      return this._permissionsService.hasRole$(this.role()!);\n    }\n\n    return this._permissionsService.canAccess$(\n      this.feature() ?? \"\",\n      this.level() ?? \"authorize\"\n    );\n  }\n\n  public goToLogin() {\n    this._router.navigateByUrl(TaRoutes.getUrl([TaMainRoute.USERLOGIN]));\n  }\n}\n","@let isValid = this.isGuardValid$() | async;\n\n<div class=\"guard\">\n  @if (isValid) {\n  <div class=\"guard-valid\">\n    <ng-content></ng-content>\n  </div>\n  } @if (!isValid && this.canDisplayErrorMessage()) {\n  <div class=\"guard-no-valid ta-c\">\n    <ta-font-icon name=\"close-tool\" size=\"md\"></ta-font-icon>\n    {{ \"user.guard.content\" | translate }}\n\n    @if (this.level() === 'authenticated') {\n    <ta-button (action)=\"this.goToLogin()\"> Me connecter </ta-button>\n    }\n  </div>\n  }\n</div>\n","import { NgFor, NgIf } from \"@angular/common\";\nimport { Component, inject } from \"@angular/core\";\n\nimport { FontIconComponent } from \"@ta/icons\";\nimport { TaTranslationService, TranslatePipe } from \"@ta/translation\";\nimport {\n  ListContainerComponent,\n  ListElementComponent,\n  ListTagComponent,\n  ListTitleComponent,\n  LoaderComponent,\n} from \"@ta/ui\";\n\n@Component({\n  selector: \"ta-switch-language\",\n  templateUrl: \"./switch-language.component.html\",\n  styleUrls: [\"./switch-language.component.scss\"],\n  standalone: true,\n  imports: [\n    NgIf,\n    NgFor,\n    FontIconComponent,\n    ListTagComponent,\n    LoaderComponent,\n    ListContainerComponent,\n    ListElementComponent,\n    ListTitleComponent,\n    TranslatePipe,\n  ],\n})\nexport class SwitchLanguageComponent {\n  readonly translateService = inject(TaTranslationService);\n  readonly languages = [\n    { id: \"fr\", name: \"Français\" },\n    { id: \"nl\", name: \"Nederlands\" },\n    { id: \"en\", name: \"English\" },\n    { id: \"es\", name: \"Español\" },\n  ];\n\n  public activeLanguage = this.translateService.getLanguage();\n  public changeLanguageAsked: boolean = false;\n\n  public changeLanguage(language: string) {\n    if (this.activeLanguage != language) {\n      this.activeLanguage = language;\n      this.changeLanguageAsked = true;\n      this.translateService.use(language);\n    }\n  }\n}\n","<ta-loader [isLoading]=\"this.changeLanguageAsked\">\n  <div class=\"mx-space-sm language-panel\">\n    <ta-list-container>\n      @for (language of this.languages; track language.id) {\n      <ta-list-element\n        [withSeparator]=\"false\"\n        (click)=\"this.changeLanguage(language.id)\"\n      >\n        <ta-list-title class=\"d-flex p-space-xs\">\n          {{ language.name | translate }}\n        </ta-list-title>\n        @if (language.id === this.activeLanguage) {\n        <ta-list-tag>\n          <ta-font-icon\n            name=\"check-line\"\n            class=\"color-semantic-token-success\"\n          ></ta-font-icon>\n        </ta-list-tag>\n        }\n      </ta-list-element>\n      }\n    </ta-list-container>\n  </div>\n</ta-loader>\n","import { Component, inject } from \"@angular/core\";\nimport { MatMenu, MatMenuTrigger } from \"@angular/material/menu\";\n\nimport { FontIconComponent } from \"@ta/icons\";\nimport { TaTranslationService } from \"@ta/translation\";\n\nimport { SwitchLanguageComponent } from \"../switch-language.component\";\n\n@Component({\n  selector: \"ta-switch-language-cta\",\n  templateUrl: \"./switch-language-cta.component.html\",\n  styleUrls: [\"./switch-language-cta.component.scss\"],\n  standalone: true,\n  imports: [\n    FontIconComponent,\n    MatMenu,\n    SwitchLanguageComponent,\n    MatMenuTrigger,\n  ],\n})\nexport class SwitchLanguageCtaComponent {\n  readonly translateService = inject(TaTranslationService);\n\n  public activeLanguage = this.translateService.getLanguage();\n}\n","<div [matMenuTriggerFor]=\"menu\" class=\"flex-start g-space-sm c-pointer\">\n  {{ this.activeLanguage.toLocaleUpperCase() }}\n  <ta-font-icon name=\"arrow-big-bottom\"></ta-font-icon>\n</div>\n\n<mat-menu #menu=\"matMenu\">\n  <ta-switch-language></ta-switch-language>\n</mat-menu>\n","import { Provider } from \"@angular/core\";\n\nimport { TA_USER_SERVICE, TaUserService } from \"./services/user.service\";\n\nexport const provideUser = (data: {\n  service: typeof TaUserService;\n}): Provider => [{ provide: TA_USER_SERVICE, useClass: data.service }];\n","import { Injectable, inject } from \"@angular/core\";\n\nimport { AuthService } from \"@auth0/auth0-angular\";\nimport { distinct, filter, tap } from \"rxjs\";\n\nimport { Logger } from \"@ta/server\";\nimport { isNonNullable } from \"@ta/utils\";\n\nimport { TaAuthService } from \"../../user/services/auth.service\";\nimport { TA_USER_SERVICE } from \"../../user/services/user.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class TaAuth0Service extends TaAuthService {\n  get userProfile$() {\n    return this.userService.userProfile.get$();\n  }\n\n  public auth = inject(AuthService);\n  public userService = inject(TA_USER_SERVICE);\n\n  constructor() {\n    super();\n\n    this.auth.user$\n      .pipe(\n        filter(isNonNullable),\n        distinct((user) => user?.sub),\n        tap((user) => this.user$.next(user || null)),\n        tap((user) => {\n          Logger.LogInfo(\"user info\", user);\n          if (user) {\n            this._permissionsService.set(null, true);\n          }\n        })\n      )\n      .subscribe();\n\n    this.auth.error$\n      .pipe(\n        tap((errors) => {\n          Logger.LogError(\"[USERSERVICE] error on authentication\", errors);\n        })\n      )\n      .subscribe();\n\n    this.auth.appState$\n      .pipe(\n        tap((state) => {\n          Logger.LogInfo(\"[USERSERVICE] state\", state);\n        })\n      )\n      .subscribe();\n\n    this.auth.isAuthenticated$\n      .pipe(\n        tap((isAuthenticated) => {\n          this._serverService.isAuthenticated = isAuthenticated;\n          if (isAuthenticated) {\n            this._permissionsService.setSilentAuthenticated(isAuthenticated);\n          } else {\n            this._permissionsService.setAuthenticated(isAuthenticated);\n          }\n        })\n      )\n      .subscribe();\n  }\n\n  public fetchUserProfile$() {\n    return this.userService.fetchUserProfile$();\n  }\n\n  public load() {}\n  public login() {\n    this.auth.loginWithRedirect();\n  }\n  public signin() {\n    this.auth.loginWithRedirect({\n      authorizationParams: {\n        screen_hint: \"signup\",\n      },\n    });\n  }\n  public logout() {\n    return new Promise<null>((resolve) => {\n      this.auth.logout();\n    });\n  }\n}\n","import { HTTP_INTERCEPTORS } from \"@angular/common/http\";\nimport { Provider } from \"@angular/core\";\n\nimport {\n  AuthConfig,\n  AuthHttpInterceptor,\n  provideAuth0 as provideBaseAuth0,\n} from \"@auth0/auth0-angular\";\n\nimport { TA_AUTH_TOKEN } from \"../user/services/auth.service\";\nimport { TaAuth0Service } from \"./services/auth0.service\";\n\nexport interface TaAuth0Environment extends AuthConfig {}\n\nexport const provideAuth0 = (data: {\n  config: TaAuth0Environment;\n}): Provider => [\n  provideBaseAuth0(data.config),\n  { provide: TA_AUTH_TOKEN, useClass: TaAuth0Service },\n  {\n    provide: HTTP_INTERCEPTORS,\n    useClass: AuthHttpInterceptor,\n    multi: true,\n  },\n];\n","/*\n * Public API Surface of users\n */\nexport * from \"./lib/modules/user/guards/public-api\";\n\nexport * from \"./lib/modules/user/services/user.service\";\nexport * from \"./lib/modules/user/services/auth.service\";\nexport * from \"./lib/modules/user/services/permissions.service\";\nexport * from \"./lib/modules/user/services/dto/user-profile\";\nexport * from \"./lib/modules/user/services/queries\";\n\nexport * from \"./lib/modules/user/components/public-api\";\nexport * from \"./lib/modules/user/provide\";\n\nexport * from \"./lib/modules/auth0/provide\";\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["map","provideBaseAuth0"],"mappings":";;;;;;;;;;;;;;;;MAqBa,oBAAoB,CAAA;AAW/B,IAAA,IAAI,QAAQ,GAAA;AACV,QAAA,OAAO,IAAI,CAAC,SAAS,CAAC,KAAK,KAAK,IAAI;IACtC;AAEA,IAAA,WAAA,GAAA;AAdQ,QAAA,IAAA,CAAA,SAAS,GAAG,IAAI,eAAe,CAAgB,IAAI,CAAC;QACpD,IAAA,CAAA,OAAO,GAAG,EAAE,WAAW,EAAE,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE;QAEzD,IAAA,CAAA,QAAQ,GAAa,EAAE;QACvB,IAAA,CAAA,MAAM,GAAa,EAAE;QACrB,IAAA,CAAA,KAAK,GAAa,EAAE;QACpB,IAAA,CAAA,eAAe,GAAY,KAAK;AAEhC,QAAA,IAAA,CAAA,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAM7C;IAER,GAAG,CAAC,IAAsB,EAAE,eAAwB,EAAA;AACzD,QAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;AAEnB,QAAA,IAAI,CAAC,sBAAsB,CAAC,eAAe,CAAC;QAE5C,IAAI,CAAC,aAAa,EAAE;IACtB;AAEO,IAAA,QAAQ,CAAC,IAAsB,EAAA;QACpC,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,EAAE;YACnC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,EAAE;YAC7B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,EAAE;AAE/B,YAAA,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI;YAC/B,IAAI,CAAC,aAAa,EAAE;QACtB;IACF;AAEO,IAAA,sBAAsB,CAAC,eAAwB,EAAA;AACpD,QAAA,IAAI,CAAC,eAAe,GAAG,eAAe;AACtC,QAAA,IAAI,CAAC,OAAO,CAAC,eAAe,GAAG,IAAI;QAEnC,IAAI,CAAC,aAAa,EAAE;IACtB;AACO,IAAA,gBAAgB,CAAC,eAAwB,EAAA;AAC9C,QAAA,IAAI,CAAC,eAAe,GAAG,eAAe;QAEtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;IACjC;AAEO,IAAA,QAAQ,CAAC,IAAY,EAAA;AAC1B,QAAA,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3D;AACO,IAAA,OAAO,CAAC,IAAY,EAAA;AACzB,QAAA,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,IAAI,CAAC;IAC7C;IAEO,eAAe,CAAC,OAAe,EAAE,KAAY,EAAA;AAClD,QAAA,IAAI,KAAK,KAAK,eAAe,EAAE;YAC7B,OAAO,IAAI,CAAC,eAAe;QAC7B;AACA,QAAA,IAAI,KAAK,KAAK,iBAAiB,EAAE;AAC/B,YAAA,OAAO,CAAC,IAAI,CAAC,eAAe;QAC9B;AAEA,QAAA,IAAI,KAAK,KAAK,WAAW,EAAE;YACzB,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC;QACxC;QAEA,IAAI,CAAC,OAAO,EAAE;AACZ,YAAA,OAAO,IAAI;QACb;AAEA,QAAA,OAAO,KAAK;;;;;;IAOd;IAEO,UAAU,CAAC,OAAe,EAAE,KAAY,EAAA;QAC7C,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC;IAC7E;IAEQ,aAAa,GAAA;AACnB,QAAA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;YAC9D;QACF;QACA,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;IACjC;+GAzFW,oBAAoB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAApB,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,oBAAoB,cAFnB,MAAM,EAAA,CAAA,CAAA;;4FAEP,oBAAoB,EAAA,UAAA,EAAA,CAAA;kBAHhC,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;MCFY,SAAS,CAAA;AAGpB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;AAFV,QAAA,IAAA,CAAA,mBAAmB,GAAG,MAAM,CAAC,oBAAoB,CAAC;IAE7B;IACrC,WAAW,CACT,IAA4B,EAC5B,KAA0B,EAAA;AAE1B,QAAA,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,EAAE;YACtC,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAC3CA,KAAG,CAAC,MAAK;AACP,gBAAA,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE;AAC5C,oBAAA,OAAO,IAAI;gBACb;qBAAO;oBACL,IAAI,CAAC,WAAW,EAAE;AAClB,oBAAA,OAAO,KAAK;gBACd;YACF,CAAC,CAAC,CACH;QACH;QACA,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,KAAK,KAAK,EAAE;YACtD,IAAI,CAAC,WAAW,EAAE;AAClB,YAAA,OAAO,KAAK;QACd;AACA,QAAA,OAAO,IAAI,CAAC,mBAAmB,CAAC,eAAe;IACjD;IAEO,WAAW,GAAA;QAChB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;IAChD;+GA7BW,SAAS,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAT,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,SAAS,cAFR,MAAM,EAAA,CAAA,CAAA;;4FAEP,SAAS,EAAA,UAAA,EAAA,CAAA;kBAHrB,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;MCCY,YAAY,CAAA;AAGvB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;AAFV,QAAA,IAAA,CAAA,mBAAmB,GAAG,MAAM,CAAC,oBAAoB,CAAC;IAE7B;AAErC,IAAA,WAAW,CAAC,KAA6B,EAAA;QACvC,MAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC;QACjC,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC;QAErC,IAAI,IAAI,CAAC,mBAAmB,CAAC,QAAQ,KAAK,IAAI,EAAE;YAC9C,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,KAAK,CAAC;QAChD;QACA,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAC3CA,KAAG,CAAC,MAAK;YACP,OAAO,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE,KAAK,CAAC;QAChD,CAAC,CAAC,CACH;IACH;IAEO,WAAW,GAAA;QAChB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC/C;IAEQ,kBAAkB,CAAC,OAAe,EAAE,KAAY,EAAA;QACtD,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE;AAC5D,YAAA,OAAO,IAAI;QACb;QACA,IAAI,CAAC,WAAW,EAAE;AAClB,QAAA,OAAO,KAAK;IACd;+GA7BW,YAAY,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAZ,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,YAAY,cAFX,MAAM,EAAA,CAAA,CAAA;;4FAEP,YAAY,EAAA,UAAA,EAAA,CAAA;kBAHxB,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;MCAY,SAAS,CAAA;AAGpB,IAAA,WAAA,CAAoB,MAAc,EAAA;QAAd,IAAA,CAAA,MAAM,GAAN,MAAM;AAFV,QAAA,IAAA,CAAA,mBAAmB,GAAG,MAAM,CAAC,oBAAoB,CAAC;IAE7B;AAErC,IAAA,WAAW,CAAC,KAA6B,EAAA;QACvC,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;QAE/B,IAAI,IAAI,CAAC,mBAAmB,CAAC,QAAQ,KAAK,IAAI,EAAE;AAC9C,YAAA,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;QACtC;QACA,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAC3CA,KAAG,CAAC,MAAK;AACP,YAAA,OAAO,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;QACtC,CAAC,CAAC,CACH;IACH;IAEO,WAAW,GAAA;QAChB,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC/C;AAEQ,IAAA,kBAAkB,CAAC,IAAY,EAAA;QACrC,IAAI,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AAC1C,YAAA,OAAO,IAAI;QACb;QACA,IAAI,CAAC,WAAW,EAAE;AAClB,QAAA,OAAO,KAAK;IACd;+GA5BW,SAAS,EAAA,IAAA,EAAA,CAAA,EAAA,KAAA,EAAA,EAAA,CAAA,MAAA,EAAA,CAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAT,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,SAAS,cAFR,MAAM,EAAA,CAAA,CAAA;;4FAEP,SAAS,EAAA,UAAA,EAAA,CAAA;kBAHrB,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;AChBD;;AAEG;;ACSI,MAAM,oBAAoB,GAA0B;IACzD,IAAI;IACJ,WAAW;IACX,UAAU;IACV,OAAO;IACP,SAAS;IACT,aAAa;;MAGF,gBAAgB,GAAG,IAAI,WAAW,CAC7C,oBAAoB;;ACnBhB,SAAU,QAAQ,CAAC,EAAE,KAAK,EAAmB,EAAA;IACjD,OAAO;QACL,KAAK,EAAE,UAAU,CAAA;;;cAGP,KAAK;;;AAGZ,MAAA,CAAA;AACH,QAAA,SAAS,EAAE,EAAE;KACd;AACH;;MCFa,eAAe,GAAG,IAAI,cAAc,CAC/C,+BAA+B;AAGjC,MAAM,aAAa,GAAkB;AACnC,IAAA,UAAU,EAAE,aAAa;AACzB,IAAA,QAAQ,EAAE,EAAE;CACb;AAKK,MAAO,aAA+B,SAAQ,aAAa,CAAA;AAG/D,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;AAHF,QAAA,IAAA,CAAA,WAAW,GAAG,IAAI,mBAAmB,EAAK;QAI/C,KAAK,CAAC,cAAc,CAAC,EAAE,aAAa,EAAE,aAAa,EAAE,CAAC;IACxD;IAEO,iBAAiB,CAAC,QAAgB,EAAE,EAAA;QACzC,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAC3B,IAAI,CAAC;aACF,UAAU,CACT,QAAQ,CAAC;AACP,YAAA,KAAK,EAAE;AACH,cAAA,EAAA,gBAAgB,CAAC,GAAG,CAAC,IAAI,CAAC;AAC1B,cAAA,EAAA,gBAAgB,CAAC,GAAG,CAAC,WAAW,CAAC;AACjC,cAAA,EAAA,gBAAgB,CAAC,GAAG,CAAC,UAAU,CAAC;AAChC,cAAA,EAAA,gBAAgB,CAAC,GAAG,CAAC,OAAO,CAAC;AAC7B,cAAA,EAAA,gBAAgB,CAAC,GAAG,CAAC,SAAS,CAAC;AAC/B,cAAA,EAAA,gBAAgB,CAAC,GAAG,CAAC,aAAa,CAAC;gBACnC,KAAK;AACR,YAAA,CAAA;AACF,SAAA,CAAC,EACF,UAAU,EACV,aAAa,CAAC,UAAU;AAEzB,aAAA,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC,CAC/B;IACH;+GA5BW,aAAa,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAb,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,aAAa,cAFZ,MAAM,EAAA,CAAA,CAAA;;4FAEP,aAAa,EAAA,UAAA,EAAA,CAAA;kBAHzB,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;MCZY,aAAa,GAAG,IAAI,cAAc,CAAgB,eAAe;AAKxE,MAAgB,aAAc,SAAQ,aAAa,CAAA;AAiBvD,IAAA,WAAA,CAAY,SAA0B,EAAA;QACpC,KAAK,CAAC,SAAS,CAAC;AAjBF,QAAA,IAAA,CAAA,mBAAmB,GAAG,MAAM,CAAC,oBAAoB,CAAC;QAC3D,IAAA,CAAA,gBAAgB,GAAG,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAC3D,EAAE,EACF,eAAe,CAChB;AAED,QAAA,IAAA,CAAA,KAAK,GAAG,IAAI,eAAe,CAAU,IAAI,CAAC;AAYxC,QAAA,IAAI,CAAC;aACF,IAAI,CACH,MAAM,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,CAAC,EACxB,SAAS,CAAC,MAAM,IAAI,CAAC,iBAAiB,EAAE,CAAC;AAE1C,aAAA,SAAS,EAAE;IAChB;+GAzBoB,aAAa,EAAA,IAAA,EAAA,SAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAb,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,aAAa,cAFrB,MAAM,EAAA,CAAA,CAAA;;4FAEE,aAAa,EAAA,UAAA,EAAA,CAAA;kBAHlC,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;MCKY,kBAAkB,CAAA;AAG7B,IAAA,WAAA,GAAA;AAFQ,QAAA,IAAA,CAAA,YAAY,GAAG,MAAM,CAAC,aAAa,CAAC;IAE7B;IAER,KAAK,GAAA;AACV,QAAA,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE;IAC3B;+GAPW,kBAAkB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;mGAAlB,kBAAkB,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,eAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,ECnB/B,gMAOA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EDMI,aAAa,8JACb,oBAAoB,EAAA,QAAA,EAAA,iBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACpB,eAAe,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,SAAA,EAAA,2BAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EACf,aAAa,EAAA,IAAA,EAAA,WAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;4FAGJ,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAZ9B,SAAS;+BACE,eAAe,EAAA,UAAA,EAGb,IAAI,EAAA,OAAA,EACP;wBACP,aAAa;wBACb,oBAAoB;wBACpB,eAAe;wBACf,aAAa;AACd,qBAAA,EAAA,QAAA,EAAA,gMAAA,EAAA;;;MERU,sBAAsB,CAAA;AAGjC,IAAA,WAAA,GAAA;AAFQ,QAAA,IAAA,CAAA,YAAY,GAAG,MAAM,CAAC,aAAa,CAAC;AAG1C,QAAA,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE;IAC3B;+GALW,sBAAsB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAtB,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,sBAAsB,wEAHvB,EAAE,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,CAAA;;4FAGD,sBAAsB,EAAA,UAAA,EAAA,CAAA;kBALlC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,EAAE;AACZ,oBAAA,QAAQ,EAAE,EAAE;AACZ,oBAAA,UAAU,EAAE,IAAI;AACjB,iBAAA;;;MCCY,qBAAqB,CAAA;AAGhC,IAAA,WAAA,GAAA;AAFQ,QAAA,IAAA,CAAA,YAAY,GAAG,MAAM,CAAC,aAAa,CAAC;AAG1C,QAAA,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE;IAC5B;+GALW,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAArB,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,qBAAqB,wEAHtB,EAAE,EAAA,QAAA,EAAA,IAAA,EAAA,CAAA,CAAA;;4FAGD,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBALjC,SAAS;AAAC,YAAA,IAAA,EAAA,CAAA;AACT,oBAAA,QAAQ,EAAE,EAAE;AACZ,oBAAA,QAAQ,EAAE,EAAE;AACZ,oBAAA,UAAU,EAAE,IAAI;AACjB,iBAAA;;;AC0CK,MAAO,kBAAmB,SAAQ,eAAe,CAAA;AAwCrD,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;AAxCT,QAAA,IAAA,CAAA,WAAW,GAAG,KAAK,CAAc,IAAI,CAAC;AAEtC,QAAA,IAAA,CAAA,UAAU,GAAG,KAAK,CAAgB,IAAI,CAAC;AAEvC,QAAA,IAAA,CAAA,UAAU,GAAG,KAAK,CAAU,KAAK,CAAC;AAGlC,QAAA,IAAA,CAAA,aAAa,GAAG,IAAI,YAAY,EAAE;AAGlC,QAAA,IAAA,CAAA,iBAAiB,GAAG,IAAI,YAAY,EAAE;AAE9B,QAAA,IAAA,CAAA,YAAY,GAAG,MAAM,CAAC,eAAe,CAAC;AACtC,QAAA,IAAA,CAAA,YAAY,GAAG,MAAM,CAAC,aAAa,CAAC;AAErC,QAAA,IAAA,CAAA,iBAAiB,GAAG,MAAM,CAAc,IAAI,CAAC;AAC7C,QAAA,IAAA,CAAA,SAAS,GAAG,MAAM,CAMvB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CACvC,GAAG,CAAC,CAAC,EAAE,KAAI;YACT,IAAI,CAAC,EAAE,EAAE;AACP,gBAAA,OAAO,IAAI;YACb;YAEA,OAAO;AACL,gBAAA,IAAI,EAAE;oBACJ,OAAO,EAAE,EAAE,CAAC,OAAO;AACnB,oBAAA,QAAQ,EAAE,EAAE,CAAC,QAAQ,IAAI,EAAE;AAC3B,oBAAA,SAAS,EAAE,EAAE,CAAC,SAAS,IAAI,EAAE;AAC9B,iBAAA;AACD,gBAAA,IAAI,EAAE,IAAI;aACX;QACH,CAAC,CAAC,CACH,CACF;IAGD;AAEA,IAAA,IAAI,QAAQ,GAAA;AACV,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,IAAI,CAC9C,GAAG,CAAC,CAAC,IAAI,KAAI;YACX,OAAO;AACL,gBAAA,KAAK,EAAE;AACL,oBAAA,MAAM,EAAE,IAAI,EAAE,SAAS,IAAI,IAAI,EAAE,QAAQ;AAC1C,iBAAA;AACD,gBAAA,KAAK,EAAE,IAAI,EAAE,KAAK,IAAI,EAAE;aACzB;QACH,CAAC,CAAC,CACH;IACH;IAEA,QAAQ,GAAA;QACN,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC;IACzD;IAEO,iBAAiB,GAAA;AACtB,QAAA,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE;IAC3B;IAEO,UAAU,GAAA;AACf,QAAA,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM,QAAQ,CAAC,MAAM,EAAE,CAAC;IAC1D;IAEO,oBAAoB,GAAA;AACzB,QAAA,MAAM,IAAI,GAAG;AACX,YAAA,IAAI,QAAQ,CAAC;AACX,gBAAA,GAAG,EAAE,QAAQ;AACb,gBAAA,KAAK,EAAE,aAAa;AACpB,gBAAA,KAAK,EAAE,CAAC;AACR,gBAAA,KAAK,EAAE,MAAM;AACb,gBAAA,IAAI,EAAE,QAAQ;AACd,gBAAA,UAAU,EAAE,0BAA0B;AACtC,gBAAA,QAAQ,EAAE,MAAM,IAAI,CAAC,UAAU,EAAE;aAClC,CAAC;SACH;QAED,OAAO,IAAI,IAAI,CAAC;AACd,YAAA,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;AAChD,YAAA,SAAS,EAAE,UAAU;AACtB,SAAA,CAAC;IACJ;IAEO,qBAAqB,GAAA;AAC1B,QAAA,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE;IAC/B;+GA1FW,kBAAkB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;mGAAlB,kBAAkB,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,eAAA,EAAA,MAAA,EAAA,EAAA,WAAA,EAAA,EAAA,iBAAA,EAAA,aAAA,EAAA,UAAA,EAAA,aAAA,EAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAA,KAAA,EAAA,iBAAA,EAAA,IAAA,EAAA,EAAA,UAAA,EAAA,EAAA,iBAAA,EAAA,YAAA,EAAA,UAAA,EAAA,YAAA,EAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAA,KAAA,EAAA,iBAAA,EAAA,IAAA,EAAA,EAAA,UAAA,EAAA,EAAA,iBAAA,EAAA,YAAA,EAAA,UAAA,EAAA,YAAA,EAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAA,KAAA,EAAA,iBAAA,EAAA,IAAA,EAAA,EAAA,EAAA,OAAA,EAAA,EAAA,aAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EClD/B,yyDAqDA,EAAA,MAAA,EAAA,CAAA,wNAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EDhBI,SAAS,8CACT,iBAAiB,EAAA,QAAA,EAAA,cAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACjB,wBAAwB,EAAA,QAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,CAAA,2BAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACxB,eAAe,yGACf,cAAc,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACd,cAAc,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,SAAA,EAAA,aAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,UAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACd,eAAe,8JACf,aAAa,EAAA,QAAA,EAAA,SAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,WAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EACb,aAAa,EAAA,IAAA,EAAA,WAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACb,0BAA0B,EAAA,QAAA,EAAA,wBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,UAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;4FAIjB,kBAAkB,EAAA,UAAA,EAAA,CAAA;kBAnB9B,SAAS;+BACE,eAAe,EAAA,UAAA,EAGb,IAAI,EAAA,OAAA,EACP;wBACP,SAAS;wBACT,iBAAiB;wBACjB,wBAAwB;wBACxB,eAAe;wBACf,cAAc;wBACd,cAAc;wBACd,eAAe;wBACf,aAAa;wBACb,aAAa;wBACb,0BAA0B;wBAC1B,wBAAwB;AACzB,qBAAA,EAAA,QAAA,EAAA,yyDAAA,EAAA,MAAA,EAAA,CAAA,wNAAA,CAAA,EAAA;wDAUD,aAAa,EAAA,CAAA;sBADZ;gBAID,iBAAiB,EAAA,CAAA;sBADhB;;;AEtCG,MAAO,cAAe,SAAQ,mBAAmB,CAAA;AAUrD,IAAA,IAAI,YAAY,GAAA;QACd,OAAO,UAAU,CAAC,QAAQ;IAC5B;AAEA,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;QAdT,IAAA,CAAA,KAAK,GAAG,KAAK,EAAS;QAEtB,IAAA,CAAA,OAAO,GAAG,KAAK,EAAU;QAEzB,IAAA,CAAA,IAAI,GAAG,KAAK,EAAU;AAEtB,QAAA,IAAA,CAAA,sBAAsB,GAAG,KAAK,CAAU,IAAI,CAAC;AAE5B,QAAA,IAAA,CAAA,mBAAmB,GAAG,MAAM,CAAC,oBAAoB,CAAC;IAOnE;IAEO,aAAa,GAAA;AAClB,QAAA,IAAI,IAAI,CAAC,IAAI,EAAE,EAAE;YACf,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAG,CAAC;QACxD;QAEA,OAAO,IAAI,CAAC,mBAAmB,CAAC,UAAU,CACxC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE,EACpB,IAAI,CAAC,KAAK,EAAE,IAAI,WAAW,CAC5B;IACH;IAEO,SAAS,GAAA;AACd,QAAA,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC;IACtE;+GA/BW,cAAc,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;mGAAd,cAAc,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,EAAA,KAAA,EAAA,EAAA,iBAAA,EAAA,OAAA,EAAA,UAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAA,KAAA,EAAA,iBAAA,EAAA,IAAA,EAAA,EAAA,OAAA,EAAA,EAAA,iBAAA,EAAA,SAAA,EAAA,UAAA,EAAA,SAAA,EAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAA,KAAA,EAAA,iBAAA,EAAA,IAAA,EAAA,EAAA,IAAA,EAAA,EAAA,iBAAA,EAAA,MAAA,EAAA,UAAA,EAAA,MAAA,EAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAA,KAAA,EAAA,iBAAA,EAAA,IAAA,EAAA,EAAA,sBAAA,EAAA,EAAA,iBAAA,EAAA,wBAAA,EAAA,UAAA,EAAA,wBAAA,EAAA,QAAA,EAAA,IAAA,EAAA,UAAA,EAAA,KAAA,EAAA,iBAAA,EAAA,IAAA,EAAA,EAAA,EAAA,eAAA,EAAA,IAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,ECtB3B,0gBAkBA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EDEY,SAAS,8CAAE,iBAAiB,EAAA,QAAA,EAAA,cAAA,EAAA,MAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAE,eAAe,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,OAAA,EAAA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,SAAA,EAAA,2BAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,EAAE,aAAa,EAAA,IAAA,EAAA,WAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;4FAE3D,cAAc,EAAA,UAAA,EAAA,CAAA;kBAP1B,SAAS;+BACE,UAAU,EAAA,UAAA,EAGR,IAAI,EAAA,OAAA,EACP,CAAC,SAAS,EAAE,iBAAiB,EAAE,eAAe,EAAE,aAAa,CAAC,EAAA,QAAA,EAAA,0gBAAA,EAAA;;;MEU5D,uBAAuB,CAAA;AAjBpC,IAAA,WAAA,GAAA;AAkBW,QAAA,IAAA,CAAA,gBAAgB,GAAG,MAAM,CAAC,oBAAoB,CAAC;AAC/C,QAAA,IAAA,CAAA,SAAS,GAAG;AACnB,YAAA,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE;AAC9B,YAAA,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,YAAY,EAAE;AAChC,YAAA,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE;AAC7B,YAAA,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE;SAC9B;AAEM,QAAA,IAAA,CAAA,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE;QACpD,IAAA,CAAA,mBAAmB,GAAY,KAAK;AAS5C,IAAA;AAPQ,IAAA,cAAc,CAAC,QAAgB,EAAA;AACpC,QAAA,IAAI,IAAI,CAAC,cAAc,IAAI,QAAQ,EAAE;AACnC,YAAA,IAAI,CAAC,cAAc,GAAG,QAAQ;AAC9B,YAAA,IAAI,CAAC,mBAAmB,GAAG,IAAI;AAC/B,YAAA,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC;QACrC;IACF;+GAlBW,uBAAuB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAvB,IAAA,SAAA,IAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,IAAA,EAAA,uBAAuB,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,oBAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EC9BpC,+vBAwBA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EDHI,iBAAiB,mFACjB,gBAAgB,EAAA,QAAA,EAAA,aAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAChB,eAAe,EAAA,QAAA,EAAA,WAAA,EAAA,MAAA,EAAA,CAAA,WAAA,EAAA,UAAA,EAAA,MAAA,EAAA,MAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACf,sBAAsB,EAAA,QAAA,EAAA,mBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACtB,oBAAoB,EAAA,QAAA,EAAA,iBAAA,EAAA,MAAA,EAAA,CAAA,eAAA,EAAA,YAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACpB,kBAAkB,qDAClB,aAAa,EAAA,IAAA,EAAA,WAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;4FAGJ,uBAAuB,EAAA,UAAA,EAAA,CAAA;kBAjBnC,SAAS;+BACE,oBAAoB,EAAA,UAAA,EAGlB,IAAI,EAAA,OAAA,EACP;wBACP,IAAI;wBACJ,KAAK;wBACL,iBAAiB;wBACjB,gBAAgB;wBAChB,eAAe;wBACf,sBAAsB;wBACtB,oBAAoB;wBACpB,kBAAkB;wBAClB,aAAa;AACd,qBAAA,EAAA,QAAA,EAAA,+vBAAA,EAAA;;;MERU,0BAA0B,CAAA;AAZvC,IAAA,WAAA,GAAA;AAaW,QAAA,IAAA,CAAA,gBAAgB,GAAG,MAAM,CAAC,oBAAoB,CAAC;AAEjD,QAAA,IAAA,CAAA,cAAc,GAAG,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE;AAC5D,IAAA;+GAJY,0BAA0B,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;mGAA1B,0BAA0B,EAAA,YAAA,EAAA,IAAA,EAAA,QAAA,EAAA,wBAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,ECpBvC,8RAQA,EAAA,MAAA,EAAA,CAAA,EAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EDMI,iBAAiB,mFACjB,OAAO,EAAA,QAAA,EAAA,UAAA,EAAA,MAAA,EAAA,CAAA,eAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,kBAAA,EAAA,WAAA,EAAA,WAAA,EAAA,gBAAA,EAAA,aAAA,EAAA,OAAA,EAAA,WAAA,CAAA,EAAA,OAAA,EAAA,CAAA,QAAA,EAAA,OAAA,CAAA,EAAA,QAAA,EAAA,CAAA,SAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACP,uBAAuB,EAAA,QAAA,EAAA,oBAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EACvB,cAAc,EAAA,QAAA,EAAA,6CAAA,EAAA,MAAA,EAAA,CAAA,sBAAA,EAAA,mBAAA,EAAA,oBAAA,EAAA,4BAAA,CAAA,EAAA,OAAA,EAAA,CAAA,YAAA,EAAA,YAAA,EAAA,YAAA,EAAA,aAAA,CAAA,EAAA,QAAA,EAAA,CAAA,gBAAA,CAAA,EAAA,CAAA,EAAA,CAAA,CAAA;;4FAGL,0BAA0B,EAAA,UAAA,EAAA,CAAA;kBAZtC,SAAS;+BACE,wBAAwB,EAAA,UAAA,EAGtB,IAAI,EAAA,OAAA,EACP;wBACP,iBAAiB;wBACjB,OAAO;wBACP,uBAAuB;wBACvB,cAAc;AACf,qBAAA,EAAA,QAAA,EAAA,8RAAA,EAAA;;;MEdU,WAAW,GAAG,CAAC,IAE3B,KAAe,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,EAAE;;ACQ/D,MAAO,cAAe,SAAQ,aAAa,CAAA;AAC/C,IAAA,IAAI,YAAY,GAAA;QACd,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,IAAI,EAAE;IAC5C;AAKA,IAAA,WAAA,GAAA;AACE,QAAA,KAAK,EAAE;AAJF,QAAA,IAAA,CAAA,IAAI,GAAG,MAAM,CAAC,WAAW,CAAC;AAC1B,QAAA,IAAA,CAAA,WAAW,GAAG,MAAM,CAAC,eAAe,CAAC;QAK1C,IAAI,CAAC,IAAI,CAAC;AACP,aAAA,IAAI,CACH,MAAM,CAAC,aAAa,CAAC,EACrB,QAAQ,CAAC,CAAC,IAAI,KAAK,IAAI,EAAE,GAAG,CAAC,EAC7B,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,EAC5C,GAAG,CAAC,CAAC,IAAI,KAAI;AACX,YAAA,MAAM,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;YACjC,IAAI,IAAI,EAAE;gBACR,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC;YAC1C;AACF,QAAA,CAAC,CAAC;AAEH,aAAA,SAAS,EAAE;QAEd,IAAI,CAAC,IAAI,CAAC;AACP,aAAA,IAAI,CACH,GAAG,CAAC,CAAC,MAAM,KAAI;AACb,YAAA,MAAM,CAAC,QAAQ,CAAC,uCAAuC,EAAE,MAAM,CAAC;AAClE,QAAA,CAAC,CAAC;AAEH,aAAA,SAAS,EAAE;QAEd,IAAI,CAAC,IAAI,CAAC;AACP,aAAA,IAAI,CACH,GAAG,CAAC,CAAC,KAAK,KAAI;AACZ,YAAA,MAAM,CAAC,OAAO,CAAC,qBAAqB,EAAE,KAAK,CAAC;AAC9C,QAAA,CAAC,CAAC;AAEH,aAAA,SAAS,EAAE;QAEd,IAAI,CAAC,IAAI,CAAC;AACP,aAAA,IAAI,CACH,GAAG,CAAC,CAAC,eAAe,KAAI;AACtB,YAAA,IAAI,CAAC,cAAc,CAAC,eAAe,GAAG,eAAe;YACrD,IAAI,eAAe,EAAE;AACnB,gBAAA,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,eAAe,CAAC;YAClE;iBAAO;AACL,gBAAA,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,eAAe,CAAC;YAC5D;AACF,QAAA,CAAC,CAAC;AAEH,aAAA,SAAS,EAAE;IAChB;IAEO,iBAAiB,GAAA;AACtB,QAAA,OAAO,IAAI,CAAC,WAAW,CAAC,iBAAiB,EAAE;IAC7C;AAEO,IAAA,IAAI,KAAI;IACR,KAAK,GAAA;AACV,QAAA,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE;IAC/B;IACO,MAAM,GAAA;AACX,QAAA,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;AAC1B,YAAA,mBAAmB,EAAE;AACnB,gBAAA,WAAW,EAAE,QAAQ;AACtB,aAAA;AACF,SAAA,CAAC;IACJ;IACO,MAAM,GAAA;AACX,QAAA,OAAO,IAAI,OAAO,CAAO,CAAC,OAAO,KAAI;AACnC,YAAA,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AACpB,QAAA,CAAC,CAAC;IACJ;+GA1EW,cAAc,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAd,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,SAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,cAAc,cAFb,MAAM,EAAA,CAAA,CAAA;;4FAEP,cAAc,EAAA,UAAA,EAAA,CAAA;kBAH1B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA;;;MCCY,YAAY,GAAG,CAAC,IAE5B,KAAe;AACd,IAAAC,cAAgB,CAAC,IAAI,CAAC,MAAM,CAAC;AAC7B,IAAA,EAAE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,cAAc,EAAE;AACpD,IAAA;AACE,QAAA,OAAO,EAAE,iBAAiB;AAC1B,QAAA,QAAQ,EAAE,mBAAmB;AAC7B,QAAA,KAAK,EAAE,IAAI;AACZ,KAAA;;;ACvBH;;AAEG;;ACFH;;AAEG;;;;"}