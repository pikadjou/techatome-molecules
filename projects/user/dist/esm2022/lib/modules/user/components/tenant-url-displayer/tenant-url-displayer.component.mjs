import { AsyncPipe } from '@angular/common';
import { Component, Input, inject } from '@angular/core';
import { FontIconComponent } from '@ta/icons';
import { ButtonComponent, ErrorComponent, LoaderComponent } from '@ta/ui';
import { TaBaseComponent, openExternalUrl } from '@ta/utils';
import { CamUsersService } from '../../services/users.service';
import * as i0 from "@angular/core";
export class TenantUrlDisplayerComponent extends TaBaseComponent {
    get contactTenantRoute$() {
        return this._usersService.contactTenantRoute.get$();
    }
    constructor() {
        super();
        this.display = 'icon';
        this._usersService = inject(CamUsersService);
    }
    ngOnInit() {
        this._fetch();
    }
    navigateToTenantContact(url) {
        openExternalUrl(url);
    }
    _fetch() {
        this.requestState.asked();
        this._usersService.fetchContactTenantRoute$(this.contactId).subscribe({
            next: () => {
                this.requestState.completed();
            },
            error: (error) => {
                this.requestState.onError(error.status, error.statusText);
            },
        });
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: TenantUrlDisplayerComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "17.0.0", version: "18.2.13", type: TenantUrlDisplayerComponent, isStandalone: true, selector: "ta-tenant-url-displayer", inputs: { contactId: "contactId", display: "display" }, usesInheritance: true, ngImport: i0, template: "<ta-loader [isLoading]=\"this.requestState.isLoading()\" *ngLet=\"this.contactTenantRoute$ | async as contactTenantRoute\">\n  <ta-error [message]=\"this.requestState.getErrorMessage()\" [code]=\"this.requestState.getErrorStatus()\">\n    @if (this.display === 'icon') {\n      <ta-font-icon\n        [name]=\"'arrow-big-right'\"\n        (click)=\"this.navigateToTenantContact(contactTenantRoute)\"\n      ></ta-font-icon>\n    } @else if (this.display === 'button') {\n      <ta-button [type]=\"'secondary'\" (action)=\"this.navigateToTenantContact(contactTenantRoute)\">\n        <ng-content></ng-content>\n      </ta-button>\n    }\n  </ta-error>\n</ta-loader>\n", styles: [""], dependencies: [{ kind: "pipe", type: AsyncPipe, name: "async" }, { kind: "component", type: FontIconComponent, selector: "ta-font-icon", inputs: ["name", "type"] }, { kind: "component", type: ButtonComponent, selector: "ta-button", inputs: ["state", "type", "size", "icon", "options", "stopPropagationActivation"], outputs: ["action"] }, { kind: "component", type: LoaderComponent, selector: "ta-loader", inputs: ["isLoading", "skeleton"] }, { kind: "component", type: ErrorComponent, selector: "ta-error", inputs: ["message", "code"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: TenantUrlDisplayerComponent, decorators: [{
            type: Component,
            args: [{ selector: 'ta-tenant-url-displayer', standalone: true, imports: [AsyncPipe, FontIconComponent, ButtonComponent, LoaderComponent, ErrorComponent], template: "<ta-loader [isLoading]=\"this.requestState.isLoading()\" *ngLet=\"this.contactTenantRoute$ | async as contactTenantRoute\">\n  <ta-error [message]=\"this.requestState.getErrorMessage()\" [code]=\"this.requestState.getErrorStatus()\">\n    @if (this.display === 'icon') {\n      <ta-font-icon\n        [name]=\"'arrow-big-right'\"\n        (click)=\"this.navigateToTenantContact(contactTenantRoute)\"\n      ></ta-font-icon>\n    } @else if (this.display === 'button') {\n      <ta-button [type]=\"'secondary'\" (action)=\"this.navigateToTenantContact(contactTenantRoute)\">\n        <ng-content></ng-content>\n      </ta-button>\n    }\n  </ta-error>\n</ta-loader>\n" }]
        }], ctorParameters: () => [], propDecorators: { contactId: [{
                type: Input
            }], display: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVuYW50LXVybC1kaXNwbGF5ZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vc3JjL2xpYi9tb2R1bGVzL3VzZXIvY29tcG9uZW50cy90ZW5hbnQtdXJsLWRpc3BsYXllci90ZW5hbnQtdXJsLWRpc3BsYXllci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL21vZHVsZXMvdXNlci9jb21wb25lbnRzL3RlbmFudC11cmwtZGlzcGxheWVyL3RlbmFudC11cmwtZGlzcGxheWVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUU1QyxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFekQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQzlDLE9BQU8sRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLGVBQWUsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUMxRSxPQUFPLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUU3RCxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sOEJBQThCLENBQUM7O0FBUy9ELE1BQU0sT0FBTywyQkFBNEIsU0FBUSxlQUFlO0lBTzlELElBQUksbUJBQW1CO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN0RCxDQUFDO0lBSUQ7UUFDRSxLQUFLLEVBQUUsQ0FBQztRQVRWLFlBQU8sR0FBc0IsTUFBTSxDQUFDO1FBTTVCLGtCQUFhLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBSWhELENBQUM7SUFFRCxRQUFRO1FBQ04sSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFTSx1QkFBdUIsQ0FBQyxHQUFXO1FBQ3hDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN2QixDQUFDO0lBRU8sTUFBTTtRQUNaLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDO1lBQ3BFLElBQUksRUFBRSxHQUFHLEVBQUU7Z0JBQ1QsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNoQyxDQUFDO1lBQ0QsS0FBSyxFQUFFLENBQUMsS0FBd0IsRUFBRSxFQUFFO2dCQUNsQyxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM1RCxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQzsrR0FuQ1UsMkJBQTJCO21HQUEzQiwyQkFBMkIsa0tDakJ4Qyw0cEJBY0EscUREQ1ksU0FBUyw4Q0FBRSxpQkFBaUIsbUZBQUUsZUFBZSw4SkFBRSxlQUFlLHlGQUFFLGNBQWM7OzRGQUU3RSwyQkFBMkI7a0JBUHZDLFNBQVM7K0JBQ0UseUJBQXlCLGNBR3ZCLElBQUksV0FDUCxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLGNBQWMsQ0FBQzt3REFJekYsU0FBUztzQkFEUixLQUFLO2dCQUlOLE9BQU87c0JBRE4sS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jUGlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBIdHRwRXJyb3JSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIGluamVjdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBGb250SWNvbkNvbXBvbmVudCB9IGZyb20gJ0B0YS9pY29ucyc7XG5pbXBvcnQgeyBCdXR0b25Db21wb25lbnQsIEVycm9yQ29tcG9uZW50LCBMb2FkZXJDb21wb25lbnQgfSBmcm9tICdAdGEvdWknO1xuaW1wb3J0IHsgVGFCYXNlQ29tcG9uZW50LCBvcGVuRXh0ZXJuYWxVcmwgfSBmcm9tICdAdGEvdXRpbHMnO1xuXG5pbXBvcnQgeyBDYW1Vc2Vyc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy91c2Vycy5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndGEtdGVuYW50LXVybC1kaXNwbGF5ZXInLFxuICB0ZW1wbGF0ZVVybDogJy4vdGVuYW50LXVybC1kaXNwbGF5ZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90ZW5hbnQtdXJsLWRpc3BsYXllci5jb21wb25lbnQuc2NzcyddLFxuICBzdGFuZGFsb25lOiB0cnVlLFxuICBpbXBvcnRzOiBbQXN5bmNQaXBlLCBGb250SWNvbkNvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50LCBMb2FkZXJDb21wb25lbnQsIEVycm9yQ29tcG9uZW50XSxcbn0pXG5leHBvcnQgY2xhc3MgVGVuYW50VXJsRGlzcGxheWVyQ29tcG9uZW50IGV4dGVuZHMgVGFCYXNlQ29tcG9uZW50IHtcbiAgQElucHV0KClcbiAgY29udGFjdElkITogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIGRpc3BsYXk6ICdidXR0b24nIHwgJ2ljb24nID0gJ2ljb24nO1xuXG4gIGdldCBjb250YWN0VGVuYW50Um91dGUkKCkge1xuICAgIHJldHVybiB0aGlzLl91c2Vyc1NlcnZpY2UuY29udGFjdFRlbmFudFJvdXRlLmdldCQoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VzZXJzU2VydmljZSA9IGluamVjdChDYW1Vc2Vyc1NlcnZpY2UpO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLl9mZXRjaCgpO1xuICB9XG5cbiAgcHVibGljIG5hdmlnYXRlVG9UZW5hbnRDb250YWN0KHVybDogc3RyaW5nKSB7XG4gICAgb3BlbkV4dGVybmFsVXJsKHVybCk7XG4gIH1cblxuICBwcml2YXRlIF9mZXRjaCgpIHtcbiAgICB0aGlzLnJlcXVlc3RTdGF0ZS5hc2tlZCgpO1xuICAgIHRoaXMuX3VzZXJzU2VydmljZS5mZXRjaENvbnRhY3RUZW5hbnRSb3V0ZSQodGhpcy5jb250YWN0SWQpLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVxdWVzdFN0YXRlLmNvbXBsZXRlZCgpO1xuICAgICAgfSxcbiAgICAgIGVycm9yOiAoZXJyb3I6IEh0dHBFcnJvclJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHRoaXMucmVxdWVzdFN0YXRlLm9uRXJyb3IoZXJyb3Iuc3RhdHVzLCBlcnJvci5zdGF0dXNUZXh0KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cbiIsIjx0YS1sb2FkZXIgW2lzTG9hZGluZ109XCJ0aGlzLnJlcXVlc3RTdGF0ZS5pc0xvYWRpbmcoKVwiICpuZ0xldD1cInRoaXMuY29udGFjdFRlbmFudFJvdXRlJCB8IGFzeW5jIGFzIGNvbnRhY3RUZW5hbnRSb3V0ZVwiPlxuICA8dGEtZXJyb3IgW21lc3NhZ2VdPVwidGhpcy5yZXF1ZXN0U3RhdGUuZ2V0RXJyb3JNZXNzYWdlKClcIiBbY29kZV09XCJ0aGlzLnJlcXVlc3RTdGF0ZS5nZXRFcnJvclN0YXR1cygpXCI+XG4gICAgQGlmICh0aGlzLmRpc3BsYXkgPT09ICdpY29uJykge1xuICAgICAgPHRhLWZvbnQtaWNvblxuICAgICAgICBbbmFtZV09XCInYXJyb3ctYmlnLXJpZ2h0J1wiXG4gICAgICAgIChjbGljayk9XCJ0aGlzLm5hdmlnYXRlVG9UZW5hbnRDb250YWN0KGNvbnRhY3RUZW5hbnRSb3V0ZSlcIlxuICAgICAgPjwvdGEtZm9udC1pY29uPlxuICAgIH0gQGVsc2UgaWYgKHRoaXMuZGlzcGxheSA9PT0gJ2J1dHRvbicpIHtcbiAgICAgIDx0YS1idXR0b24gW3R5cGVdPVwiJ3NlY29uZGFyeSdcIiAoYWN0aW9uKT1cInRoaXMubmF2aWdhdGVUb1RlbmFudENvbnRhY3QoY29udGFjdFRlbmFudFJvdXRlKVwiPlxuICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgICA8L3RhLWJ1dHRvbj5cbiAgICB9XG4gIDwvdGEtZXJyb3I+XG48L3RhLWxvYWRlcj5cbiJdfQ==