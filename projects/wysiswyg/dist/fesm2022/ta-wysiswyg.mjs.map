{"version":3,"file":"ta-wysiswyg.mjs","sources":["../../src/lib/modules/wysiswyg/components/block-text/block-text.component.ts","../../src/lib/modules/wysiswyg/components/block-text/block-text.component.html","../../src/lib/modules/wysiswyg/components/plugins/tag-editor/tag-editor.ts","../../src/lib/modules/wysiswyg/components/input/input.component.ts","../../src/lib/modules/wysiswyg/components/input/input.component.html","../../src/lib/modules/wysiswyg/helpers.ts","../../src/lib/modules/wysiswyg/wysiswyg.module.ts","../../src/lib/modules/wysiswyg/public-api.ts","../../src/public-api.ts","../../src/ta-wysiswyg.ts"],"sourcesContent":["import { Component, Input } from '@angular/core';\n\nimport { OutputBlockData } from '@editorjs/editorjs';\n\nimport { ENotificationCode, NotificationInlineComponent } from '@ta/notification';\nimport { TextComponent, TitleComponent, ToastComponent } from '@ta/ui';\nimport { SafePipe, TaBaseComponent } from '@ta/utils';\n\n@Component({\n  selector: 'ta-cms-editor-blocks',\n  templateUrl: './block-text.component.html',\n  styleUrls: ['./block-text.component.scss'],\n  standalone: true,\n  imports: [NotificationInlineComponent, SafePipe, TitleComponent, TextComponent, ToastComponent],\n})\nexport class BlockTextComponent extends TaBaseComponent {\n  @Input()\n  blocks!: OutputBlockData[];\n\n  readonly ENotificationCode = ENotificationCode;\n}\n","@for (block of this.blocks; track block.id) {\n  @switch (block.type) {\n    @case ('header') {\n      <ta-title [level]=\"block.data.level\">\n        {{ block.data.text }}\n      </ta-title>\n    }\n    @case ('paragraph') {\n      <ta-text>\n        <div [innerHTML]=\"block.data.text | safe: 'html'\"></div>\n      </ta-text>\n    }\n    @case ('list') {\n      @if (block.data.style === 'ordered') {\n        <ol>\n          @for (item of block.data.items; track item) {\n            <li>\n              {{ item }}\n            </li>\n          }\n        </ol>\n      } @else if (block.data.style === 'unordered') {\n        <ul>\n          @for (item of block.data.items; track item) {\n            <li>\n              {{ item }}\n            </li>\n          }\n        </ul>\n      }\n    }\n    @case ('delimiter') {\n      <hr />\n    }\n    @case ('image') {\n      <img [src]=\"block.data.file.url\" style=\"max-width: 100%\" />\n    }\n    @case ('quote') {\n      <div class=\"flex-start g-space-xs\">\n        @if (block.data.caption) {\n          <div>{{ block.data.caption }}:</div>\n        }\n        <q [innerHTML]=\"block.data.text | safe: 'html'\"></q>\n      </div>\n    }\n    @case ('warning') {\n      <ta-toast>\n        <ta-notification-inline\n          [message]=\"block.data.message\"\n          [code]=\"this.ENotificationCode.warning\"\n          [showClose]=\"false\"\n        ></ta-notification-inline>\n      </ta-toast>\n    }\n  }\n}\n","import { API, BlockToolConstructorOptions, InlineTool } from '@editorjs/editorjs';\r\nimport { MenuConfig } from '@editorjs/editorjs/types/tools';\r\n\r\ntype User = { id: string; name: string };\r\n\r\nexport class TagTool implements InlineTool {\r\n  static get isInline() {\r\n    return true;\r\n  }\r\n  static get shortcut() {\r\n    return 'CTRL+A';\r\n  }\r\n  static get sanitize() {\r\n    return {\r\n      span: {\r\n        'class': true,\r\n        'data-user-id': true,\r\n      },\r\n    };\r\n  }\r\n\r\n  readonly api: API;\r\n  public users: User[] = [];\r\n\r\n  public dropdown = document.createElement('div');\r\n  public templateTagSpan = document.createElement('span');\r\n\r\n  private _currentTagSpan: null | HTMLSpanElement = null;\r\n\r\n  constructor({ api, config }: BlockToolConstructorOptions<any, { users: User[] }>) {\r\n    this.api = api;\r\n    this.users = config?.users || [];\r\n\r\n    this._initDOM();\r\n  }\r\n\r\n  public render(): MenuConfig {\r\n    return {\r\n      icon: '@',\r\n      label: 'Tag',\r\n      onActivate: () => {\r\n        this._insertTagAtCursor();\r\n      },\r\n    };\r\n  }\r\n\r\n  public surround(range: Range | null) {\r\n    if (!range) {\r\n      return;\r\n    }\r\n\r\n    if (!this._currentTagSpan) {\r\n      return;\r\n    }\r\n    this._currentTagSpan = this.templateTagSpan.cloneNode(true) as typeof this.templateTagSpan;\r\n    range.insertNode(this._currentTagSpan);\r\n\r\n    this._showDropdown();\r\n  }\r\n\r\n  public checkState() {\r\n    return false;\r\n  }\r\n\r\n  public handleKeydown = (event?: Event) => {\r\n    if (!event || !(event instanceof KeyboardEvent)) {\r\n      return;\r\n    }\r\n    if (event.key === '@') {\r\n      event.preventDefault(); // Emp√™che l'insertion du @ par d√©faut\r\n      this._insertTagAtCursor();\r\n      return;\r\n    }\r\n    if (event.key === 'Escape') {\r\n      this._cancelTag();\r\n    }\r\n  };\r\n  public handleTyping = () => {\r\n    if (!this._currentTagSpan) {\r\n      return;\r\n    }\r\n    const text = this._currentTagSpan?.textContent?.trim();\r\n    const query = text?.slice(1).toLowerCase(); // Supprime le @ et met en minuscule\r\n\r\n    const filteredUsers =\r\n      !query || query?.length === 0 ? this.users : this.users.filter(user => user.name.toLowerCase().includes(query));\r\n\r\n    this._updateDropdown(filteredUsers);\r\n  };\r\n  public handleOutsideClick = (event?: Event) => {\r\n    if (!event) {\r\n      return;\r\n    }\r\n    if (this.dropdown.hidden) {\r\n      return;\r\n    }\r\n\r\n    // V√©rifie si le clic n'est PAS sur la dropdown ni sur la mention en cours\r\n    if (!this.dropdown.contains(event.target as Node) && this._currentTagSpan !== event.target) {\r\n      this._cancelTag();\r\n    }\r\n  };\r\n\r\n  private _initDOM() {\r\n    this.templateTagSpan.classList.add('tag-user', 'text-color-text-brand-primary');\r\n    this.templateTagSpan.dataset['userId'] = '';\r\n    this.templateTagSpan.textContent = '@';\r\n\r\n    this.dropdown.classList.add('tag-dropdown', 'p-space-sm', 'bxs-shadow-black-sm');\r\n    this.dropdown.style.position = 'absolute';\r\n    this.dropdown.style.background = 'white';\r\n    this.dropdown.style.zIndex = '1000';\r\n    this.dropdown.style.maxHeight = '150px';\r\n    this.dropdown.style.overflowY = 'auto';\r\n\r\n    const editorDiv = document.body.querySelector('.editor-container');\r\n    if (editorDiv) {\r\n      this.api.listeners.on(editorDiv, 'keydown', this.handleKeydown);\r\n      this.api.listeners.on(editorDiv, 'input', this.handleTyping);\r\n    }\r\n\r\n    this.api.listeners.on(document.body, 'click', this.handleOutsideClick);\r\n  }\r\n  private _insertTagAtCursor() {\r\n    const selection = window.getSelection();\r\n    if (!selection) {\r\n      return;\r\n    }\r\n\r\n    const range = selection.getRangeAt(0);\r\n\r\n    if (!range) {\r\n      return;\r\n    }\r\n\r\n    this._currentTagSpan = this.templateTagSpan.cloneNode(true) as typeof this.templateTagSpan;\r\n\r\n    range.insertNode(this._currentTagSpan);\r\n    range.setStartAfter(this._currentTagSpan);\r\n    range.setEndAfter(this._currentTagSpan);\r\n    selection.removeAllRanges();\r\n    selection.addRange(range);\r\n\r\n    this._showDropdown();\r\n  }\r\n  private _showDropdown() {\r\n    if (!this._currentTagSpan) {\r\n      return;\r\n    }\r\n    this._updateDropdown(this.users);\r\n\r\n    document.body.appendChild(this.dropdown);\r\n    const rect = this._currentTagSpan.getBoundingClientRect();\r\n    this.dropdown.style.top = `${rect.bottom + window.scrollY}px`;\r\n    this.dropdown.style.left = `${rect.left + window.scrollX}px`;\r\n  }\r\n\r\n  private _hideDropdown() {\r\n    document.body.removeChild(this.dropdown);\r\n  }\r\n\r\n  private _updateDropdown(users: User[]) {\r\n    this.dropdown.innerHTML = '';\r\n\r\n    if (users.length === 0) {\r\n      const noResult = document.createElement('div');\r\n      noResult.textContent = 'Aucun r√©sultat';\r\n      noResult.style.padding = '5px';\r\n      this.dropdown.appendChild(noResult);\r\n      return;\r\n    }\r\n\r\n    users.forEach((user, index) => {\r\n      const option = document.createElement('div');\r\n      option.textContent = user.name;\r\n      option.style.padding = '5px';\r\n      option.style.cursor = 'pointer';\r\n      option.dataset['index'] = index.toString();\r\n\r\n      option.addEventListener('click', () => this._selectUser(user));\r\n\r\n      this.dropdown.appendChild(option);\r\n    });\r\n  }\r\n\r\n  private _selectUser(user: User) {\r\n    if (!this._currentTagSpan) {\r\n      return;\r\n    }\r\n\r\n    // Remplace le contenu du span avec le nom s√©lectionn√©\r\n    this._currentTagSpan.textContent = `@${user.name}`;\r\n    this._currentTagSpan.dataset['userId'] = user.id;\r\n\r\n    // Ins√®re un n≈ìud texte apr√®s la tag pour √©viter de garder le style\r\n    const textNode = document.createTextNode('\\u00A0'); // Un espace pour √©viter que le curseur colle\r\n    this._currentTagSpan.after(textNode);\r\n\r\n    // üî• D√©place le curseur apr√®s la tag pour continuer √† √©crire normalement\r\n    const range = document.createRange();\r\n    const selection = window.getSelection();\r\n    range.setStartAfter(textNode);\r\n    range.collapse(true);\r\n    selection?.removeAllRanges();\r\n    selection?.addRange(range);\r\n\r\n    // Cache la dropdown et r√©initialise\r\n    this._currentTagSpan = null;\r\n    this._hideDropdown();\r\n  }\r\n\r\n  private _cancelTag() {\r\n    if (!this._currentTagSpan) {\r\n      return;\r\n    }\r\n\r\n    // R√©cup√®re le texte √† l'int√©rieur de la span\r\n    const textContent = this._currentTagSpan.textContent || '';\r\n\r\n    // Cr√©e un n≈ìud texte avec le m√™me contenu\r\n    const textNode = document.createTextNode(textContent);\r\n\r\n    // Remplace la span par le texte brut\r\n    this._currentTagSpan.replaceWith(textNode);\r\n\r\n    // R√©initialise la r√©f√©rence\r\n    this._currentTagSpan = null;\r\n    this._hideDropdown();\r\n  }\r\n}\r\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n  inject,\n} from '@angular/core';\n\nimport Delimiter from '@editorjs/delimiter';\nimport EditorJS from '@editorjs/editorjs';\nimport Header from '@editorjs/header';\n// @ts-ignore\nimport ImageTool from '@editorjs/image';\nimport List from '@editorjs/list';\nimport Quote from '@editorjs/quote';\nimport Warning from '@editorjs/warning';\nimport { ColorTool } from 'editorjs-color';\nimport { Observable, firstValueFrom } from 'rxjs';\n\nimport { TaDocumentsService } from '@ta/services';\nimport { TaTranslationService } from '@ta/translation';\nimport { TaBaseComponent, isNonNullable, isNotEmptyObject } from '@ta/utils';\n\nimport { WysiswgBlockData, convertBlocksToHtml } from '../../public-api';\nimport { TagTool } from '../plugins/tag-editor/tag-editor';\nimport * as en from './translation/en.json';\nimport * as es from './translation/es.json';\nimport * as fr from './translation/fr.json';\nimport * as nl from './translation/nl.json';\n\nexport type EditorInputSavedData = { blocks: WysiswgBlockData[]; tags: string[] };\n@Component({\n  selector: 'ta-cms-editor-input',\n  templateUrl: './input.component.html',\n  styleUrls: ['./input.component.scss'],\n  standalone: true,\n})\nexport class EditorInputComponent extends TaBaseComponent implements OnInit, AfterViewInit {\n  @Input()\n  initValue?: WysiswgBlockData[] | null;\n\n  @Input()\n  setNewValue$?: Observable<{ blocks: WysiswgBlockData[] | string | null; saveAfter?: boolean }>;\n\n  @Input()\n  requestSave$?: Observable<void>;\n\n  @Input()\n  clear$?: Observable<void>;\n\n  @Input()\n  users: { id: string; name: string }[] = [];\n\n  @Input()\n  saveOnChange = false;\n\n  @Input()\n  maxHeight = false;\n\n  @Output()\n  changed = new EventEmitter<{ blocks: WysiswgBlockData[] }>();\n\n  @Output()\n  saved = new EventEmitter<EditorInputSavedData>();\n\n  public translationService = inject(TaTranslationService);\n  public readonly languages: {\n    [index: string]: { editorjs: { i18n: Object } & any };\n  } = {\n    en: en,\n    es: es,\n    fr: fr,\n    nl: nl,\n  };\n\n  private readonly _documentsService = inject(TaDocumentsService);\n  private _saveAfter = false;\n\n  @ViewChild('editorjs', { static: true })\n  editorjs!: ElementRef;\n\n  public editorInstance: EditorJS | null = null;\n  constructor() {\n    super();\n  }\n\n  ngOnInit() {\n    if (this.requestSave$) {\n      this._registerSubscription(\n        this.requestSave$?.subscribe({\n          next: () => this.save(),\n        })\n      );\n    }\n    if (this.clear$) {\n      this._registerSubscription(\n        this.clear$?.subscribe({\n          next: () => this.editorInstance?.clear(),\n        })\n      );\n    }\n    if (this.setNewValue$) {\n      this._registerSubscription(\n        this.setNewValue$?.subscribe({\n          next: ({ blocks, saveAfter }) => {\n            this._saveAfter = saveAfter ?? false;\n            if (this.editorInstance && blocks) {\n              if (typeof blocks === 'string') {\n                this.editorInstance.blocks.renderFromHTML(blocks);\n              } else {\n                this.editorInstance.render({ blocks: blocks });\n              }\n            }\n          },\n        })\n      );\n    }\n  }\n\n  ngAfterViewInit() {\n    this.editorInstance = this.init();\n  }\n\n  override ngOnDestroy(): void {\n    this.editorInstance?.destroy();\n  }\n  public async save() {\n    if (isNotEmptyObject(this.editorInstance)) {\n      const data = await this._extractWithColorTokenStyles();\n      if (!data) {\n        return;\n      }\n      this.saved.emit({ blocks: data.blocks, tags: this._extractTags(data.blocks) });\n    }\n  }\n  public init(): EditorJS {\n    const translations = this._getTranslation();\n\n    return new EditorJS({\n      holder: this.editorjs.nativeElement,\n      minHeight: 100,\n      data: { blocks: this.initValue },\n      placeholder: translations['placeholder'],\n      tools: {\n        header: Header,\n        list: List,\n        quote: Quote,\n        delimiter: Delimiter,\n        warning: Warning,\n        TextColor: {\n          class: ColorTool,\n          config: {\n            backgroundColorLabel: translations['colortool.backgroundColorLabel'],\n            frontColorLabel: translations['colortool.frontColorLabel'],\n          },\n        },\n        image: {\n          class: ImageTool,\n          config: {\n            uploader: {\n              uploadByFile: async (file: File) => {\n                return this.uploadByFile(file);\n              },\n            },\n          },\n        },\n        mention: {\n          class: TagTool,\n          config: {\n            users: this.users,\n          },\n        },\n      },\n      onChange: this._onChange,\n      ...translations,\n    });\n  }\n\n  public uploadByFile = async (file: File) => {\n    const doc = await firstValueFrom(this._documentsService.addDocument$({ file }));\n\n    return {\n      success: 1,\n      file: {\n        url: doc.url,\n      },\n    };\n  };\n\n  private _onChange = async () => {\n    if (isNotEmptyObject(this.editorInstance)) {\n      const data = await this._extractWithColorTokenStyles();\n      if (!data) {\n        return;\n      }\n      this.changed.emit({ blocks: data.blocks });\n    }\n    if (this.saveOnChange) {\n      this.save();\n    }\n    if (this._saveAfter) {\n      this.save();\n      this._saveAfter = false;\n    }\n  };\n  private _getTranslation() {\n    if (!isNonNullable(this.translationService.getLanguage())) {\n      return {};\n    }\n    return this.languages[this.translationService.getLanguage()].editorjs ?? {};\n  }\n\n  private async _extractWithColorTokenStyles() {\n    const output = await this.editorInstance?.save();\n    if (!output) {\n      return null;\n    }\n\n    const styledSpans = Array.from(\n      this.editorjs.nativeElement.innerHTML.matchAll(/<span class=\"ce-inline-tool--color__token\"(.*?)>/gs)\n    ).map((match: any) => ({\n      style: match[1].trim(), // `style`\n    }));\n\n    if (styledSpans.length === 0) {\n      return output;\n    }\n\n    let spanIndex = 0;\n    const updatedBlocks = output.blocks.map(block => {\n      if (block.type !== 'paragraph' || !block.data?.text) {\n        return block;\n      }\n\n      const newText = block.data.text.replace(/<span class=\"ce-inline-tool--color__token\">/gs, (match: unknown) => {\n        const styled = styledSpans[spanIndex++];\n        if (!styled) {\n          return match;\n        }\n        return `<span class=\"ce-inline-tool--color__token\" ${styled.style}>`;\n      });\n\n      return {\n        ...block,\n        data: {\n          ...block.data,\n          text: newText,\n        },\n      };\n    });\n\n    return {\n      ...output,\n      blocks: updatedBlocks,\n    };\n  }\n  private _extractTags(blocks: WysiswgBlockData<string, any>[]) {\n    const html = convertBlocksToHtml(blocks);\n    const regex = /data-user-id=\"([^\"]+)\"/g;\n    // Extraction des IDs sous forme de tableau\n    return [...html.matchAll(regex)].map(match => match[1]);\n  }\n}\n","<div class=\"flex-column g-space-md\">\n  <div\n    #editorjs\n    class=\"editor-container\"\n    [class.max-height]=\"this.maxHeight\"\n  ></div>\n</div>\n","import edjsHTML from 'editorjs-html';\n\nimport { WysiswgBlockData } from './public-api';\n\nexport const convertBlocksToHtml = (blocks: WysiswgBlockData[]) => {\n  const edjsParser = edjsHTML();\n\n  return edjsParser.parse({ blocks }).join(' ');\n};\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { TaNotificationModule } from '@ta/notification';\nimport { TaUiModule } from '@ta/ui';\nimport { SafePipe } from '@ta/utils';\n\nimport { BlockTextComponent } from './components/block-text/block-text.component';\nimport { EditorInputComponent } from './components/input/input.component';\n\n/**\n * @deprecated Use standalone components instead.\n * This module will be removed in a future version.\n *\n * @example\n * // Instead of importing the module:\n * // import { TaWysiswygModule } from '@ta/library-name';\n *\n * // Import the standalone components directly:\n * import { BlockTextComponent, EditorInputComponent } from '@ta/library-name';\n */\n@NgModule({\n  declarations: [],\n  imports: [CommonModule, TaUiModule, TaNotificationModule, SafePipe, BlockTextComponent, EditorInputComponent],\n  exports: [BlockTextComponent, EditorInputComponent],\n})\nexport class TaWysiswygModule {}\n","/*\n * Public API Surface of cms\n */\n\nexport { OutputBlockData as WysiswgBlockData } from '@editorjs/editorjs';\n\nexport * from './components/block-text/block-text.component';\nexport * from './components/input/input.component';\n\nexport * from './helpers';\n\nexport * from './wysiswyg.module';\n","/*\n * Public API Surface of wysiswyg\n */\n\nexport * from './lib/modules/wysiswyg/public-api';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["en","es","fr","nl"],"mappings":"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"}